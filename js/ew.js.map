{"version":3,"file":"ew.js","sources":["../../node_modules/regenerator-runtime/runtime.js","../../node_modules/@babel/runtime/regenerator/index.js","../../build/js/FormData.js","../../build/js/multipage.js","../../build/js/Validators.js","../../node_modules/@babel/runtime/helpers/createClass.js","../../node_modules/@babel/runtime/helpers/assertThisInitialized.js","../../node_modules/@babel/runtime/helpers/inheritsLoose.js","../../node_modules/@babel/runtime/helpers/defineProperty.js","../../build/js/FormBase.js","../../build/js/Field.js","../../build/js/Form.js","../../build/js/AjaxLookup.js","../../build/js/SelectionListOption.js","../../build/js/AutoSuggest.js","../../build/js/Forms.js","../../build/js/Select2CustomOption.js","../../build/js/functions.js","../../build/js/main.js","../../build/js/jquery.js","../../build/js/fields.js","../../build/js/adminlte.js"],"sourcesContent":["/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","module.exports = require(\"regenerator-runtime\");\n","/* global FormData self Blob File */\r\n/* eslint-disable no-inner-declarations */\r\n\r\nif (typeof Blob !== 'undefined' && (typeof FormData === 'undefined' || !FormData.prototype.keys)) {\r\n  const global = typeof window === 'object'\r\n    ? window\r\n    : typeof self === 'object' ? self : this\r\n\r\n  // keep a reference to native implementation\r\n  const _FormData = global.FormData\r\n\r\n  // To be monkey patched\r\n  const _send = global.XMLHttpRequest && global.XMLHttpRequest.prototype.send\r\n  const _fetch = global.Request && global.fetch\r\n  const _sendBeacon = global.navigator && global.navigator.sendBeacon\r\n\r\n  // Unable to patch Request constructor correctly\r\n  // const _Request = global.Request\r\n  // only way is to use ES6 class extend\r\n  // https://github.com/babel/babel/issues/1966\r\n\r\n  const stringTag = global.Symbol && Symbol.toStringTag\r\n\r\n  // Add missing stringTags to blob and files\r\n  if (stringTag) {\r\n    if (!Blob.prototype[stringTag]) {\r\n      Blob.prototype[stringTag] = 'Blob'\r\n    }\r\n\r\n    if ('File' in global && !File.prototype[stringTag]) {\r\n      File.prototype[stringTag] = 'File'\r\n    }\r\n  }\r\n\r\n  // Fix so you can construct your own File\r\n  try {\r\n    new File([], '') // eslint-disable-line\r\n  } catch (a) {\r\n    global.File = function File (b, d, c) {\r\n      const blob = new Blob(b, c)\r\n      const t = c && void 0 !== c.lastModified ? new Date(c.lastModified) : new Date()\r\n\r\n      Object.defineProperties(blob, {\r\n        name: {\r\n          value: d\r\n        },\r\n        lastModifiedDate: {\r\n          value: t\r\n        },\r\n        lastModified: {\r\n          value: +t\r\n        },\r\n        toString: {\r\n          value () {\r\n            return '[object File]'\r\n          }\r\n        }\r\n      })\r\n\r\n      if (stringTag) {\r\n        Object.defineProperty(blob, stringTag, {\r\n          value: 'File'\r\n        })\r\n      }\r\n\r\n      return blob\r\n    }\r\n  }\r\n\r\n  function normalizeValue ([value, filename]) {\r\n    if (value instanceof Blob) {\r\n      // Should always returns a new File instance\r\n      // console.assert(fd.get(x) !== fd.get(x))\r\n      value = new File([value], filename, {\r\n        type: value.type,\r\n        lastModified: value.lastModified\r\n      })\r\n    }\r\n\r\n    return value\r\n  }\r\n\r\n  function ensureArgs (args, expected) {\r\n    if (args.length < expected) {\r\n      throw new TypeError(`${expected} argument required, but only ${args.length} present.`)\r\n    }\r\n  }\r\n\r\n  function normalizeArgs (name, value, filename) {\r\n    return value instanceof Blob\r\n      // normalize name and filename if adding an attachment\r\n      ? [String(name), value, filename !== undefined\r\n        ? filename + '' // Cast filename to string if 3th arg isn't undefined\r\n        : typeof value.name === 'string' // if name prop exist\r\n          ? value.name // Use File.name\r\n          : 'blob'] // otherwise fallback to Blob\r\n\r\n      // If no attachment, just cast the args to strings\r\n      : [String(name), String(value)]\r\n  }\r\n\r\n  // normalize linefeeds for textareas\r\n  // https://html.spec.whatwg.org/multipage/form-elements.html#textarea-line-break-normalisation-transformation\r\n  function normalizeLinefeeds (value) {\r\n    return value.replace(/\\r\\n/g, '\\n').replace(/\\n/g, '\\r\\n')\r\n  }\r\n\r\n  function each (arr, cb) {\r\n    for (let i = 0; i < arr.length; i++) {\r\n      cb(arr[i])\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @implements {Iterable}\r\n   */\r\n  class FormDataPolyfill {\r\n    /**\r\n     * FormData class\r\n     *\r\n     * @param {HTMLElement=} form\r\n     */\r\n    constructor (form) {\r\n      this._data = Object.create(null)\r\n\r\n      if (!form) return this\r\n\r\n      const self = this\r\n\r\n      each(form.elements, elm => {\r\n        if (!elm.name || elm.disabled || elm.type === 'submit' || elm.type === 'button') return\r\n\r\n        if (elm.type === 'file') {\r\n          const files = elm.files && elm.files.length\r\n            ? elm.files\r\n            : [new File([], '', { type: 'application/octet-stream' })] // #78\r\n\r\n          each(files, file => {\r\n            self.append(elm.name, file)\r\n          })\r\n        } else if (elm.type === 'select-multiple' || elm.type === 'select-one') {\r\n          each(elm.options, opt => {\r\n            !opt.disabled && opt.selected && self.append(elm.name, opt.value)\r\n          })\r\n        } else if (elm.type === 'checkbox' || elm.type === 'radio') {\r\n          if (elm.checked) self.append(elm.name, elm.value)\r\n        } else {\r\n          const value = elm.type === 'textarea' ? normalizeLinefeeds(elm.value) : elm.value\r\n          self.append(elm.name, value)\r\n        }\r\n      })\r\n    }\r\n\r\n    /**\r\n     * Append a field\r\n     *\r\n     * @param   {string}           name      field name\r\n     * @param   {string|Blob|File} value     string / blob / file\r\n     * @param   {string=}          filename  filename to use with blob\r\n     * @return  {undefined}\r\n     */\r\n    append (name, value, filename) {\r\n      ensureArgs(arguments, 2)\r\n      ;[name, value, filename] = normalizeArgs.apply(null, arguments)\r\n      const map = this._data\r\n\r\n      if (!map[name]) map[name] = []\r\n\r\n      map[name].push([value, filename])\r\n    }\r\n\r\n    /**\r\n     * Delete all fields values given name\r\n     *\r\n     * @param   {string}  name  Field name\r\n     * @return  {undefined}\r\n     */\r\n    delete (name) {\r\n      ensureArgs(arguments, 1)\r\n      delete this._data[String(name)]\r\n    }\r\n\r\n    /**\r\n     * Iterate over all fields as [name, value]\r\n     *\r\n     * @return {Iterator}\r\n     */\r\n    * entries () {\r\n      const map = this._data\r\n\r\n      for (const name in map) {\r\n        for (const value of map[name]) {\r\n          yield [name, normalizeValue(value)]\r\n        }\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Iterate over all fields\r\n     *\r\n     * @param   {Function}  callback  Executed for each item with parameters (value, name, thisArg)\r\n     * @param   {Object=}   thisArg   `this` context for callback function\r\n     * @return  {undefined}\r\n     */\r\n    forEach (callback, thisArg) {\r\n      ensureArgs(arguments, 1)\r\n      for (const [name, value] of this) {\r\n        callback.call(thisArg, value, name, this)\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Return first field value given name\r\n     * or null if non existen\r\n     *\r\n     * @param   {string}  name      Field name\r\n     * @return  {string|File|null}  value Fields value\r\n     */\r\n    get (name) {\r\n      ensureArgs(arguments, 1)\r\n      const map = this._data\r\n      name = String(name)\r\n      return map[name] ? normalizeValue(map[name][0]) : null\r\n    }\r\n\r\n    /**\r\n     * Return all fields values given name\r\n     *\r\n     * @param   {string}  name  Fields name\r\n     * @return  {Array}         [{String|File}]\r\n     */\r\n    getAll (name) {\r\n      ensureArgs(arguments, 1)\r\n      return (this._data[String(name)] || []).map(normalizeValue)\r\n    }\r\n\r\n    /**\r\n     * Check for field name existence\r\n     *\r\n     * @param   {string}   name  Field name\r\n     * @return  {boolean}\r\n     */\r\n    has (name) {\r\n      ensureArgs(arguments, 1)\r\n      return String(name) in this._data\r\n    }\r\n\r\n    /**\r\n     * Iterate over all fields name\r\n     *\r\n     * @return {Iterator}\r\n     */\r\n    * keys () {\r\n      for (const [name] of this) {\r\n        yield name\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Overwrite all values given name\r\n     *\r\n     * @param   {string}    name      Filed name\r\n     * @param   {string}    value     Field value\r\n     * @param   {string=}   filename  Filename (optional)\r\n     * @return  {undefined}\r\n     */\r\n    set (name, value, filename) {\r\n      ensureArgs(arguments, 2)\r\n      const args = normalizeArgs.apply(null, arguments)\r\n      this._data[args[0]] = [[args[1], args[2]]]\r\n    }\r\n\r\n    /**\r\n     * Iterate over all fields\r\n     *\r\n     * @return {Iterator}\r\n     */\r\n    * values () {\r\n      for (const [, value] of this) {\r\n        yield value\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Return a native (perhaps degraded) FormData with only a `append` method\r\n     * Can throw if it's not supported\r\n     *\r\n     * @return {FormData}\r\n     */\r\n    ['_asNative'] () {\r\n      const fd = new _FormData()\r\n\r\n      for (const [name, value] of this) {\r\n        fd.append(name, value)\r\n      }\r\n\r\n      return fd\r\n    }\r\n\r\n    /**\r\n     * [_blob description]\r\n     *\r\n     * @return {Blob} [description]\r\n     */\r\n    ['_blob'] () {\r\n      const boundary = '----formdata-polyfill-' + Math.random()\r\n      const chunks = []\r\n\r\n      for (const [name, value] of this) {\r\n        chunks.push(`--${boundary}\\r\\n`)\r\n\r\n        if (value instanceof Blob) {\r\n          chunks.push(\r\n            `Content-Disposition: form-data; name=\"${name}\"; filename=\"${value.name}\"\\r\\n`,\r\n            `Content-Type: ${value.type || 'application/octet-stream'}\\r\\n\\r\\n`,\r\n            value,\r\n            '\\r\\n'\r\n          )\r\n        } else {\r\n          chunks.push(\r\n            `Content-Disposition: form-data; name=\"${name}\"\\r\\n\\r\\n${value}\\r\\n`\r\n          )\r\n        }\r\n      }\r\n\r\n      chunks.push(`--${boundary}--`)\r\n\r\n      return new Blob(chunks, {\r\n        type: 'multipart/form-data; boundary=' + boundary\r\n      })\r\n    }\r\n\r\n    /**\r\n     * The class itself is iterable\r\n     * alias for formdata.entries()\r\n     *\r\n     * @return  {Iterator}\r\n     */\r\n    [Symbol.iterator] () {\r\n      return this.entries()\r\n    }\r\n\r\n    /**\r\n     * Create the default string description.\r\n     *\r\n     * @return  {string} [object FormData]\r\n     */\r\n    toString () {\r\n      return '[object FormData]'\r\n    }\r\n  }\r\n\r\n  if (stringTag) {\r\n    /**\r\n     * Create the default string description.\r\n     * It is accessed internally by the Object.prototype.toString().\r\n     */\r\n    FormDataPolyfill.prototype[stringTag] = 'FormData'\r\n  }\r\n\r\n  // Patch xhr's send method to call _blob transparently\r\n  if (_send) {\r\n    const setRequestHeader = global.XMLHttpRequest.prototype.setRequestHeader\r\n\r\n    /**\r\n     * @param {string} name\r\n     * @param {string} value\r\n     * @returns {undefined}\r\n     * @see https://xhr.spec.whatwg.org/#dom-xmlhttprequest-setrequestheader\r\n     */\r\n    global.XMLHttpRequest.prototype.setRequestHeader = function (name, value) {\r\n      setRequestHeader.call(this, name, value)\r\n      if (name.toLowerCase() === 'content-type') this._hasContentType = true\r\n    }\r\n\r\n    /**\r\n     * @param {ArrayBuffer|ArrayBufferView|Blob|Document|FormData|string=} data\r\n     * @return {undefined}\r\n     * @see https://xhr.spec.whatwg.org/#the-send()-method\r\n     */\r\n    global.XMLHttpRequest.prototype.send = function (data) {\r\n      // need to patch send b/c old IE don't send blob's type (#44)\r\n      if (data instanceof FormDataPolyfill) {\r\n        const blob = data['_blob']()\r\n        if (!this._hasContentType) this.setRequestHeader('Content-Type', blob.type)\r\n        _send.call(this, blob)\r\n      } else {\r\n        _send.call(this, data)\r\n      }\r\n    }\r\n  }\r\n\r\n  // Patch fetch's function to call _blob transparently\r\n  if (_fetch) {\r\n    const _fetch = global.fetch\r\n\r\n    global.fetch = function (input, init) {\r\n      if (init && init.body && init.body instanceof FormDataPolyfill) {\r\n        init.body = init.body['_blob']()\r\n      }\r\n\r\n      return _fetch.call(this, input, init)\r\n    }\r\n  }\r\n\r\n  // Patch navigator.sendBeacon to use native FormData\r\n  if (_sendBeacon) {\r\n    global.navigator.sendBeacon = function (url, data) {\r\n      if (data instanceof FormDataPolyfill) {\r\n        data = data['_asNative']()\r\n      }\r\n      return _sendBeacon.call(this, url, data)\r\n    }\r\n  }\r\n\r\n  global['FormData'] = FormDataPolyfill\r\n}\r\n","import $ from \"jquery\";\r\n\r\nexport default function MultiPage(formid) {\r\n\tvar self = this;\r\n\tthis.$form = null;\r\n\tthis.formID = formid;\r\n\tthis.pageIndex = 1;\r\n\tthis.maxPageIndex = 0;\r\n\tthis.minPageIndex = 0;\r\n\tthis.pageIndexes = [];\r\n\tthis.$pages = null;\r\n\tthis.$collapses = null;\r\n\tthis.isTab = false; // Is tabs\r\n\tthis.isCollapse = false; // Is collapses (accordion)\r\n\tthis.lastPageSubmit = false; // Enable submit button for the last page only\r\n\tthis.hideDisabledButton = false; // Hide disabled submit button\r\n\tthis.hideInactivePages = false; // Hide inactive pages\r\n\tthis.lockTabs = false; // Set inactive tabs as disabled\r\n\tthis.hideTabs = false; // Hide all tabs\r\n\tthis.showPagerTop = false; // Show pager at top\r\n\tthis.showPagerBottom = false; // Show pager at bottom\r\n\tthis.pagerTemplate = '<nav><ul class=\"pagination\"><li class=\"page-item previous ew-prev\"><a href=\"#\" class=\"page-link\"><span class=\"icon-prev\"></span> {Prev}</a></li><li class=\"page-item next ew-next\"><a href=\"#\" class=\"page-link\">{Next} <span class=\"icon-next\"></span></a></li></ul></nav>'; // Pager template\r\n\r\n\t// \"show\" handler (for disabled tabs)\r\n\tvar _show = function(e) {\r\n\t\te.preventDefault();\r\n\t};\r\n\r\n\t// Set properties\r\n\tvar _properties = [\"lastPageSubmit\", \"hideDisabledButton\", \"hideInactivePages\", \"lockTabs\",\r\n\t\t\"hideTabs\", \"showPagerTop\", \"showPagerBottom\", \"pagerTemplate\"];\r\n\r\n\tthis.set = function() {\r\n\t\tif (arguments.length == 1 && $.isObject(arguments[0])) {\r\n\t\t\tvar obj = arguments[0];\r\n\t\t\tfor (var i in obj) {\r\n\t\t\t\tvar p = i[0].toLowerCase() + i.substr(1); // Camel case\r\n\t\t\t\tif (_properties.includes(p))\r\n\t\t\t\t\tthis[p] = obj[i];\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// DOM loaded\r\n\tthis.init = function() {\r\n\t\tvar tpl = this.pagerTemplate.replace(/\\{prev\\}/i, ew.language.phrase(\"Prev\")).replace(/\\{next\\}/i, ew.language.phrase(\"Next\"));\r\n\t\tif (this.isTab) {\r\n\t\t\tif (this.showPagerTop)\r\n\t\t\t\tthis.$pages.closest(\".tabbable, .ew-nav-tabs\").before(tpl);\r\n\t\t\tif (this.showPagerBottom)\r\n\t\t\t\tthis.$pages.closest(\".tabbable, .ew-nav-tabs\").after(tpl);\r\n\t\t\tthis.$form.find(\".ew-prev\").click(function(e) {\r\n\t\t\t\tself.$pages.off(\"show.bs.tab\", _show).filter(\".active\").parent()\r\n\t\t\t\t\t.prev(\":has([data-toggle=tab]:not(.ew-hidden):not(.ew-disabled))\")\r\n\t\t\t\t\t.find(\"[data-toggle=tab]\").toggleClass(\"disabled d-none\", false).click();\r\n\t\t\t\treturn false;\r\n\t\t\t});\r\n\t\t\tthis.$form.find(\".ew-next\").click(function(e) {\r\n\t\t\t\tself.$pages.off(\"show.bs.tab\", _show).filter(\".active\").parent()\r\n\t\t\t\t\t.next(\":has([data-toggle=tab]:not(.ew-hidden):not(.ew-disabled))\")\r\n\t\t\t\t\t.find(\"[data-toggle=tab]\").toggleClass(\"disabled d-none\", false).click();\r\n\t\t\t\treturn false;\r\n\t\t\t});\r\n\t\t\tif (this.hideTabs)\r\n\t\t\t\tthis.$form.find(\".ew-multi-page > .tabbable > .nav-tabs, .ew-multi-page > .ew-nav-tabs > .nav-tabs\").hide();\r\n\t\t} else if (this.isCollapse) {\r\n\t\t\tif (this.showPagerTop)\r\n\t\t\t\tthis.$collapses.closest(\".ew-accordion\").before(tpl);\r\n\t\t\tif (this.showPagerBottom)\r\n\t\t\t\tthis.$collapses.closest(\".ew-accordion\").after(tpl);\r\n\t\t\tthis.$form.find(\".ew-prev\").click(function(e) {\r\n\t\t\t\tself.$pages.closest(\".card\").filter(\":has(.collapse.show)\")\r\n\t\t\t\t\t.prev(\":has([data-toggle=collapse]:not(.ew-hidden):not(.ew-disabled))\")\r\n\t\t\t\t\t.toggleClass(\"disabled d-none\", false)\r\n\t\t\t\t\t.find(\"[data-toggle=collapse]\").click();\r\n\t\t\t\treturn false;\r\n\t\t\t});\r\n\t\t\tthis.$form.find(\".ew-next\").click(function(e) {\r\n\t\t\t\tself.$pages.closest(\".card\").filter(\":has(.collapse.show)\")\r\n\t\t\t\t\t.next(\":has([data-toggle=collapse]:not(.ew-hidden):not(.ew-disabled))\")\r\n\t\t\t\t\t.toggleClass(\"disabled d-none\", false)\r\n\t\t\t\t\t.find(\"[data-toggle=collapse]\").click();\r\n\t\t\t\treturn false;\r\n\t\t\t});\r\n\t\t}\r\n\t\tthis.pageShow();\r\n\t}\r\n\r\n\t// Page show\r\n\tthis.pageShow = function() {\r\n\t\tif (this.isTab) {\r\n\t\t\tif (this.lockTabs)\r\n\t\t\t\tthis.$pages.on(\"show.bs.tab\", _show);\r\n\t\t\tthis.$pages.each(function() {\r\n\t\t\t\tvar $this = $(this);\r\n\t\t\t\tif (self.hideInactivePages)\r\n\t\t\t\t\t$this.toggleClass(\"d-none\", !$this.hasClass(\"active\"));\r\n\t\t\t\tif (self.lockTabs)\r\n\t\t\t\t\t$this.toggleClass(\"disabled\", !$this.hasClass(\"active\"));\r\n\t\t\t});\r\n\t\t} else if (this.isCollapse) {\r\n\t\t\tthis.$pages.closest(\".card\").each(function() {\r\n\t\t\t\tvar $this = $(this);\r\n\t\t\t\tif (self.hideInactivePages)\r\n\t\t\t\t\t$this.toggleClass(\"d-none\", !$this.find(\".collapse.show\")[0]);\r\n\t\t\t});\r\n\t\t}\r\n\t\tvar disabled = this.lastPageSubmit && this.pageIndex != this.maxPageIndex;\r\n\t\tvar $btn = this.$form.closest(\".content, .modal-content\").find(\"#btn-action, button.ew-submit\").prop(\"disabled\", disabled).toggle(!this.hideDisabledButton || !disabled);\r\n\t\t$(\".ew-captcha\").toggle($btn.is(\":visible:not(:disabled)\")); // Re-captcha uses class \"disabled\", not \"disabled\" property.\r\n\t\tdisabled = this.pageIndex <= this.minPageIndex;\r\n\t\tthis.$form.find(\".ew-prev\").toggleClass(\"disabled\", disabled);\r\n\t\tdisabled = this.pageIndex >= this.maxPageIndex;\r\n\t\tthis.$form.find(\".ew-next\").toggleClass(\"disabled\", disabled);\r\n\t}\r\n\r\n\t// Go to page by index\r\n\tthis.gotoPage = function(i) {\r\n\t\tif (i <= 0 || i < this.minPageIndex || i > this.maxPageIndex)\r\n\t\t\treturn;\r\n\t\tif (this.pageIndex != i) {\r\n\t\t\tvar $page = this.$pages.eq(i - 1);\r\n\t\t\tif (this.isTab) {\r\n\t\t\t\tif ($page.is(\":not(.d-none):not(.disabled)\"))\r\n\t\t\t\t\t$page.click();\r\n\t\t\t\telse\r\n\t\t\t\t\t$page.parent().next(\":has([data-toggle=tab]):not(.d-none):not(.disabled)\")\r\n\t\t\t\t\t\t.find(\"[data-toggle=tab]\").toggleClass(\"disabled\", false).click();\r\n\t\t\t} else if (this.isCollapse) {\r\n\t\t\t\tvar $p = $page.closest(\".card\");\r\n\t\t\t\tif ($p.is(\":not(.d-none)\"))\r\n\t\t\t\t\t$page.click();\r\n\t\t\t\telse\r\n\t\t\t\t\t$p.next(\":has([data-toggle=collapse]):not(.d-none)\").find(\"[data-toggle=collapse]\").click();\r\n\t\t\t}\r\n\t\t\tthis.pageIndex = i;\r\n\t\t}\r\n\t}\r\n\r\n\tthis.gotoPageByIndex = this.gotoPage;\r\n\r\n\t// Go to page by element\r\n\tthis.gotoPageByElement = function(el) {\r\n\t\tthis.gotoPage(parseInt($(el).data(\"page\"), 10) || -1);\r\n\t}\r\n\r\n\t// Go to page by element's id or name or data-field attribute\r\n\tthis.gotoPageByElementId = function(id) {\r\n\t\tvar $el = this.$form.find(\"[data-page]\").filter(\"[id='\" + id + \"'],[name='\" + id + \"'],[data-field='\" + id + \"']\");\r\n\t\tthis.gotoPageByElement($el);\r\n\t}\r\n\r\n\t// Toggle page\r\n\tthis.togglePage = function(i, show) {\r\n\t\tif (this.isTab) {\r\n\t\t\tthis.$pages.eq(i - 1).toggleClass(\"d-none\", !show);\r\n\t\t} else if (this.isCollapse) {\r\n\t\t\tthis.$pages.eq(i - 1).closest(\".card\").toggle(\"d-none\", !show);\r\n\t\t}\r\n\t}\r\n\r\n\t// Render\r\n\tthis.render = function() {\r\n\t\tthis.$form = $(\"#\" + formid);\r\n\t\tthis.pageIndexes = this.$form.find(\"[data-page]\").map(function() {\r\n\t\t\tvar index = parseInt($(this).data(\"page\"), 10);\r\n\t\t\treturn (index > 0) ? index : null;\r\n\t\t}).get();\r\n\t\tthis.pageIndexes.sort(function(a, b) {\r\n\t\t\treturn a - b;\r\n\t\t});\r\n\t\tthis.minPageIndex = this.pageIndexes[0];\r\n\t\tthis.maxPageIndex = this.pageIndexes[this.pageIndexes.length - 1];\r\n\t\tvar $tabs = this.$form.find(\"[data-toggle=tab]\");\r\n\t\tif ($tabs[0]) {\r\n\t\t\tthis.$pages = $tabs;\r\n\t\t\tthis.isTab = true;\r\n\t\t\t$tabs.on(\"shown.bs.tab\", function(e) {\r\n\t\t\t\tself.pageIndex = $tabs.index(e.target) + 1;\r\n\t\t\t\tself.pageShow();\r\n\t\t\t\t$($(this).attr(\"href\")).find(\".ew-google-map\").each(function() {\r\n\t\t\t\t\tvar m = ew.googleMaps[this.id];\r\n\t\t\t\t\tif (m && m[\"map\"]) {\r\n\t\t\t\t\t\tgoogle.maps.event.trigger(m[\"map\"], \"resize\");\r\n\t\t\t\t\t\tm[\"map\"].setCenter(m[\"latlng\"]);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\tthis.pageIndex = $tabs.index($tabs.parent(\".active\")) + 1;\r\n\t\t} else {\r\n\t\t\tthis.$collapses = this.$form.find(\"[data-toggle=collapse]\");\r\n\t\t\tif (this.$collapses[0]) {\r\n\t\t\t\tthis.$pages = this.$collapses;\r\n\t\t\t\tthis.isCollapse = true;\r\n\t\t\t\tvar $bodies = this.$collapses.closest(\".card-header\").next();\r\n\t\t\t\t$bodies.on(\"shown.bs.collapse\", function(e) {\r\n\t\t\t\t\tself.pageIndex = $bodies.index(e.target) + 1;\r\n\t\t\t\t\tself.pageShow();\r\n\t\t\t\t\t$(this).find(\".ew-google-map\").each(function() {\r\n\t\t\t\t\t\tvar m = ew.googleMaps[this.id];\r\n\t\t\t\t\t\tif (m && m[\"map\"]) {\r\n\t\t\t\t\t\t\tgoogle.maps.event.trigger(m[\"map\"], \"resize\");\r\n\t\t\t\t\t\t\tm[\"map\"].setCenter(m[\"latlng\"]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t\tthis.pageIndex = $bodies.index($bodies.hasClass(\"show\")) + 1;\r\n\t\t\t}\r\n\t\t}\r\n\t\t$(function() {\r\n\t\t\tself.init();\r\n\t\t});\r\n\t}\r\n}","import $ from 'jquery';\n\n/**\n * User level ID validator\n */\nexport function userLevelId(el) {\n    if (el && !ew.checkInteger(el.value))\n        return { userLevelId: ew.language.phrase(\"UserLevelIDInteger\") };\n    var level = parseInt(el.value, 10);\n    if (level < 1)\n        return { userLevelId: ew.language.phrase(\"UserLevelIDIncorrect\") };\n    return false;\n}\n\n/**\n * User level name validator\n * @param {string} id User ID Field input element ID\n */\nexport function userLevelName(id) {\n    return function(el) {\n        let elId = document.getElementById(\"x_\" + id);\n        if (elId && el) {\n            let name = el.value.trim(),\n                level = parseInt(elId.value.trim(), 10);\n            if (level === 0 && !ew.sameText(name, \"Default\")) {\n                return { userLevelName: ew.language.phrase(\"UserLevelDefaultName\") };\n            } else if (level === -1 && !ew.sameText(name, \"Administrator\")) {\n                return { userLevelName: ew.language.phrase(\"UserLevelAdministratorName\") };\n            } else if (level === -2 && !ew.sameText(name, \"Anonymous\")) {\n                return { userLevelName: ew.language.phrase(\"UserLevelAnonymousName\") };\n            } else if (level > 0 && [\"anonymous\", \"administrator\", \"default\"].includes(name.toLowerCase())) {\n                return { userLevelName: ew.language.phrase(\"UserLevelNameIncorrect\") };\n            }\n        }\n        return false;\n    };\n}\n\n/**\n * Required validator\n */\nexport function required(fieldName) {\n    return function(el) {\n        let $el = $(el),\n            $p = $el.closest(\"#r_\" + $el.data(\"field\")?.substr(2)); // Find the row\n        if (!$p[0])\n            $p = $el.closest(\"[id^=el]\"); // Find the span\n        if ($p.css(\"display\") == \"none\") { // Hidden by .visible()\n            return false;\n        }\n        if (el && !ew.hasValue(el)) {\n            return { required: ew.language.phrase(\"EnterRequiredField\").replace(\"%s\", fieldName) };\n        }\n        return false;\n    }\n}\n\n/**\n * File required validator\n */\nexport function fileRequired(fieldName) {\n    return function(el) {\n        let elFn = document.getElementById(\"fn_\" + el.id);\n        if (elFn && !ew.hasValue(elFn)) {\n            return { fileRequired: ew.language.phrase(\"EnterRequiredField\").replace(\"%s\", fieldName) };\n        }\n        return false;\n    }\n}\n\n/**\n * Mismatch password validator\n */\nexport function mismatchPassword(el) {\n    let id;\n    if (el.id.startsWith(\"c_\")) // Confirm Password field in Register page\n        id = el.id.replace(/^c_/, \"x_\");\n    else if (el.id == \"cpwd\") // Change Password page\n        id = \"npwd\";\n    let elPwd = document.getElementById(id);\n    if (el.value !== elPwd.value) {\n        return { mismatchPassword: ew.language.phrase(\"MismatchPassword\") };\n    }\n    return false;\n}\n\n/**\n * Between validator\n */\nexport function between(el) {\n    let x, z;\n    if (el.id.startsWith(\"y_\")) {\n        x = document.getElementById(el.id.replace(/^y_/, \"x_\"));\n        z = document.getElementById(el.id.replace(/^y_/, \"z_\"));\n    }\n    if (ew.hasValue(x) && $(z).val() == \"BETWEEN\" && !ew.hasValue(el)) {\n        return { between: ew.language.phrase(\"EnterValue2\") };\n    }\n    return false;\n}\n\n/**\n * Password strength validator\n */\nexport function passwordStrength(el) {\n    let $el = $(el);\n    if (!ew.isMaskedPassword(el) && $el.hasClass(\"ew-password-strength\") && !$el.data(\"validated\")) {\n        return { passwordStrength: ew.language.phrase(\"PasswordTooSimple\") };\n    }\n    return false;\n}\n\n/**\n * User name validator\n */\nexport function username(raw) {\n    return function(el) {\n        if (!raw && el.value.match(new RegExp('[' + ew.escapeRegExChars(ew.INVALID_USERNAME_CHARACTERS) + ']')))\n            return { username: ew.language.phrase(\"InvalidUsernameChars\") };\n        return false;\n    }\n}\n\n/**\n * Password validator\n */\nexport function password(raw) {\n    return function(el) {\n        if (!raw && !ew.ENCRYPTED_PASSWORD && el.value.match(new RegExp('[' + ew.escapeRegExChars(ew.INVALID_PASSWORD_CHARACTERS) + ']')))\n            return { password: ew.language.phrase(\"InvalidPasswordChars\") };\n        return false;\n    }\n}\n\n/**\n * Email validator\n */\nexport function email(el) {\n    let value = ew.getValue(el);\n    if (!ew.checkEmail(value)) {\n        return { email: ew.language.phrase(\"IncorrectEmail\") };\n    }\n    return false;\n}\n\n/**\n * Emails validator\n */\nexport function emails(cnt, err) {\n    return function(el) {\n        let value = ew.getValue(el);\n        if (!ew.checkEmails(value, cnt)) {\n            return { email: err };\n        }\n        return false;\n    }\n}\n\n/**\n * DateTime validator\n * @param {number} dateFormat DateTime format ID\n */\nexport function datetime(dateFormat) {\n    return function(el) {\n        let fn,\n            phraseId,\n            value = ew.getValue(el),\n            newSubStr = ew.DATE_SEPARATOR;\n        if ([12, 15, 115].includes(dateFormat)) {\n            fn = ew.checkShortDate;\n            phraseId = \"IncorrectShortDateYMD\";\n        } else if ([5, 9, 109].includes(dateFormat)) {\n            fn = ew.checkDate;\n            phraseId = \"IncorrectDateYMD\";\n        } else if ([14, 17, 117].includes(dateFormat)) {\n            fn = ew.checkShortEuroDate;\n            phraseId = \"IncorrectShortDateDMY\";\n        } else if ([7, 11, 111].includes(dateFormat)) {\n            fn = ew.checkEuroDate;\n            phraseId = \"IncorrectDateDMY\";\n        } else if ([13, 16, 116].includes(dateFormat)) {\n            fn = ew.checkShortUSDate;\n            phraseId = \"IncorrectShortDateMDY\";\n        } else if ([6, 10, 110].includes(dateFormat)) {\n            fn = ew.checkUSDate;\n            phraseId = \"IncorrectDateMDY\";\n        } else { // Default date format\n            fn = ew.checkDateDef;\n            phraseId = \"IncorrectDate\";\n            newSubStr = ew.DATE_FORMAT;\n        }\n        if (fn && !fn(value)) {\n            return { datetime: ew.language.phrase(phraseId).replace(/%s/g, newSubStr) };\n        }\n       return false;\n    };\n}\n\n/**\n * Time validator\n */\nexport function time(el) {\n    let value = ew.getValue(el);\n    if (!ew.checkTime(value)) {\n        return { time: ew.language.phrase(\"IncorrectTime\") };\n    }\n    return false;\n}\n\n/**\n * Float validator\n */\nexport function float(el) {\n    let value = ew.getValue(el);\n    if (!ew.checkNumber(value)) {\n        return { time: ew.language.phrase(\"IncorrectFloat\") };\n    }\n    return false;\n}\n\n/**\n * Range validator\n * @param {number} min Min value\n * @param {number} max Max value\n */\nexport function range(min, max) {\n    return function(el) {\n        let value = ew.getValue(el);\n        if (!ew.checkRange(value, min, max)) {\n            return { range: ew.language.phrase(\"IncorrectRange\").replace(\"%1\", min).replace(\"%2\", max) };\n        }\n       return false;\n    };\n}\n\n/**\n * Integer validator\n */\nexport function integer(el) {\n    let value = ew.getValue(el);\n    if (!ew.checkInteger(value)) {\n        return { integer: ew.language.phrase(\"IncorrectInteger\") };\n    }\n    return false;\n}\n\n/**\n * US phone validator\n */\nexport function phone(el) {\n    let value = ew.getValue(el);\n    if (!ew.checkPhone(value)) {\n        return { phone: ew.language.phrase(\"IncorrectPhone\") };\n    }\n    return false;\n}\n\n/**\n * US ZIP validator\n */\nexport function zip(el) {\n    let value = ew.getValue(el);\n    if (!ew.checkZip(value)) {\n        return { zip: ew.language.phrase(\"IncorrectZip\") };\n    }\n    return false;\n}\n\n/**\n * Credit card validator\n */\nexport function creditCard(el) {\n    let value = ew.getValue(el);\n    if (!ew.checkCreditCard(value)) {\n        return { creditCard: ew.language.phrase(\"IncorrectCreditCard\") };\n    }\n    return false;\n}\n\n/**\n * US SSN validator\n */\nexport function ssn(el) {\n    let value = ew.getValue(el);\n    if (!ew.checkSsn(value)) {\n        return { ssn: ew.language.phrase(\"IncorrectSSN\") };\n    }\n    return false;\n}\n\n/**\n * GUID validator\n */\nexport function guid(el) {\n    let value = ew.getValue(el);\n    if (!ew.checkGuid(value)) {\n        return { guid: ew.language.phrase(\"IncorrectGUID\") };\n    }\n    return false;\n}\n/**\n * Regular expression validator\n * @param {string} pattern Regular expression pattern\n */\nexport function regex(pattern) {\n    return function(el) {\n        let value = ew.getValue(el);\n        if (!ew.checkByRegEx(value, pattern)) {\n            return { regex: ew.language.phrase(\"IncorrectField\") };\n        }\n       return false;\n    };\n}\n\n/**\n  * Custom validator\n  * @param {*} fn Function(value, ...args)\n  * @param  {...any} args Additional arguments for the function\n  */\nexport function custom(fn, ...args) {\n    return function(el) {\n        if (typeof fn == \"function\") {\n            let value = ew.getValue(el);\n            if (fn(value, ...args))\n                return { custom: ew.language.phrase(\"IncorrectField\") };\n        }\n        return false;\n    };\n}\n\n/**\n * Captcha validator\n */\nexport function captcha(el) {\n    if (el && !ew.hasValue(el)) {\n        return { captcha: ew.language.phrase(\"EnterValidateCode\") };\n    }\n    return false;\n}\n\n/**\n * reCaptcha validator\n * @param {number} id reCaptcha ID\n */\nexport function recaptcha(el) {\n    if (el && !ew.hasValue(el) && grecaptcha?.getResponse(el.dataset.id) === \"\") {\n        return { recaptcha: ew.language.phrase(\"ClickReCaptcha\") };\n    }\n    return false;\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nmodule.exports = _inheritsLoose;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","import $ from 'jquery';\n\n// Form class\nexport default function FormBase(id, pageId) {\n    var self = this;\n\n    this._initiated = false;\n    this.id = id; // Same ID as the form\n    this.pageId = pageId;\n    this.$element = null; // jQuery object of the form or div\n    this.htmlForm = null; // HTML form element\n    this.initSearchPanel = false; // Expanded by default\n    this.modified = false;\n    this.validateRequired = true;\n    this.validate = null;\n    this.emptyRow = null; // Check empty row\n    this.multiPage = null; // Multi-page\n    this.autoSuggests = {}; // AutoSuggests\n    this.lists = {}; // Dynamic selection lists\n\n    // Disable form\n    this.disableForm = function() {\n        var form = this.getForm();\n        $(form).find(\":submit:not(.dropdown-toggle)\").prop(\"disabled\", true).addClass(\"disabled\");\n    }\n\n    // Enable form\n    this.enableForm = function() {\n        var form = this.getForm(),\n            $form = $(form);\n        $form.find(\".ew-disabled-element\").removeClass(\"ew-disabled-element\").prop(\"disabled\", false);\n        $form.find(\".ew-enabled-element\").removeClass(\"ew-enabled-element\").prop(\"disabled\", true);\n        $form.find(\":submit:not(.dropdown-toggle)\").prop(\"disabled\", false).removeClass(\"disabled\");\n    }\n\n    // Append hidden element with form name\n    this.appendHidden = function(el) {\n        var form = this.getForm(), $form = $(form), $dp = $(el).closest(\".ew-form\"), name = $dp.attr(\"id\") + \"$\" + el.name;\n        if ($form.find(\"input:hidden[name='\" + name + \"']\")[0]) // Already appended\n            return;\n        var ar = $dp.find('[name=\"' + el.name + '\"]').serializeArray();\n        if (ar.length) {\n            ar.forEach(function(o, i) {\n                $('<input type=\"hidden\" name=\"' + name + '\">').val(o.value).appendTo($form);\n            });\n        } else {\n            $('<input type=\"hidden\" name=\"' + name + '\">').val(\"\").appendTo($form);\n        }\n    }\n\n    // Can submit\n    this.canSubmit = function() {\n        var form = this.getForm(),\n            $form = $(form);\n        this.disableForm();\n        this.updateTextArea();\n        if (!this.validate || this.validate() && !$form.find(\".is-invalid\")[0]) {\n            $form.find(\"input[name^=sv_], input[name^=p_], .ew-template input\") // Do not submit these values\n                .prop(\"disabled\", true)\n                .addClass(\"ew-disabled-element\");\n            $form.find(\"[data-readonly=1][disabled]\")\n                .prop(\"disabled\", false)\n                .addClass(\"ew-enabled-element\"); // Submit readonly values\n            var $dps = $($form.find(\"input[name='detailpage']\").map(function(i, el) {\n                return $form.find(\"#\" + el.value).get();\n            }));\n            if ($dps.length > 1) { // Multiple Master/Detail, check element names\n                $dps.each(function(i, dp) {\n                    $(dp).find(\":input\").each(function(j, el) {\n                        if (/^(fn_)?(x|o)\\d*_/.test(el.name)) {\n                            var $els = $dps.not(dp).find(\":input[name='\" + el.name + \"']\");\n                            if ($els.length) { // Elements with same name found\n                                self.appendHidden(el); // Append element with form name\n                                $els.each(function() {\n                                    self.appendHidden(this); // Append elements with same name and form name\n                                });\n                            }\n                        }\n                    });\n                });\n            }\n            return true;\n        } else {\n            this.enableForm();\n        }\n        return false;\n    }\n\n    // Submit\n    this.submit = function(action) {\n        var form = this.getForm();\n        if (this.canSubmit()) {\n            if (action)\n                form.action = action;\n            form.submit();\n        }\n        return false;\n    }\n\n    // Get dynamic selection list by element name or id\n    this.getList = function(name) {\n        name = name.replace(/^(sv_)?[xy](\\d*|\\$rowindex\\$)_|\\[\\]$/g, \"\"); // Remove element name prefix/suffix\n        return this.lists[name];\n    }\n\n    // Compile templates\n    this.compileTemplates = function() {\n        let lists = Object.values(this.lists);\n        for (let list of lists) {\n            if (list.template && $.isString(list.template))\n                list.template = $.templates(list.template);\n        }\n    }\n\n    // Get the HTML form element\n    this.getForm = function() {\n        if (!this.htmlForm) {\n            this.$element = $(\"#\" + this.id);\n            if (this.$element.is(\"form\")) { // HTML form\n                this.htmlForm = this.$element[0];\n            } else if (this.$element.is(\"div\")) { // HTML div => Grid page\n                this.htmlForm = this.$element.closest(\"form\")[0];\n            }\n        }\n        return this.htmlForm;\n    }\n\n    // Get form element as single element\n    this.getElement = function(name) {\n        if (!this.$element)\n            this.$element = $(\"#\" + this.id);\n        return (name) ? ew.getElement(name, this.$element) : this.$element[0];\n    }\n\n    // Get form element(s) as single element or array of radio/checkbox\n    this.getElements = function(name) {\n        if (!this.$element)\n            this.$element = $(\"#\" + this.id);\n        var selector = \"[name='\" + name + \"']\";\n        selector = \"input\" + selector + \",select\" + selector + \",textarea\" + selector + \",button\" + selector;\n        var $els = this.$element.find(selector);\n        return ($els.length == 0) ? null : ($els.length == 1 && $els.is(\":not([type=checkbox]):not([type=radio])\")) ? $els[0] : $els.get();\n    }\n\n    // Update selection lists\n    // @param {(null|undefined|number)*} rowindex Row index\n    this.updateLists = function(rowindex) {\n        if (rowindex === null) // rowindex == $rowindex$ == null\n            return;\n        if (!$.isNumber(rowindex) && this.pageId == \"grid\")\n            return;\n        var form = this.getForm(), // Set up $element and htmlForm\n            confirm = form.querySelector(\"input#confirm\");\n        if (confirm && confirm.value == \"confirm\") { // Confirm page\n            ew.removeSpinner();\n            return;\n        }\n        var fixId = (id, multiple) => {\n            var t = \"\",\n                i = rowindex,\n                ar = id.split(\" \");\n            if (ar.length > 1) {\n                t = ar[0];\n                i = \"\";\n                id = ar[1];\n            }\n            let prefix = $.isNumber(i) ? \"x\" + i + \"_\" : \"x_\"; // Add row index\n            if (id.startsWith(\"x_\")) // Field element name\n                id = id.replace(/^x_/, prefix);\n            else // Field var\n                id = prefix + id;\n            if (multiple && !id.endsWith(\"[]\")) // Add [] if select-multiple\n                id += \"[]\";\n            return t ? t + \" \" + id : id;\n        };\n        var selector = Object.entries(this.lists).map(([id, list]) => {\n            return \"[name='\" + fixId(id, list.multiple) + \"']\";\n        }).join();\n        if (!selector || !form.querySelector(selector)) { // Lists not found\n            ew.removeSpinner();\n            return;\n        }\n        var actions = [],\n            promises = [];\n        this.compileTemplates(); // For grid where updateList() called before init()\n        for (let [id, list] of Object.entries(this.lists)) {\n            let parents = list.parentFields.slice().map(parent => fixId(parent)), // Clone and fix index\n                ajax = list.ajax;\n            id = fixId(id, list.multiple);\n            if ($.isBoolean(ajax)) { // Ajax\n                let pvalues = parents.map(parent => ew.getOptionValues(parent, form)); // Save the initial values of the parent lists\n                actions.push([id, pvalues, ajax, false]);\n            } else { // Non-Ajax\n                ew.updateOptions.call(this, id, parents, null, false);\n            }\n        }\n        // Update the Ajax lists\n        for (var i = 0; i < actions.length; i++) {\n            promises.push(new Promise(function(resolve, reject) {\n                setTimeout(function() {\n                    resolve(ew.updateOptions.apply(self, actions.shift()));\n                }, ew.AJAX_DELAY * i); // Delay a little in case of large number of lists\n            }));\n        }\n        Promise.all(promises).then(function() {\n            $(document).trigger(\"updatedone\", [{source: self, target: form}]);\n        }).catch(function(error) {\n            console.log(error);\n        });\n    }\n\n    // Create AutoSuggest\n    this.createAutoSuggest = function(settings) {\n        var options = Object.assign({\n            limit: ew.AUTO_SUGGEST_MAX_ENTRIES,\n            form: this\n        }, ew.autoSuggestSettings, settings); // Global settings + field specific settings\n        self.autoSuggests[settings.id] = new ew.AutoSuggest(options);\n    }\n\n    // Init editors\n    this.initEditors = function() {\n        var form = this.getForm();\n        $(form.elements).filter(\"textarea.editor\").each(function(i, el) {\n            var ed = $(el).data(\"editor\");\n            if (ed && !ed.active && !ed.name.includes(\"$rowindex$\"))\n                ed.create();\n        });\n    }\n\n    // Update textareas\n    this.updateTextArea = function(name) {\n        var form = this.getForm();\n        $(form.elements).filter(\"textarea.editor\").each(function(i, el) {\n            var ed = $(el).data(\"editor\");\n            if (!ed || name && ed.name != name)\n                return true; // Continue\n            ed.save();\n            if (name)\n                return false; // Break\n        });\n    }\n\n    // Destroy editor(s)\n    this.destroyEditor = function(name) {\n        var form = this.getForm();\n        $(form.elements).filter(\"textarea.editor\").each(function(i, el) {\n            var ed = $(el).data(\"editor\");\n            if (!ed || name && ed.name != name)\n                return true; // Continue\n            ed.destroy();\n            if (name)\n                return false; // Break\n        });\n    }\n\n    // Show error message\n    this.onError = function(el, msg) {\n        return ew.onError(this, el, msg);\n    }\n\n    // Init file upload\n    this.initUpload = function() {\n        var form = this.getForm();\n        $(form.elements).filter(\"input:file:not([name*='$rowindex$'],[id='importfiles'])\").each(function(index) {\n            $.later(ew.AJAX_DELAY * index, null, ew.upload, this); // Delay a little in case of large number of upload fields\n        });\n    }\n\n    // Set up filters\n    this.setupFilters = function(e, filters) {\n        var id = this.id, data = this.filterList ? this.filterList.data : null, $sf = $(\".ew-save-filter[data-form=\" + id + \"]\").toggleClass(\"disabled\", !data),\n            $df = $(\".ew-delete-filter[data-form=\" + id + \"]\").toggleClass(\"disabled\", !filters.length).toggleClass(\"dropdown-toggle\", !!filters.length),\n            $delete = $df.parent(\"li\").toggleClass(\"dropdown-submenu dropdown-hover\", !!filters.length).toggleClass(\"disabled\", !filters.length),\n            $save = $sf.parent(\"li\").toggleClass(\"disabled\", !data),\n            $btn = $(e.target);\n        var saveFilters = function(id, filters) {\n            if (ew.SEARCH_FILTER_OPTION == \"Client\") {\n                window.localStorage.setItem(id + \"_filters\", JSON.stringify(filters));\n            } else if (ew.SEARCH_FILTER_OPTION == \"Server\") {\n                var $body = $(\"body\");\n                $body.css(\"cursor\", \"wait\");\n                $.ajax(ew.currentPage(), {\n                    type: \"POST\",\n                    dataType: \"json\",\n                    data: { \"ajax\": \"savefilters\", \"filters\": JSON.stringify(filters) }\n                }).done(function(result) {\n                    if (result[0] && result[0].success)\n                        self.filterList.filters = filters; // Save filters\n                }).always(function() {\n                    $body.css(\"cursor\", \"default\");\n                });\n            }\n        }\n        $save.off(\"click.ew\").on(\"click.ew\", function(e) { // Save filter\n            if ($save.hasClass(\"disabled\"))\n                return false;\n            ew.prompt(ew.language.phrase(\"EnterFilterName\"), (name) => {\n                name = ew.sanitize(name);\n                if (name) {\n                    filters.push([name, data]);\n                    saveFilters(id, filters);\n                }\n            }, true);\n        }).prevAll().remove();\n        $df.next(\"ul.dropdown-menu\").remove();\n        if (filters.length) {\n            var $submenu = $(\"<ul class='dropdown-menu'></ul>\");\n            for (var i in filters) {\n                if (!Array.isArray(filters[i]))\n                    continue;\n                $('<li><a class=\"dropdown-item\" data-index=\"' + i + '\" href=\"#\" onclick=\"return false;\">' + filters[i][0] + '</a></li>').on(\"click\", function(e) { // Delete\n                    var i = $(this).find(\"a[data-index]\").data(\"index\");\n                    ew.prompt(ew.language.phrase(\"DeleteFilterConfirm\").replace(\"%s\", filters[i][0]), (result) => {\n                        if (result) {\n                            filters.splice(i, 1);\n                            saveFilters(id, filters);\n                        }\n                    });\n                }).appendTo($submenu);\n                $('<li><a class=\"dropdown-item ew-filter-list\" data-index=\"' + i + '\" href=\"#\" onclick=\"return false;\">' + filters[i][0] + '</a></li>').insertBefore($save).on(\"click\", function(e) {\n                    var i = $(this).find(\"a[data-index]\").data(\"index\");\n                    $(\"<form>\").attr({method: \"post\", action: ew.currentPage()})\n                        .append($(\"<input type='hidden'>\").attr({name: \"cmd\", value: \"resetfilter\"}),\n                            $(\"<input type='hidden'>\").attr({name: ew.TOKEN_NAME_KEY, value: ew.TOKEN_NAME}), // PHP\n                            $(\"<input type='hidden'>\").attr({name: ew.ANTIFORGERY_TOKEN_KEY, value: ew.ANTIFORGERY_TOKEN}), // PHP\n                            $(\"<input type='hidden'>\").attr({name: \"filter\", value: JSON.stringify(filters[i][1])}))\n                        .appendTo(\"body\").submit();\n                });\n            }\n            $(\"<li class='dropdown-divider'></li>\").insertBefore($save);\n            $delete.append($submenu);\n        }\n    }\n\n    // Init form\n    this.init = function() {\n        if (this._initiated)\n            return;\n\n        // Filters button\n        if (ew.SEARCH_FILTER_OPTION == \"Client\" && window.localStorage || ew.SEARCH_FILTER_OPTION == \"Server\" && ew.IS_LOGGEDIN && !ew.IS_SYS_ADMIN && ew.CURRENT_USER_NAME != \"\") {\n            $(\".ew-filter-option.\" + this.id + \" .ew-btn-dropdown\").on(\"show.bs.dropdown\", function(e) {\n                var filters = [];\n                if (ew.SEARCH_FILTER_OPTION == \"Client\") {\n                    var item = window.localStorage.getItem(self.id + \"_filters\");\n                    if (item)\n                        filters = ew.parseJson(item) || [];\n                } else if (ew.SEARCH_FILTER_OPTION == \"Server\")\n                    filters = self.filterList && self.filterList.filters ? self.filterList.filters : [];\n                var ar = $.grep(filters, function(val) {\n                    if (Array.isArray(val) && val.length == 2)\n                        return val;\n                });\n                self.setupFilters(e, ar);\n            });\n            $(\".ew-filter-option\").show();\n        } else {\n            $(\".ew-filter-option\").hide();\n        }\n\n        // Check form\n        var form = this.getForm(),\n            $form = $(form);\n        if (!form)\n            return;\n\n        // Compile templates\n        this.compileTemplates();\n\n        // Check if Search panel\n        var isSearch = /s(ea)?rch$/.test(this.id);\n\n        // Search panel\n        if (isSearch && this.initSearchPanel && !ew.hasFormData(form))\n            $(\"#\" + this.id + \"-search-panel\").removeClass(\"show\");\n\n        // Search panel toggle\n        $(\".ew-search-toggle[data-form=\" + this.id + \"]\").on(\"click.bs.button\", function() {\n            $(\"#\" + $(this).data(\"form\") + \"-search-panel\").collapse(\"toggle\");\n        });\n\n        // Hide search operator column\n        if (!$(\".ew-table .ew-search-operator\").text().trim())\n            $(\".ew-table .ew-search-operator\").parent(\"td\").hide();\n\n        // Highlight button\n        if (isSearch) {\n            $(\".ew-highlight[data-form=\" + this.id + \"]\").on(\"click.bs.button\", function() {\n                $(\"span.\" + $(this).data(\"name\")).toggleClass(\"ew-highlight-search\");\n            });\n        }\n\n        // Search operators\n        if (isSearch) { // Search form\n            $form.find(\"select[id^=z_]\").each(function() {\n                var $this = $(this).trigger(\"change\");\n                if ($this.val() != \"BETWEEN\")\n                    $form.find(\"#w_\" + this.id.substr(2)).trigger(\"change\");\n            });\n        }\n\n        // Multi-page\n        if (this.multiPage)\n            this.multiPage.render();\n\n        // HTML editors\n        loadjs.ready([\"editor\"], this.initEditors.bind(this));\n\n        // Dynamic selection lists\n        this.updateLists();\n\n        // Init file upload\n        this.initUpload();\n\n        // Submit/Cancel\n        if (this.$element.is(\"form\")) { // Not Grid page\n            // Detail pages\n            this.$element.find(\".ew-detail-pages .ew-nav-tabs a[data-toggle=tab]\").on(\"shown.bs.tab\", function(e) {\n                var $tab = $(e.target.getAttribute(\"href\")),\n                    $panel = $tab.find(\".table-responsive.ew-grid-middle-panel\"),\n                    $container = $tab.closest(\".container-fluid\");\n                if ($panel.width() >= $container.width())\n                    $panel.width($container.width() + \"px\");\n                else\n                    $panel.width(\"auto\");\n            });\n            $form.submit(function(e) { // Bind submit event\n                return self.submit();\n            });\n            $form.find(\"[data-field], .ew-priv\").on(\"change\", function() {\n                if (ew.CONFIRM_CANCEL)\n                    self.modified = true;\n            });\n            $form.find(\"#btn-cancel[data-href]\").on(\"click\", function() { // Cancel\n                self.updateTextArea();\n                var href = $(this).data(\"href\");\n                if (self.modified && ew.hasFormData(form)) {\n                    ew.prompt(ew.language.phrase(\"ConfirmCancel\"), (result) => {\n                        if (result) {\n                            $form.find(\"#btn-action\").prop(\"disabled\", true); // Disable the save button\n                            window.location = href;\n                        }\n                    });\n                } else {\n                    $form.find(\"#btn-action\").prop(\"disabled\", true); // Disable the save button\n                    window.location = href;\n                }\n            });\n        }\n\n        this._initiated = true;\n\n        // Store form object as data\n        this.$element.data(\"form\", this);\n    }\n\n    // Add to the global forms object\n    ew.forms.add(this);\n}","/**\n * Class Field\n */\nexport default class Field {\n    name = \"\";\n    validators = [];\n    _error;\n    _element;\n    _checkbox;\n    _validate = true;\n    list;\n    invalid;\n\n    /**\n     * Constructor\n     * @param {string} fldvar Field variable name\n     * @param {Function[]|Function} validators Validators\n     * @param {bool} invalid Initial valid status (e.g. server side)\n     */\n    constructor(fldvar, validators, invalid) {\n        this.name = fldvar;\n        if (Array.isArray(validators)) {\n            for (let validator of validators)\n                this.addValidator(validator);\n        } else if (typeof validators === \"function\") {\n            this.addValidator(validators);\n        }\n        this.invalid = invalid;\n    }\n\n    /**\n     * Add validator\n     * @param {Function} validator Validator function\n     */\n    addValidator(validator) {\n        if (typeof validator === \"function\")\n            this.validators.push(validator);\n    }\n\n    /**\n     * Get error\n     * @returns {Object}\n     */\n    get error() {\n        return this._error;\n    }\n\n    /**\n     * Add error\n     * @param {Object} err Error\n     */\n    addError(err) {\n        if (err) {\n            let error = this._error ?? {};\n            this._error = { ...error, ...err };\n            this.invalid = true;\n        }\n    }\n\n    /**\n     * Clear all errors\n     */\n    clearErrors() {\n        this._error = null;\n        this.invalid = false;\n    }\n\n    /**\n     * Clear all validators\n     */\n    clearValidators() {\n        this.validators = [];\n    }\n\n    /**\n     * Get error message\n     * @returns {string} HTML\n     */\n    get errorMessage() {\n        if (this._error) {\n            return Array.from(Object.values(this._error)).join(\"<br>\");\n        }\n        return \"\";\n    }\n\n    /**\n     * Check if the field should be validated\n     */\n    get shouldValidate() {\n        return !this._checkbox || this._checkbox.checked;\n    }\n\n    /**\n     * Set form element\n     */\n    set element(el) {\n        this._element = el;\n        this._checkbox = this._element?.id?.match(/^[xy]_/) ? document.getElementById(this._element.id.replace(/^[xy]_/, \"u_\")) : null; // Find the checkbox for the field in Update page\n    }\n\n    /**\n     * Get form element\n     * @returns {HTMLElement|HTMLElement[]}\n     */\n    get element() {\n        return this._element;\n    }\n\n    /**\n     * Get field value from form element\n     * @returns {string|Array}\n     */\n    get value() {\n        return this._element ? ew.getValue(this._element) : \"\";\n    }\n\n    /**\n     * Validate field value\n     * @returns {boolean}\n     */\n    validate() {\n        let result = true;\n        this.clearErrors(); // Reset error\n        if (this._element && this.shouldValidate) {\n            if (Array.isArray(this.validators)) {\n                for (let validator of this.validators) {\n                    let err = validator(this._element);\n                    if (err !== false) {\n                        this.addError(err);\n                        result = false;\n                    }\n                }\n                this.updateFeedback();\n            }\n        }\n        return result;\n    }\n\n    /**\n     * Update the error message to feedback element\n     */\n    updateFeedback() {\n        let err = this.errorMessage;\n        if (this._element && err) {\n            jQuery(this._element).closest(\"[id^=el_], .form-group\").find(\".invalid-feedback\").html(err);\n            ew.setInvalid(this._element);\n        }\n    }\n\n    /**\n     * Set focus\n     */\n    focus() {\n        if (this._element)\n            ew.setFocus(this._element);\n    }\n}","import FormBase from \"./FormBase\";\nimport Field from \"./Field\";\n\n/**\n * Class Form\n */\nexport default class Form extends FormBase {\n    row = {};\n    fields = {};\n    rowIndex;\n    value;\n    _error;\n\n    /**\n     * Constructor\n     * @param {string} id Form ID\n     * @param {string} pageId Page ID\n     */\n    constructor(id, pageId) {\n        super(id, pageId);\n    }\n\n    /**\n     * Add field\n     * @param {string} fldvar Field variable name\n     * @param {Function[]} validators Validators\n     * @param {bool} invalid Invalid\n     */\n    addField(fldvar, validators, invalid) {\n        if (!(fldvar in this.fields))\n            this.fields[fldvar] = new Field(fldvar, validators, invalid);\n    }\n\n    /**\n     * Get field\n     * @param {string} fldvar Field variable name\n     * @returns Field\n     */\n    getField(fldvar) {\n        return this.fields[fldvar];\n    }\n\n    /**\n     * Add fields by field definitions\n     * @param {Array} fields\n     */\n    addFields(fields) {\n        if (Array.isArray(fields)) {\n            for (let field of fields) {\n                if (Array.isArray(field)) {\n                    this.addField.apply(this, field);\n                }\n            }\n        }\n    }\n\n    /**\n     * Add error\n     * @param {string} fldvar Field variable name\n     * @param {Object} err Error\n     */\n    addError(fldvar, err) {\n        if (err) {\n            this._error = this._error ?? {};\n            this._error[fldvar] = err;\n        }\n    }\n\n    /**\n     * Add custom error\n     * @param {string} fldvar Field variable name \n     * @param {string} msg Error message \n     */\n    addCustomError(fldvar, msg) {\n        if (fldvar in this.fields) {\n            let field = this.fields[fldvar],\n                err = { custom: msg };\n            field.addError(err);\n            field.updateFeedback();\n            this.addError(fldvar, err);\n        }\n        return false;\n    }\n\n    /**\n     * Get error\n     */\n    get error() {\n        return this._error;\n    }\n\n    /**\n     * Set focus to the first field with error\n     */\n    focus() {\n        for (let [fldvar, field] of Object.entries(this.fields)) {\n            if (field.invalid || this._error && this._error[fldvar]) {\n                field.focus();\n                this.makeVisible(field.element);\n                break;\n            }\n        }\n    }\n\n    /**\n     * Make the form visible\n     * @param {HTMLElement} el Focused element \n     */\n    makeVisible(el) {\n        if (this.multiPage) { // Multi-page\n            this.multiPage.gotoPageByElement(el);\n        } else if (this.$element.is(\"div\")) { // Multiple Master/Detail\n            let $pane = this.$element.closest(\".tab-pane\");\n            if ($pane[0] && !$pane.hasClass(\"active\"))\n                $pane.closest(\".tabbable, .ew-nav-tabs\").find(\"a[data-toggle=tab][href='#\" + $pane.attr(\"id\") + \"']\").click();\n        }\n    }\n\n    /**\n     * Validate all fields of the specified row\n     * @param {number} rowIndex Row index\n     */\n    validateFields(rowIndex) {\n        this.rowIndex = rowIndex ?? \"\";\n        this.row = {};\n        this._error = null; // Reset\n        let result = true;\n        for (let field of Object.values(this.fields)) {\n            field.element = this.getElements(`x${this.rowIndex}_${field.name}`); // Set element\n            if (!field.element)\n                field.element = this.getElements(`x${this.rowIndex}_${field.name}[]`); // Field with []\n            if (!field.element)\n                field.element = this.getElements(field.name); // Field by name directly (e.g. email form)\n            this.row[field.name] = field.value; // Get field value\n            if (!field.validate()) { // Invalid field value\n                this.addError(field.name, field.error);\n                result = false;\n            }\n        }\n        // Save the field values of the row\n        if (!this.value) {\n            this.value = { ...this.row };\n        } else {\n            if (!Array.isArray(this.value))\n                this.value = [this.value];\n            let index = parseInt(rowIndex, 10) || 0;\n            index = (index > 1) ? index - 1 : 0;\n            this.value[index] = { ...this.row };\n        }\n        this.focus();\n\n        return result;\n    }\n\n    /**\n     * Set invalid fields of the specified row\n     * @param {number} rowIndex Row index\n     */\n    setInvalid(rowIndex) {\n        this.rowIndex = rowIndex ?? \"\";\n        for (let field of Object.values(this.fields)) {\n            if (!field.invalid)\n                continue;\n            field.element = this.getElements(`x${this.rowIndex}_${field.name}`); // Set element\n            if (!field.element)\n                field.element = this.getElements(`x${this.rowIndex}_${field.name}[]`); // Fields with []\n            if (!field.element)\n                field.element = this.getElements(field.name); // Fields without prefix (e.g. email form)\n            ew.setInvalid(field.element);\n        }\n    }\n}","import $ from 'jquery';\n\n// AjaxLookup class\nexport default class AjaxLookup {\n    _isAutoSuggest = null;\n\n    /**\n     * Constructor\n     * @param {Object} settings Settings\n     * @param {string} settings.id - Input element ID\n     * @param {string|Form} settings.form - Form of the input element\n     * @param {Number} settings.limit - Options per page\n     * @param {Object} settings.data - Data submitted by Ajax\n     */\n    constructor(settings) {\n        this.elementId = settings.id; // Id\n        this.form = settings.form; // Form\n        if ($.isString(this.form)) // Form is string => Form id\n            this.form = ew.forms.get(this.form);\n        this.element = this.form.getElement(this.elementId); // Actual HTML element\n        this.formElement = this.form.getElement(); // HTML form or DIV\n        this.list = this.form.getList(this.elementId);\n        let m = this.elementId.match(/^[xy](\\d*|\\$rowindex\\$)_/),\n            rowindex = m ? m[1] : \"\";\n        this.parentFields = this.list.parentFields.slice() // Clone\n            .map(pf => (pf.split(\" \").length == 1) ? pf.replace(/^x_/, \"x\" + rowindex + \"_\") : pf); // Parent field in the same table, add row index\n        this.limit = settings.limit;\n        this.debounce = settings.debounce;\n        this.data = settings.data;\n        this.recordCount = 0;\n    }\n\n    /**\n     * Is AutoSuggest\n     */\n    get isAutoSuggest() {\n        if (this._isAutoSuggest === null)\n            this._isAutoSuggest = ew.isAutoSuggest(this.element);\n        return this._isAutoSuggest;\n    }\n\n    /**\n     * Format display value\n     * @param {Array} opt Option\n     */\n    formatResult(opt) {\n        if (this.list.template && !this.isAutoSuggest) {\n            return this.list.template.render(opt, ew.jsRenderHelpers);\n        } else {\n            return ew.displayValue(opt, this.element) || opt[0];\n        }\n    }\n\n    /**\n     * Generate request\n     */\n    generateRequest() {\n        var data = Object.assign({}, this.data, {\n            name: this.element.name,\n            page: this.list.page,\n            field: this.list.field,\n            ajax: \"autosuggest\",\n            language: ew.LANGUAGE_ID\n        }, ew.getUserParams(\"#p_\" + this.elementId, this.formElement));\n        if (this.parentFields.length > 0) {\n            this.parentFields.forEach((pf, i) => {\n                let arp = ew.getOptionValues(pf, this.formElement);\n                data[\"v\" + (i + 1)] = arp.join(ew.MULTIPLE_OPTION_SEPARATOR);\n            });\n        }\n        return data;\n    }\n\n    /**\n     * Get URL\n     */\n    getUrl(query, start) {\n        let params = new URLSearchParams({\n            q: query,\n            n: this.limit,\n            rnd: ew.random(),\n            start: $.isNumber(start) ? start : -1\n        });\n        return ew.getApiUrl(ew.API_LOOKUP_ACTION, params.toString());\n    }\n\n    /**\n     * Prepare URL and data for sending request\n     * @param {string} query Search term\n     * @param {Number} start Start page\n     */\n    prepare(query, start) {\n        return {\n            url: this.getUrl(query, start),\n            type: \"POST\",\n            dataType: \"json\",\n            data: this.generateRequest()\n        };\n    }\n\n    /**\n     * Transform options (virtual)\n     * @param {Object[]} data Data from server\n     */\n    transform(data) {\n        let results = [];\n        if (data && data.result == \"OK\") {\n            this.recordCount = data.totalRecordCount;\n            results = data.records;\n        }\n        return results;\n    }\n\n}\n","/**\n * Class selection list option\n */\nexport default class SelectionListOption {\n\n    /**\n     * Constructor\n     */\n    constructor(value, text, selected) {\n        this.value = String(value || \"\");\n        this.text = String(text || \"\");\n        this.selected = !!selected;\n    }\n\n}","import $ from 'jquery';\nimport SelectionListOption from './SelectionListOption';\nimport AjaxLookup from './AjaxLookup';\n\n// AutoSuggest class\nfunction AutoSuggest(settings) {\n    AjaxLookup.call(this, settings); // Extends AjaxLookup\n\n    var emptyObj = { typeahead: {} }; // Empty Auto-Suggest object\n\n    if (this.elementId.includes(\"$rowindex$\"))\n        return emptyObj;\n\n    this.input = this.form.getElement(\"sv_\" + this.elementId); // User input\n    if (!this.input)\n        return emptyObj;\n\n    var self = this,\n        $input = $(this.input),\n        $element = $(this.element),\n        timer;\n\n    // Properties\n    this.minWidth = settings.minWidth;\n    this.maxHeight = settings.maxHeight;\n    this.highlight = settings.highlight;\n    this.hint = settings.hint;\n    this.minLength = settings.minLength;\n    this.templates = Object.assign({}, settings.templates); // Clone\n    this.trigger = settings.trigger; // For loading more results\n    this.delay = settings.delay; // For loading more results\n    this.debounce = settings.debounce;\n    this.display = settings.display || \"text\";\n    this.forceSelection = settings.forceSelect;\n    this.$input = $input;\n    this.$element = $element;\n\n    // Save initial option\n    if ($input.val() && $element.val())\n        this.element.add($element.val(), $input.val(), true);\n\n    // Set the selected item to the actual field\n    this.setValue = function(v) {\n        v = v || $input.val();\n        let index = this.element.options.findIndex(option => option.text == v);\n        if (index < 0) { // Not found in results\n            if (this.forceSelection && v) { // Force selection and query not empty => error\n                $input.typeahead(\"val\", \"\").attr(\"placeholder\", ew.language.phrase(\"ValueNotExist\")).addClass(\"is-invalid\");\n                $element.val(\"\").trigger(\"change\");\n                return;\n            }\n        } else { // Found in results\n            this.element.options[index].selected = true;\n            if (!/s(ea)?rch$/.test(this.formElement.id) || this.forceSelection) // Force selection or not search form\n                v = this.element.options[index].value; // Replace the display value by Link Field value\n        }\n        if (v !== $element.attr(\"value\"))\n            $element.attr(\"value\", v).trigger(\"change\"); // Set value to the actual field\n    };\n\n    // Transform suggestion\n    this.transform = function(data) {\n        let results = AjaxLookup.prototype.transform.call(this, data);\n        this.element.options = results.map(item => new SelectionListOption(item[0], self.formatResult(item)));\n        return this.element.options;\n    };\n\n    // Get suggestions by Ajax\n    this.source = function(query, syncResults, asyncResults) {\n        if (timer)\n            timer.cancel();\n        timer = $.later(self.debounce, null, function() {\n            self.recordCount = 0; // Reset\n            var settings = self.prepare(query);\n            $.ajax(settings).done(function(data) {\n                asyncResults(self.transform(data));\n            });\n        });\n    };\n\n    // Get current suggestion count\n    this.count = function() {\n        return self.typeahead.menu.$node.find(\".tt-suggestion.tt-selectable\").length;\n    };\n\n    // Get more suggestions by Ajax\n    this.more = function() {\n        var $body = $(\"body\");\n        $body.css(\"cursor\", \"wait\");\n        var ta = self.typeahead, query = ta.menu.query, dataset = ta.menu.datasets[0];\n        var start = self.count();\n        var settings = self.prepare(query, start);\n        $.ajax(settings).done(function(data) {\n            data = self.transform(data);\n            dataset._append(query, data);\n            ta.menu.$node.find(\".tt-dataset\").scrollTop(dataset.$lastSuggestion.outerHeight() * start);\n        }).always(function() {\n            $body.css(\"cursor\", \"default\");\n        });\n    };\n\n    // Add events\n    $input.on(\"typeahead:select\", function(e, d) {\n        self.setValue(d[self.display]);\n    }).change(function(e) {\n        var ta = $input.data(\"tt-typeahead\");\n        if (ta && ta.isOpen() && !ta.menu.empty()) {\n            var $item = ta.menu.getActiveSelectable();\n            if ($item) { // A suggestion is highlighted\n                let i = $item.index(),\n                    val = self.element.options[i].text;\n                $input.typeahead(\"val\", val);\n            }\n        }\n        self.setValue();\n    }).blur(function(e) { // \"change\" fires before blur\n        var ta = $input.data(\"tt-typeahead\");\n        if (ta && ta.isOpen())\n            ta.menu.close();\n    }).focus(function(e) {\n        $input.attr(\"placeholder\", $input.data(\"placeholder\")).removeClass(\"is-invalid\");\n    });\n\n    // Option template (\"suggestion\" template)\n    var tpl = self.list.template || self.templates[\"suggestion\"];\n    if (tpl && $.isString(tpl))\n        tpl = $.templates(tpl);\n    if (tpl)\n        self.templates[\"suggestion\"] = tpl.render.bind(tpl);\n\n    // Save\n    $element.data(\"autosuggest\", this);\n\n    // Create Typeahead\n    $(function() {\n        // Typeahead options and dataset\n        var options = {\n            highlight: self.highlight,\n            minLength: self.minLength,\n            hint: self.hint,\n            trigger: self.trigger,\n            delay: self.delay\n        };\n        var dataset = {\n            name: self.form.id + \"-\" + self.elementId,\n            source: self.source,\n            templates: self.templates,\n            display: self.display,\n            limit: self.limit,\n            async: true\n        };\n        var args = [options, dataset];\n        // Trigger \"typeahead\" event\n        $element.trigger(\"typeahead\", [args]);\n        self.limit = dataset.limit;\n        // Create Typeahead\n        $input.typeahead.apply($input, args);\n        $input.on(\"typeahead:rendered\", function() {\n            var $node = self.typeahead.menu.$node;\n            var $more = $node.find(\".tt-more\").html(ew.language.phrase(\"More\"));\n            if (arguments.length > 1 && // Arguments: event, suggestion, suggestion, ...\n                self.recordCount > self.count()) {\n                $more.one(options.trigger, function(e) {\n                    setTimeout(function() {\n                        self.more();\n                    }, options.delay);\n                    e.preventDefault();\n                    e.stopPropagation();\n                });\n            } else {\n                $more.hide();\n            }\n        });\n        $input.off(\"blur.tt\");\n        self.typeahead = $input.data(\"tt-typeahead\");\n        var $menu = self.typeahead.menu.$node.css(\"z-index\", 1000);\n        if (self.minWidth)\n            $menu.css(\"min-width\", self.minWidth);\n        var $dataset = $menu.find(\".tt-dataset\");\n        var maxHeight = self.maxHeight ||\n            (parseInt($dataset.css(\"line-height\"), 10) + 6) * (dataset.limit + 1); // Match .tt-suggestion padding\n        $dataset.css({ \"max-height\": maxHeight, \"overflow-y\": \"auto\" });\n    });\n}\n\nAutoSuggest.prototype = Object.create(AjaxLookup.prototype);\n\nexport default AutoSuggest;","import $ from 'jquery';\n\n/**\n * Class Forms\n */\nexport default class Forms {\n    _forms = {};\n\n    /**\n     * Get form by element or id\n     * @param {HTMLElement|string} el Element or id\n     */\n    get(el) {\n        let id = ($.isString(el)) ? el : ew.getForm(el).id;\n        return this._forms[id];\n    }\n\n    /**\n     * Add form\n     * @param {Form} f Form\n     */\n    add(f) {\n        this._forms[f.id] = f;\n    }\n\n    /**\n     * Get all ids\n     * @returns {string[]}\n     */\n    ids() {\n        return Object.keys(this._forms);\n    }\n\n}","import $ from 'jquery';\n\n/**\n * Select2 decorator for results adapter\n */\nexport default function(Utils) {\n\n    class Select2CustomOption {\n\n        render(decorated) {\n            var $results = $(\n              '<div class=\"select2-results__options ' + this.options.get('containerClass') + '\" role=\"listbox\"></div>'\n            ); //***\n\n            if (this.options.get('multiple')) {\n              $results.attr('aria-multiselectable', 'true');\n            }\n\n            this.$results = $results;\n\n            return $results;\n        };\n\n        displayMessage(decorated, params) {\n            var escapeMarkup = this.options.get('escapeMarkup');\n\n            this.clear();\n            this.hideLoading();\n\n            var $message = $(\n              '<div role=\"alert\" aria-live=\"assertive\"' +\n              ' class=\"select2-results__option\"></div>'\n            ); //***\n\n            if (params.message.includes(\"<\") && params.message.includes(\">\")) { // HTML //***\n              $message.append(params.message);\n            } else {\n              var message = this.options.get('translations').get(params.message);\n              $message.append(\n                escapeMarkup(\n                  message(params.args)\n                )\n              );\n            }\n\n            $message[0].className += ' select2-results__message';\n\n            this.$results.append($message);\n        };\n\n        append(decorated, data) {\n            this.hideLoading();\n\n            var $options = [];\n\n            if (data.results == null || data.results.length === 0) {\n              if (this.$results.children().length === 0) {\n                if (this.$element.data(\"updating\")) {\n                  this.trigger('results:message', {\n                    message: '<div class=\"spinner-border spinner-border-sm text-primary ew-select-spinner\" role=\"status\"><span class=\"sr-only\">' + ew.language.phrase('Loading') + '</span></div> ' + ew.language.phrase('Loading')\n                  });\n                  this.$element.one(\"updatedone\", () => this.$element.select2(\"close\").select2(\"open\"));\n                } else {\n                  this.trigger('results:message', {\n                    message: 'noResults'\n                  });\n                }\n              }\n\n              return;\n            }\n\n            data.results = this.sort(data.results);\n\n            //***\n            var cols = this.options.get('columns'),\n                len = data.results.length,\n                $row = this.$results.find(\".\" + this.options.get('rowClass')).last();\n\n            for (var d = 0; d < data.results.length; d++) {\n                var item = data.results[d];\n\n                var $option = this.option(item);\n\n                if (!$row.length || $row.children().length == cols) { // Add new row\n                    $row = $('<div class=\"' + this.options.get('rowClass') + '\"></div>');\n                    this.$results.append($row);\n                }\n\n                $row.append($option);\n\n                if (d == len - 1) { // Last\n                    var cnt = cols - $row.children().length;\n                    for (var i = 0; i < cnt ; i++)\n                        $row.append('<div class=\"' + this.options.get('colClass') + '\"></div>');\n                }\n            }\n\n        };\n\n        option(decorated, data) {\n            // var option = document.createElement('li');\n            var option = document.createElement('div'); //***\n            option.className = 'select2-results__option ' + this.options.get('cellClass'); //***\n\n            var attrs = {\n              'role': 'option',\n              'aria-selected': 'false'\n            };\n\n            var matches = window.Element.prototype.matches ||\n              window.Element.prototype.msMatchesSelector ||\n              window.Element.prototype.webkitMatchesSelector;\n\n            if ((data.element != null && matches.call(data.element, ':disabled')) ||\n                (data.element == null && data.disabled)) {\n              delete attrs['aria-selected'];\n              attrs['aria-disabled'] = 'true';\n            }\n\n            if (data.id == null) {\n              delete attrs['aria-selected'];\n            }\n\n            if (data._resultId != null) {\n              option.id = data._resultId;\n            }\n\n            if (data.title) {\n              option.title = data.title;\n            }\n\n            // if (data.children) { //***\n            //   attrs.role = 'group';\n            //   attrs['aria-label'] = data.text;\n            //   delete attrs['aria-selected'];\n            // }\n\n            for (var attr in attrs) {\n              var val = attrs[attr];\n\n              option.setAttribute(attr, val);\n            }\n\n            // if (data.children) { //***\n            //   var $option = $(option);\n\n            //   var label = document.createElement('strong');\n            //   label.className = 'select2-results__group';\n\n            //   var $label = $(label);\n            //   this.template(data, label);\n\n            //   var $children = [];\n\n            //   for (var c = 0; c < data.children.length; c++) {\n            //     var child = data.children[c];\n\n            //     var $child = this.option(child);\n\n            //     $children.push($child);\n            //   }\n\n            //   var $childrenContainer = $('<ul></ul>', {\n            //     'class': 'select2-results__options select2-results__options--nested'\n            //   });\n\n            //   $childrenContainer.append($children);\n\n            //   $option.append(label);\n            //   $option.append($childrenContainer);\n            // } else {\n              this.template(data, option);\n            // }\n\n            Utils.StoreData(option, 'data', data);\n\n            return option;\n        };\n\n    }\n\n    return Select2CustomOption;\n}","import $ from 'jquery';\nimport AjaxLookup from './AjaxLookup';\nimport AutoSuggest from './AutoSuggest';\nimport Form from './Form';\nimport Forms from './Forms';\nimport Field from './Field';\nimport SelectionListOption from './SelectionListOption';\nimport getSelect2CustomOptionClass from './Select2CustomOption';\n\nexport let currentUrl = new URL(window.location);\nexport let forms = new Forms();\nexport { AjaxLookup, AutoSuggest, Form, SelectionListOption };\n\nlet $document = $(document),\n    $body = $(\"body\");\n\n// Remove spinner (immediately)\nlet _removeSpinner = ew.removeSpinner;\n\n// Remove spinner\nexport function removeSpinner() {\n    var timer = $body.data(\"_spinner\");\n    if (timer)\n        timer.cancel();\n    timer = $.later(500, null, function() {\n        if ($document.data(\"_ajax\") !== true) { // Ajax not running\n            _removeSpinner();\n            $(\"form.ew-form\").each(function() {\n                var frm = forms.get(this.id);\n                if (frm) {\n                    frm.focus();\n                    return false;\n                }\n            });\n        }\n    });\n    $body.data(\"_spinner\", timer);\n}\n\n// Create select2\nexport function createSelect(options) {\n    if (options.selectId.includes(\"$rowindex$\"))\n        return;\n    $.fn.select2.amd.require(\n        [\"select2/utils\", \"select2/results\", \"select2/dropdown/infiniteScroll\", \"select2/dropdown/hidePlaceholder\", \"select2/dropdown/selectOnClose\"],\n        (function(opts) {\n            return function (Utils, ResultsList, InfiniteScroll, HidePlaceholder, SelectOnClose) {\n                let options = Object.assign({}, ew.selectOptions, opts);\n                if (options.resultsAdapter == null) {\n                    options.resultsAdapter = ResultsList;\n                    if (options.dropdown && options.columns && options.customOption) {\n                        options.resultsAdapter = Utils.Decorate(\n                            options.resultsAdapter,\n                            getSelect2CustomOptionClass(Utils)\n                        );\n                        if (options.iconClass && options.multiple && !options.templateResult) {\n                            options.templateResult = (result) => '<label class=\"' + options.iconClass + ' ew-dropdown-label\">' + result.text + '</label>';\n                        }\n                    }\n                    if (options.ajax != null) {\n                        options.resultsAdapter = Utils.Decorate(\n                            options.resultsAdapter,\n                            InfiniteScroll\n                        );\n                    }\n                    if (options.placeholder != null) {\n                        options.resultsAdapter = Utils.Decorate(\n                            options.resultsAdapter,\n                            HidePlaceholder\n                        );\n                    }\n                    if (options.selectOnClose) {\n                        options.resultsAdapter = Utils.Decorate(\n                            options.resultsAdapter,\n                            SelectOnClose\n                        );\n                    }\n                }\n                if ($.isObject(options.ajax)) {\n                    let lookup = new ew.AjaxLookup(options.ajax)\n                    options.ajax = {\n                        url: (params) => {\n                            let start = params.page ? (params.page - 1) * (settings.limit || ew.AUTO_SUGGEST_MAX_ENTRIES) : -1;\n                            return lookup.getUrl(params.term, start);\n                        },\n                        type: \"POST\",\n                        dataType: \"json\",\n                        data: lookup.generateRequest(),\n                        delay: options.debounce,\n                        processResults: (data) => {\n                            return {\n                                results: lookup.transform(data).map(item => {\n                                    return {\n                                        id: item[0],\n                                        text: lookup.formatResult({ lf: item[0], df: item[1], df2: item[2], df3: item[3], df4: item[4] })\n                                    };\n                                }),\n                                pagination: {\n                                    more: data.length < lookup.recordCount\n                                }\n                            }\n                        }\n                    };\n                }\n                $(\"select[data-select2-id='\" + options.selectId + \"']\").select2(options);\n                if (options.multiple && options.minimumResultsForSearch === Infinity) {\n                    $(\"select[id='<#= ctl #>']\").on(\"select2:opening select2:closing\", function(event) {\n                        $(this).parent().find(\".select2-search__field\").prop(\"disabled\", true);\n                    });\n                }\n            };\n        })(options)\n    );\n}\n\n// Init icon tooltip\nexport function initIcons(e) {\n    var el = (e && e.target) ? e.target : document;\n    $(el).find(\".ew-icon\").closest(\"a, button\").add(\".ew-tooltip\").tooltip({\n        container: \"body\",\n        trigger: (ew.IS_MOBILE) ? \"manual\" : \"hover\",\n        placement: \"bottom\",\n        sanitizeFn: ew.sanitizeFn\n    });\n}\n\n// Init password options\nexport function initPasswordOptions(e) {\n    var el = (e && e.target) ? e.target : document;\n    if ($.fn.pStrength && typeof ew.MIN_PASSWORD_STRENGTH != \"undefined\") {\n        $(el).find(\".ew-password-strength\").each(function() {\n            var $this = $(this);\n            if (!$this.data(\"pStrength\"))\n                $this.pStrength({\n                    \"changeBackground\": false,\n                    \"backgrounds\": [],\n                    \"passwordValidFrom\": ew.MIN_PASSWORD_STRENGTH,\n                    \"onPasswordStrengthChanged\": function(strength, percentage) {\n                        var $this = $(this), $pst = $(\"[id='\" + $this.attr(\"data-password-strength\") + \"']\"), // Do not use #\n                            $pb = $pst.find(\".progress-bar\");\n                        $pst.width($this.outerWidth());\n                        if ($this.val() && !ew.isMaskedPassword(this)) {\n                            var pct = percentage + \"%\";\n                            if (percentage < 25) {\n                                $pb.addClass(\"bg-danger\").removeClass(\"bg-warning bg-info bg-success\");\n                            } else if (percentage < 50) {\n                                $pb.addClass(\"bg-warning\").removeClass(\"bg-danger bg-info bg-success\");\n                            } else if (percentage < 75) {\n                                $pb.addClass(\"bg-info\").removeClass(\"bg-danger bg-warning bg-success\");\n                            } else {\n                                $pb.addClass(\"bg-success\").removeClass(\"bg-danger bg-warning bg-info\");\n                            }\n                            $pb.css(\"width\", pct);\n                            if (percentage > 25)\n                                pct = ew.language.phrase(\"PasswordStrength\").replace(\"%p\", pct);\n                            $pb.html(pct);\n                            $pst.removeClass(\"d-none\").show();\n                            $this.data(\"validated\", percentage >= ew.MIN_PASSWORD_STRENGTH);\n                        } else {\n                            $pst.addClass(\"d-none\").hide();\n                            $this.data(\"validated\", null);\n                        }\n                    }\n                });\n        });\n    }\n    if ($.fn.pGenerator) {\n        $(el).find(\".ew-password-generator\").each(function() {\n            var $this = $(this);\n            if (!$this.data(\"pGenerator\"))\n                $this.pGenerator({\n                    \"passwordLength\": ew.GENERATE_PASSWORD_LENGTH,\n                    \"uppercase\": ew.GENERATE_PASSWORD_UPPERCASE,\n                    \"lowercase\": ew.GENERATE_PASSWORD_LOWERCASE,\n                    \"numbers\": ew.GENERATE_PASSWORD_NUMBER,\n                    \"specialChars\": ew.GENERATE_PASSWORD_SPECIALCHARS,\n                    \"onPasswordGenerated\": function(pwd) {\n                        var $this = $(this);\n                        $(\"#\" + $this.attr(\"data-password-field\")).val(pwd).trigger(\"change\").trigger(\"focus\").triggerHandler(\"click\"); // Trigger click to remove \"is-invalid\" class (Do not use $this.data)\n                        $(\"#\" + $this.attr(\"data-password-confirm\")).val(pwd);\n                        $(\"#\" + $this.attr(\"data-password-strength\")).addClass(\"d-none\").hide();\n                    }\n                });\n        });\n    }\n}\n\n// Get API action URL\nexport function getApiUrl(action, query) {\n    var url = ew.PATH_BASE + ew.API_URL,\n        params = new URLSearchParams(query);\n    if (ew.USE_URL_REWRITE) {\n        if ($.isString(action)) { // Route as string\n            url += action ? action : \"\";\n        } else if (Array.isArray(action)) { // Route as array\n            var route = action.map(function(v) {\n                return encodeURIComponent(v);\n            }).join(\"/\");\n            url += route ? route : \"\";\n        }\n    } else {\n        if (action)\n            params.set(ew.API_ACTION_NAME, action);\n    }\n    var qs = params.toString();\n    return url + (qs ? \"?\" + qs : \"\");\n}\n\n// Set session timer\nexport function setSessionTimer() {\n    var timeoutTime, timer, keepAliveTimer, counter,\n        useKeepAlive = (ew.SESSION_KEEP_ALIVE_INTERVAL > 0 || ew.IS_LOGGEDIN && ew.IS_AUTOLOGIN);\n    // Keep alive\n    var keepAlive = () => {\n        $.get(getApiUrl(ew.API_SESSION_ACTION), { \"rnd\": random() }, (token) => {\n            if (token && $.isObject(token)) { // PHP\n                ew.TOKEN_NAME = token[ew.TOKEN_NAME_KEY];\n                ew.ANTIFORGERY_TOKEN = token[ew.ANTIFORGERY_TOKEN_KEY];\n            }\n        });\n    };\n    // Reset timer\n    var resetTimer = () => {\n        counter = ew.SESSION_TIMEOUT_COUNTDOWN;\n        timeoutTime = ew.SESSION_TIMEOUT - ew.SESSION_TIMEOUT_COUNTDOWN;\n        if (timeoutTime < 0) { // Timeout now\n            timeoutTime = 0;\n            counter = ew.SESSION_TIMEOUT;\n        }\n        if (timer)\n            timer.cancel(); // Clear timer\n    };\n    // Timeout\n    var timeout = () => {\n        if (keepAliveTimer)\n            keepAliveTimer.cancel(); // Stop keep alive\n        if (counter > 0) {\n            let timerInterval;\n            let message = '<p class=\"text-danger\">' + ew.language.phrase(\"SessionWillExpire\") + '</p>';\n            if (message.includes(\"%m\") && message.includes(\"%s\")) {\n                message = message.replace(\"%m\", '<span class=\"ew-session-counter-minute\">' + Math.floor(counter / 60) + '</span>')\n                message = message.replace(\"%s\", '<span class=\"ew-session-counter-second\">' + (counter % 60) + '</span>')\n            } else if (message.includes(\"%s\")) {\n                message = message.replace(\"%s\", '<span class=\"ew-session-counter-second\">' + counter + '</span>');\n            }\n            Swal.fire({\n                ...ew.sweetAlertSettings,\n                html: message,\n                showConfirmButton: true,\n                confirmButtonText: ew.language.phrase(\"OKBtn\"),\n                timer: counter * 1000,\n                timerProgressBar: true,\n                allowOutsideClick: false,\n                allowEscapeKey: false,\n                onBeforeOpen: () => {\n                    timerInterval = setInterval(() => {\n                        let content = Swal.getContent(),\n                            min = content.querySelector(\".ew-session-counter-minute\"),\n                            sec = content.querySelector(\".ew-session-counter-second\"),\n                            timeleft = Math.round(Swal.getTimerLeft() / 1000);\n                        if (min && sec) {\n                            min.textContent = Math.floor(timeleft / 60);\n                            sec.textContent = timeleft % 60;\n                        } else if (sec) {\n                            sec.textContent = timeleft;\n                        }\n                    }, 1000)\n                },\n                onClose: () => {\n                    clearInterval(timerInterval);\n                }\n            }).then((result) => {\n                if (result.value) { // OK button pressed\n                    keepAlive();\n                    if (!useKeepAlive && ew.SESSION_TIMEOUT > 0)\n                        setTimer();\n                } else if (result.dismiss === Swal.DismissReason.timer) { // Timeout\n                    resetTimer();\n                    window.location = ew.TIMEOUT_URL + \"?expired=1\";\n                }\n            });\n        }\n    };\n    // Set timer\n    var setTimer = () => {\n        resetTimer(); // Reset timer first\n        timer = $.later(timeoutTime * 1000, null, timeout);\n    };\n    if (useKeepAlive) { // Keep alive\n        var keepAliveInterval = (ew.SESSION_KEEP_ALIVE_INTERVAL > 0) ? ew.SESSION_KEEP_ALIVE_INTERVAL : ew.SESSION_TIMEOUT - ew.SESSION_TIMEOUT_COUNTDOWN;\n        if (keepAliveInterval <= 0)\n            keepAliveInterval = 60;\n        keepAliveTimer = $.later(keepAliveInterval * 1000, null, keepAlive, null, true); // Periodic\n    } else {\n        if (ew.SESSION_TIMEOUT > 0) // Set session timeout\n            setTimer();\n    }\n}\n\n// Init export links\nexport function initExportLinks(e) {\n    var el = (e && e.target) ? e.target : document;\n    $(el).find(\".ew-export-link[href]:not(.ew-email):not(.ew-print):not(.ew-xml)\").on(\"click\", function(e) {\n        var href = $(this).attr(\"href\");\n        if (href && href != \"#\")\n            fileDownload(href);\n        e.preventDefault();\n    });\n}\n\n// Init multi-select checkboxes\nexport function initMultiSelectCheckboxes(e) {\n    var el = (e && e.target) ? e.target : document,\n        $el = $(el),\n        $cbs = $el.find(\"input[type=checkbox].ew-multi-select\");\n    var _update = function(id) {\n        var $els = $cbs.filter(\"[name^='\" + id + \"_']\"), cnt = $els.length, len = $els.filter(\":checked\").length;\n        $els.closest(\"form\").find(\"input[type=checkbox]#\" + id)\n            .prop(\"checked\", len == cnt).prop(\"indeterminate\", len != cnt && len != 0);\n    };\n    $cbs.on(\"click\", function(e) {\n        _update(this.name.split(\"_\")[0]);\n    });\n    $el.find(\"input[type=checkbox].ew-priv:not(.ew-multi-select)\").each(function() {\n        _update(this.id); // Init\n    });\n}\n\n// Download file\nexport function fileDownload(href, data) {\n    let win = window.parent,\n        jq = win.jQuery,\n        swal = win.Swal,\n        doc = win.document,\n        $doc = jq(doc),\n        method = data ? \"POST\" : \"GET\",\n        isHtml = href.includes(\"export=html\");\n    return swal.fire({\n        ...ew.sweetAlertSettings,\n        html: \"<p>\" + ew.language.phrase(\"Exporting\") + \"</p>\",\n        allowOutsideClick: false,\n        allowEscapeKey: false,\n        onBeforeOpen: () => {\n            swal.showLoading(),\n            jq.ajax({\n                url: href,\n                type: method,\n                cache: false,\n                data: data || null,\n                xhrFields: {\n                    responseType: isHtml ? \"text\" : \"blob\"\n                }\n            }).done((data, textStatus, jqXHR) => {\n                var url = win.URL.createObjectURL(isHtml ? new Blob([data], { type: \"text/html\" }) : data),\n                    a = doc.createElement(\"a\"),\n                    cd = jqXHR.getResponseHeader(\"Content-Disposition\"),\n                    m = cd.match(/\\bfilename=((['\"])(.+)\\2|([^;]+))/i);\n                a.style.display = \"none\";\n                a.href = url;\n                if (m)\n                    a.download = m[3] || m[4];\n                doc.body.appendChild(a);\n                a.click();\n                $doc.trigger(\"export\", [{ \"type\": \"done\", \"url\": href, \"objectUrl\": url }]);\n                win.URL.revokeObjectURL(url);\n                swal.close();\n            }).fail(() => {\n                swal.showValidationMessage(\"<div class='text-danger'><h4>\" + ew.language.phrase(\"FailedToExport\") + \"</h4>\" + response + \"</div>\");\n                $doc.trigger(\"export\", [{ \"type\": \"fail\", \"url\": href }]);\n            }).always(() => {\n                $doc.trigger(\"export\", [{ \"type\": \"always\", \"url\": href }]);\n            });\n        }\n    });\n}\n\n// Lazy load images\nexport function lazyLoad(e) {\n    if (!ew.LAZY_LOAD)\n        return;\n    var el = (e && e.target) ? e.target : document;\n    $(el).find(\"img.ew-lazy\").each(function () {\n        this.src = this.dataset.src;\n    });\n    $document.trigger(\"lazyload\"); // All images loaded\n}\n\n// Update select2 dropdown position\nexport function updateDropdownPosition() {\n    var select = $(\".select2-container--open\").prev(\".ew-select\").data(\"select2\");\n    if (select) {\n        select.dropdown._positionDropdown();\n        select.dropdown._resizeDropdown();\n    }\n}\n\n// Colorboxes\nexport function initLightboxes(e) {\n    if (!ew.USE_COLORBOX)\n        return;\n    var el = (e && e.target) ? e.target : document;\n    var settings = Object.assign({}, ew.lightboxSettings, {\n        title: ew.language.phrase(\"LightboxTitle\"),\n        current: ew.language.phrase(\"LightboxCurrent\"),\n        previous: ew.language.phrase(\"LightboxPrevious\"),\n        next: ew.language.phrase(\"LightboxNext\"),\n        close: ew.language.phrase(\"LightboxClose\"),\n        xhrError: ew.language.phrase(\"LightboxXhrError\"),\n        imgError: ew.language.phrase(\"LightboxImgError\")\n    });\n    $(el).find(\".ew-lightbox\").each(function() {\n        var $this = $(this);\n        $this.colorbox(Object.assign({ rel: $this.data(\"rel\") }, settings));\n    });\n}\n\n// PDFObjects\nexport function initPdfObjects(e) {\n    if (!ew.EMBED_PDF)\n        return;\n    var el = (e && e.target) ? e.target : document,\n        options = Object.assign({}, ew.PDFObjectOptions);\n    $(el).find(\".ew-pdfobject\").not(\":has(.pdfobject)\").each(function() { // Not already embedded\n        var $this = $(this), url = $this.data(\"url\"), html = $this.html();\n        if (url)\n            PDFObject.embed(url, this, Object.assign(options, { fallbackLink: html }));\n    });\n}\n\n// Tooltips and popovers\nexport function initTooltips(e) {\n    var el = (e && e.target) ? e.target : document, $el = $(el);\n    $el.find(\"input[data-toggle=tooltip],textarea[data-toggle=tooltip],select[data-toggle=tooltip]\").each(function() {\n        var $this = $(this);\n        $this.tooltip(Object.assign({ html: true, placement: \"bottom\", sanitizeFn: ew.sanitizeFn }, $this.data()));\n    });\n    $el.find(\"a.ew-tooltip-link\").each(tooltip); // Init tooltips\n    $el.find(\".ew-tooltip\").tooltip({ placement: \"bottom\", sanitizeFn: ew.sanitizeFn });\n    $el.find(\".ew-popover\").popover({ sanitizeFn: ew.sanitizeFn });\n}\n\n// Parse JSON\nexport function parseJson(data) {\n    if ($.isString(data)) {\n        try {\n            return JSON.parse(data);\n        } catch(e) {\n            return undefined;\n        }\n    }\n    return data;\n}\n\n// Change search operator\nexport function searchOperatorChanged(el) {\n    var $el = $(el),\n        $p = $el.closest(\"[id^=r_], [id^=xsc_]\"),\n        parm = el.id.substr(2),\n        $fld = $p.find(\".ew-search-field\"),\n        $fld2 = $p.find(\".ew-search-field2\"),\n        $y = $fld2.find(\"[name='y_\" + parm + \"'], [name='y_\" + parm + \"[]']\"),\n        hasY = $y.length,\n        $cond = $p.find(\".ew-search-cond\"),\n        hasCond = $cond.length, // Has condition and operator 2\n        $and = $p.find(\".ew-search-and\"),\n        $opr = $p.find(\".ew-search-operator\"),\n        opr = $opr.find(\"[name='z_\" + parm + \"']\").val(),\n        $opr2 = $p.find(\".ew-search-operator2\"),\n        opr2 = $opr2.find(\"[name='w_\" + parm + \"']\").val(),\n        isBetween = opr == \"BETWEEN\", // Can only be operator 1\n        isNullOpr = [\"IS NULL\", \"IS NOT NULL\"].includes(opr),\n        isNullOpr2 = [\"IS NULL\", \"IS NOT NULL\"].includes(opr2),\n        hideOpr2 = !hasY || isBetween,\n        hideX = isNullOpr,\n        hideY = !isBetween && (!hasCond || isNullOpr2);\n    $cond.toggleClass(\"d-none\", hideOpr2).find(\":input\").prop(\"disabled\", hideOpr2);\n    $and.toggleClass(\"d-none\", !isBetween);\n    $opr2.toggleClass(\"d-none\", hideOpr2).find(\":input\").prop(\"disabled\", hideOpr2);\n    $fld.toggleClass(\"d-none\", hideX).find(\":input\").prop(\"disabled\", hideX);\n    $fld2.toggleClass(\"d-none\", hideY).find(\":input\").prop(\"disabled\", hideY);\n}\n\n// Init forms\nfunction initForms(e) {\n    let el = (e && e.target) ? e.target : document,\n        $el = $(el),\n        ids = ew.forms.ids();\n    for (let id of ids) {\n        if ($el.find(\"#\" + id))\n            forms.get(id).init();\n    }\n}\n\n// Prompt/Confirm/Alert\nfunction _prompt(text, cb, input, validator) {\n    if (input) { // Prompt\n        return Swal.fire({\n            ...ew.sweetAlertSettings,\n            html: text,\n            input: \"text\",\n            confirmButtonText: ew.language.phrase(\"OKBtn\"),\n            showCancelButton: $.isFunction(cb),\n            cancelButtonText: ew.language.phrase(\"CancelBtn\"),\n            inputValidator: validator || ((value) => {\n                if (!value)\n                    return ew.language.phrase(\"EnterValue\");\n            })\n        }).then(result => {\n            if ($.isFunction(cb))\n                cb(result.value);\n        });\n    } else { // Confirm or Alert\n        return Swal.fire({\n            ...ew.sweetAlertSettings,\n            html: \"<div>\" + text + \"</div>\",\n            confirmButtonText: ew.language.phrase(\"OKBtn\"),\n            showCancelButton: $.isFunction(cb),\n            cancelButtonText: ew.language.phrase(\"CancelBtn\"),\n        }).then(result => {\n            if ($.isFunction(cb))\n                cb(result.value);\n        });\n    }\n}\n\nexport { _prompt as prompt };\n\n// Toast\nexport function toast(options) {\n    options = Object.assign({}, ew.toastOptions, options);\n    $document.Toasts(\"create\", options);\n    var position = options.position,\n        $container = $(\"#toastsContainer\" + position[0].toUpperCase() + position.substring(1));\n    return $container.children().first();\n}\n\n/**\n * Show toast\n *\n * @param {string} msg - Message\n * @param {string} type - CSS class: \"muted|primary|success|info|warning|danger\"\n */\nexport function showToast(msg, type) {\n    type = type || \"danger\";\n    return toast({\n        class: \"ew-toast bg-\" + type,\n        title: ew.language.phrase(type),\n        body: msg,\n        autohide: (type == \"success\") ? ew.autoHideSuccessMessage : false, // Autohide for success message\n        delay: (type == \"success\") ? ew.autoHideSuccessMessageDelay: 500\n    });\n}\n\n// Get form.ew-form or div.ew-form HTML element\nexport function getForm(el) {\n    if (el instanceof Form)\n        return el.$element[0];\n    var $el = $(el), $f = $el.closest(\".ew-form\");\n    if (!$f[0]) // Element not inside form\n        $f = $el.closest(\".ew-grid, .ew-multi-column-grid\").find(\".ew-form\").not(\".ew-pager-form\");\n    return $f[0];\n}\n\n// Check form data\nexport function hasFormData(form) {\n    var selector = \"[name^=x_],[name^=y_],[name^=z_],[name^=w_],[name=psearch]\",\n        els = $(form).find(selector).filter(\":enabled\").get();\n    for (var i = 0, len = els.length; i < len; i++) {\n        var el = els[i];\n        if (/^(z|w)_/.test(el.name)) {\n            if (/^IS/.test($(el).val()))\n                return true;\n        } else if (el.type == \"checkbox\" || el.type == \"radio\") {\n            if (el.checked)\n                return true;\n        } else if (el.type == \"select-one\" || el.type == \"select-multiple\") {\n            if (!!$(el).val())\n                return true;\n        } else if (el.type == \"text\" || el.type == \"hidden\" || el.type == \"textarea\") {\n            if (el.value)\n                return true;\n        }\n    }\n    return false;\n}\n\n// Set search type\nexport function setSearchType(el, val) {\n    var $this = $(el), $form = $this.closest(\"form\"), text = \"\";\n    $form.find(\"input[name=psearchtype]\").val(val || \"\");\n    if (val == \"=\") {\n        text = ew.language.phrase(\"QuickSearchExactShort\");\n    } else if (val == \"AND\") {\n        text = ew.language.phrase(\"QuickSearchAllShort\");\n    } else if (val == \"OR\") {\n        text = ew.language.phrase(\"QuickSearchAnyShort\");\n    } else {\n        text = ew.language.phrase(\"QuickSearchAutoShort\");\n    }\n    $form.find(\"#searchtype\").html(text + ((text) ? \"&nbsp;\" : \"\"));\n    $this.closest(\"ul\").find(\"li\").removeClass(\"active\");\n    $this.closest(\"li\").addClass(\"active\");\n    return false;\n}\n\n/**\n * Update a dynamic selection list\n *\n * @param {(HTMLElement|HTMLElement[]|string|string[])} obj - Target HTML element(s) or the ID of the element(s)\n * @param {(string[]|array[])} parentId - Parent field element names or data\n * @param {(boolean|null)} async - async(true) or sync(false) or non-Ajax(null)\n * @param {boolean} change - Trigger onchange event\n * @returns\n */\nexport function updateOptions(obj, parentId, async, change) {\n    var f = (this.$element) ? this.$element[0] : (this.form) ? this.form : null; // Get form/div element from this\n    if (!f)\n        return;\n    var frm = (this.htmlForm) ? this : forms.get(f.id); // Get Form object\n    if (!frm)\n        return;\n    if (this.form && $.isUndefined(obj)) // Target unspecified\n        obj = forms.get(this).getList(this.name).childFields.slice(); // Clone\n    else if ($.isString(obj))\n        obj = getElements(obj, f);\n    if (!obj || Array.isArray(obj) && obj.length == 0)\n        return;\n    var self = this, promise = Promise.resolve();\n    if (Array.isArray(obj) && $.isString(obj[0])) { // Array of id (onchange/onclick event)\n        var els = [];\n        for (var i = 0, len = obj.length; i < len; i++) {\n            var ar = obj[i].split(\" \");\n            if (ar.length == 1 && self.form) { // Parent/Child fields in the same table\n                var m = getId(self, false).match(/^([xy]\\d*_)/);\n                if (m)\n                    obj[i] = obj[i].replace(/^([xy]\\d*_)/, m[1]);\n            }\n            var el = getElements(obj[i], f), names = [];\n            els.push(el);\n            if (ar.length == 2 && Array.isArray(el)) { // Check if id is \"tblvar fldvar\" and multiple inputs\n                var $el = $(el);\n                $el.each(function() {\n                    if (!names.includes(this.name)) {\n                        names.push(this.name);\n                        var $elf = $el.filter(\"[name='\" + this.name + \"']\"), typ = $elf.attr(\"type\"),\n                            elf = [\"radio\", \"checkbox\"].includes(typ) ? $elf.get() : $elf[0];\n                        promise = promise.then(_updateOptions.bind(self, elf, parentId, async, change));\n                    }\n                });\n            } else {\n                promise = promise.then(_updateOptions.bind(self, el, parentId, async, change));\n            }\n        }\n        obj = els;\n        var list = forms.get(self).getList(self.name);\n        if (list && Array.isArray(list.autoFillTargetFields) && list.autoFillTargetFields[0]) // AutoFill\n            promise = promise.then(autoFill.bind(null, self));\n    } else {\n        promise = promise.then(_updateOptions.bind(self, obj, parentId, async, change));\n    }\n    return promise.then(function() {\n        $document.trigger(\"updatedone\", [{ source: self, target: obj }]); // Document \"updatedone\" event fired after all the target elements are updated\n    });\n}\n\n/**\n * Update a dynamic selection list\n *\n * @param {(HTMLElement|HTMLElement[]} obj - Target HTML element(s) or the ID of the element(s)\n * @param {(string[]|array[])} parentId - Parent field element names or data\n * @param {(boolean|null)} async - async(true) or sync(false) or non-Ajax(null)\n * @param {boolean} change - Trigger onchange event\n * @returns Promise\n */\nfunction _updateOptions(obj, parentId, async, change) {\n    var id = getId(obj, false);\n    if (!id)\n        return;\n    var fo = getForm(obj); // Get form/div element from obj\n    if (!fo || !fo.id)\n        return;\n    var frmo = forms.get(fo.id);\n    if (!frmo)\n        return;\n    var self = this,\n        args = Array.from(arguments),\n        ar = getOptionValues(obj),\n        m = id.match(/^([xy])(\\d*)_/),\n        prefix = m ? m[1] : \"\",\n        rowindex = m ? m[2] : \"\",\n        arp = [],\n        list = frmo.getList(id),\n        $obj = $(obj).data(\"updating\", true);\n    if ($obj.data(\"hidden\")) // Skip data-hidden field, e.g. detail key\n        return;\n    if ($.isUndefined(parentId)) { // Parent IDs not specified, use default\n        parentId = list.parentFields.slice(); // Clone\n        if (rowindex != \"\") {\n            for (var i = 0, len = parentId.length; i < len; i++) {\n                var arr = parentId[i].split(\" \");\n                if (arr.length == 1) // Parent field in the same table, add row index\n                    parentId[i] = parentId[i].replace(/^x_/, \"x\" + rowindex + \"_\");\n            }\n        }\n    }\n    if (Array.isArray(parentId) && parentId.length > 0) {\n        if (Array.isArray(parentId[0])) { // Array of array => data\n            arp = parentId;\n        } else if ($.isString(parentId[0])) { // Array of string => Parent IDs\n            for (var i = 0, len = parentId.length; i < len; i++)\n                arp.push(getOptionValues(parentId[i], fo));\n        }\n    }\n    if (!isAutoSuggest(obj)) // Do not clear Auto-Suggest\n        clearOptions(obj);\n    var addOpt = function(results) {\n        var name = getId(obj);\n        results.forEach(function(result) {\n            let args = {\"data\": result, \"parents\": arp, \"valid\": true, \"name\": name, \"form\": fo};\n            $document.trigger(\"addoption\", [args]);\n            if (args.valid)\n                newOption(obj, result, fo);\n        });\n        if (obj.list)\n            obj.render();\n        selectOption(obj, ar);\n        if (change !== false) {\n            if (!obj.options && obj.length)\n                $obj.first().triggerHandler(\"click\");\n            else\n                $obj.first().trigger(\"change\");\n        }\n    }\n    if ($.isUndefined(async)) // Async not specified, use default\n        async = list.ajax;\n    var _updateSibling = function() { // Update the y_* element\n        if (/s(ea)?rch$/.test(fo.id) && prefix == \"x\") { // Search form\n            args[0] = id.replace(/^x_/, \"y_\");\n            updateOptions.apply(self, args); // args[0] is string, use updateOptions()\n        }\n    }\n    if (!$.isBoolean(async) || Array.isArray(list.lookupOptions) && list.lookupOptions.length > 0) { // Non-Ajax or Options loaded\n        var ds = list.lookupOptions;\n        addOpt(ds);\n        _updateSibling();\n        return ds;\n    } else { // Ajax\n        var name = getId(obj), data = Object.assign({\n            page: list.page,\n            field: list.field,\n            ajax: \"updateoption\",\n            language: ew.LANGUAGE_ID,\n            name: name // Name of the target element\n        }, getUserParams(\"#p_\" + id, fo)); // Add user parameters\n        if (isAutoSuggest(obj) && self.htmlForm) // Auto-Suggest (init form or auto-fill)\n            data[\"v0\"] = ar[0] || random(); // Filter by the current value\n        else if (isModalLookup(obj)) // Modal-Lookup\n            data[\"v0\"] = ar[0] ? (obj.multiple ? ar.join(ew.MULTIPLE_OPTION_SEPARATOR) : ar[0]) : random(); // Filter by the current value\n        for (var i = 0, cnt = arp.length; i < cnt; i++) // Filter by parent fields\n            data[\"v\" + (i + 1)] = arp[i].join(ew.MULTIPLE_OPTION_SEPARATOR);\n        return $.ajax(getApiUrl(ew.API_LOOKUP_ACTION), {\n                \"type\": \"POST\", \"dataType\": \"json\", \"data\": data, \"async\": async\n            }).done((result) => {\n                var ds = result.records || [];\n                addOpt(ds);\n                _updateSibling();\n                $obj.first().trigger(\"updated\", [Object.assign({}, result, { target: obj })]); // Object \"updatedone\" event fired after the object is updated\n                return ds;\n            }).always(() => $obj.data(\"updating\", false));\n    }\n}\n\n// Get user parameters from id\nexport function getUserParams(id, root) {\n    var id = id.replace(/\\[\\]$/, \"\"), o = {};\n    var root = !$.isString(root) ? root : /^#/.test(root) ? root : \"#\" + root;\n    var $els = (root) ? $(root).find(id) : $(id);\n    var val = $els.val();\n    if (val) {\n        var params = new URLSearchParams(val);\n        params.forEach(function(value, key) {\n            o[key] = value;\n        });\n    }\n    return o;\n}\n\n// Apply client side template to a DIV\nexport function applyTemplate(divId, tmplId, classId, exportType, data) { // Note: classId = fileName\n    var args = {\"data\": data || {}, \"id\": divId, \"template\": tmplId, \"class\": classId, \"export\": exportType, \"enabled\": true};\n    $document.trigger(\"rendertemplate\", [args]);\n    if (args.enabled) {\n        if (document.body.replaceWith) { // Not IE\n            var template = document.getElementById(tmplId).content;\n            template.querySelectorAll(\".ew-slot\").forEach(el => {\n                var subtmpl = document.getElementById(el.name || el.id);\n                if (subtmpl && subtmpl.content) {\n                    if (el.dataset.rowspan > 1)\n                        Array.prototype.slice.call(subtmpl.content.childNodes).forEach(node => node.rowSpan = el.dataset.rowspan);\n                    el.replaceWith(subtmpl.content);\n                } else {\n                    el.remove();\n                }\n            });\n            if ($.views) {\n                var textContent = template.textContent;\n                if (textContent.includes(\"{{\") && textContent.includes(\"}}\")) { // Includes JsRender template\n                    var scripts = Array.prototype.slice.call(template.querySelectorAll(\"script\")); // Extract scripts\n                    scripts.forEach(item => item.remove());\n                    var div = document.createElement(\"div\");\n                    div.appendChild(template);\n                    var html = div.innerHTML, tmpl = $.templates(html);\n                    document.getElementById(divId).innerHTML = tmpl.render(args.data, ew.jsRenderHelpers);\n                    scripts.forEach(item => document.body.appendChild(item)); // Add scripts\n                } else {\n                    document.getElementById(divId).appendChild(template);\n                }\n            } else {\n                document.getElementById(divId).appendChild(template);\n            }\n        } else { // IE\n            _alert(ew.language.phrase(\"UnsupportedBrowser\") || \"Your browser is not supported by this page.\");\n        }\n    }\n    if (exportType && exportType != \"print\") { // Export custom\n        $(function() {\n            var $meta = $(\"meta[http-equiv='Content-Type']\"),\n                html = \"<html><head>\",\n                $div = $(\"#\" + divId);\n            if ($div.children(0).is(\"div[id^=ct_]\")) // Remove first div tag\n                $div = $div.children(0);\n            if ($meta[0])\n                html += \"<meta http-equiv='Content-Type' content='\" + $meta.attr(\"content\") + \"'>\";\n            if (exportType == \"pdf\") {\n                html += \"<link rel='stylesheet' type='text/css' href='\" + ew.PDF_STYLESHEET_FILENAME + \"'>\";\n            } else {\n                html += \"<style>\" + $.ajax({async: false, type: \"GET\", url: ew.PROJECT_STYLESHEET_FILENAME}).responseText + \"</style>\";\n            }\n            html += \"</\" + \"head><body>\";\n            $(\".ew-chart-top\").each(function() {\n                html += $(this).html();\n            });\n            html += $div.html();\n            $(\".ew-chart-bottom\").each(function() {\n                html += $(this).html();\n            });\n            html += \"</body></html>\";\n            var url = currentPage(),\n                data = { \"customexport\": exportType, \"data\": html, \"filename\": args.class };\n            data[ew.TOKEN_NAME] = ew.ANTIFORGERY_TOKEN;\n            if (exportType == \"email\") {\n                var str = currentUrl.searchParams.toString() + \"&\" + $.param(data); // Add data\n                $.post(url, str, function(result) {\n                    showMessage(result);\n                });\n            } else {\n                fileDownload(url, data);\n            }\n            window.parent.jQuery(\"body\").css(\"cursor\", \"default\"); // Use window.parent in case in iframe\n        });\n    }\n}\n\n// Toggle group\nexport function toggleGroup(el) {\n    var $el = $(el), $tr = $el.closest(\"tr\"), selector = \"tr\", level;\n    for (var i = 1; i <= 6; i++) {\n        var idx = (i == 1) ? \"\" : \"-\" + i;\n        var data = $tr.data(\"group\" + idx);\n        if ($.isValue(data)) {\n            level = i;\n            if (data != \"\")\n                selector += \"[data-group\" + idx + \"='\" + String(data).replace(/'/g, \"\\\\'\") + \"']\";\n        }\n    }\n    if ($el.hasClass(\"icon-collapse\")) { // Hide\n        $(selector).slice(1).addClass(\"ew-rpt-grp-hide-\" + level);\n        $el.toggleClass(\"icon-expand icon-collapse\");\n    } else {\n        $(selector).slice(1).removeClass(\"ew-rpt-grp-hide-\" + level);\n        $el.toggleClass(\"icon-expand icon-collapse\");\n    }\n}\n\n// Check if boolean value is true\nexport function convertToBool(value) {\n    return value && [\"1\", \"y\", \"t\", \"true\"].includes(value.toLowerCase());\n}\n\n// Check if element value changed\nexport function valueChanged(fobj, infix, fld, bool) {\n    var nelm = getElements(\"x\" + infix + \"_\" + fld, fobj);\n    var oelm = getElement(\"o\" + infix + \"_\" + fld, fobj); // Hidden element\n    var fnelm = getElement(\"fn_x\" + infix + \"_\" + fld, fobj); // Hidden element\n    if (!oelm && (!nelm || Array.isArray(nelm) && nelm.length == 0))\n        return false;\n    var getValue = (obj) => getOptionValues(obj).join();\n    if (oelm && nelm) {\n        if (bool) {\n            if (convertToBool(getValue(oelm)) === convertToBool(getValue(nelm)))\n                return false;\n        } else {\n            var oldvalue = getValue(oelm);\n            var newvalue = (fnelm) ? getValue(fnelm) : getValue(nelm);\n            if (oldvalue == newvalue)\n                return false;\n        }\n    }\n    return true;\n}\n\n// Set language\nexport function setLanguage(el) {\n    var $el = $(el), val = $el.val() || $el.data(\"language\");\n    if (!val)\n        return;\n    var params = new URLSearchParams();\n    currentUrl.searchParams.forEach(function(value, key) {\n        params.append(key, ew.sanitize(value));\n    });\n    params.set(\"language\", ew.sanitize(val));\n    currentUrl.search = params.toString();\n    window.location = currentUrl.toString();\n}\n\n/**\n * Submit action\n *\n * @param {Event} e\n * @param {Object} args - Arguments\n * @param {HTMLElement} args.f - HTML form (default is the form of the source element)\n * @param {string} args.url - URL to which the request is sent (default is current page)\n * @param {Object} args.key - Key as object (for single record only)\n * @param {string} args.msg - Confirm message\n * @param {string} args.action - Custom action name\n * @param {string} args.select - \"single\"|\"s\" (single record) or \"multiple\"|\"m\" (multiple records, default)\n * @param {string} args.method - \"ajax\"|\"a\" (Ajax by HTTP POST) or \"post\"|\"p\" (HTTP POST, default)\n * @param {Object} args.data - Object of user data that is sent to the server\n * @param {string|callback|Object} success - Function to be called if the request succeeds, or settings for jQuery.ajax() (for Ajax only)\n * @returns\n */\nexport function submitAction(e, args) {\n    var el = e.target || e.srcElement, $el = $(el),\n        f = args.f || $el.closest(\"form\")[0] || currentForm, $f = $(f),\n        key = args.key, action = args.action, url = args.url || currentPage(),\n        msg = args.msg, data = args.data, success = args.success,\n        isPost = !args.method || sameText(args.method[0], \"p\"),\n        isMultiple = !args.select && !args.key || args.select && sameText(args.select[0], \"m\");\n    if (isMultiple && !$f[0])\n        return false;\n    if (isMultiple && !keySelected($f[0])) {\n        _prompt(\"<p class=\\\"text-danger\\\">\" + ew.language.phrase(\"NoRecordSelected\") + \"</p>\");\n        return false;\n    }\n    var _success = function(result) {\n        showMessage(result);\n    };\n    var _submit = function() {\n        if (isPost) { // Post back\n            if (action) // Action\n                $(\"<input>\").attr({type: \"hidden\", name: \"useraction\", value: action}).appendTo($f);\n            if ($.isObject(data)) { // User data\n                for (var k in data) {\n                    var $input = $f.find(\"input[type=hidden][name='\" + k + \"']\");\n                    if ($input[0])\n                        $input.val(data[k]);\n                    else\n                        $(\"<input>\").attr({type: \"hidden\", name: k, value: data[k]}).appendTo($f);\n                }\n            }\n            if (!isMultiple && $.isObject(key)) { // Key\n                for (var k in key)\n                    $(\"<input>\").attr({type: \"hidden\", name: k, value: key[k]}).appendTo($f);\n            }\n            $f.prop(\"action\", url).submit();\n            if (action) // Action\n                $f.find(\"input[type=hidden][name=useraction]\").remove(); // Remove the \"useraction\" element\n        } else { // Ajax\n            data = $.isObject(data) ? $.param(data) : $.isString(data) ? data : \"\"; // User data\n            if (action)\n                data += \"&useraction=\" + action + \"&ajax=\" + action; // Action\n            if (isMultiple) // Multiple records\n                data += \"&\" + $f.find(\"input[name='key_m[]']:checked\").serialize(); // Keys\n            else if (key) // Single record\n                data += \"&\" + ($.isObject(key) ? $.param(key) : key); // Key\n            if (success && $.isString(success))\n                success = window[success];\n            if ($.isFunction(success)) {\n                $.post(url, data, success);\n            } else if ($.isObject(success)) { // \"success\" is Ajax settings\n                success.data = data;\n                success.method = success.method || \"POST\";\n                success.success = success.success || _success;\n                $.ajax(url, success);\n            } else {\n                $.post(url, data, _success);\n            }\n        }\n    };\n    if (msg) {\n        _prompt(msg, (result) => {\n            if (result)\n                _submit();\n        });\n    } else {\n        _submit();\n    }\n    return false;\n}\n\n/**\n * Export with selected records and/or Custom Template\n *\n * @param {string} f - Form ID\n * @param {string} url - Form action\n * @param {string} type - Export type\n * @param {boolean} custom - Using Custom Template\n * @param {boolean} sel - Selected records only\n * @param {Object} fobj - email form object\n * @returns false\n */\nfunction _export(f, url, type, custom, sel, fobj) {\n    if (!f)\n        return false;\n    var $f = $(f),\n        target = $f.attr(\"target\"),\n        action = $f.attr(\"action\"),\n        cb = sel && $f.find(\"input[type=checkbox][name='key_m[]']\")[0];\n    if (cb && !keySelected(f)) {\n        _alert(ew.language.phrase(\"NoRecordSelected\"));\n        return false;\n    }\n    if (custom) { // Use Custom Template\n        $(\"iframe.ew-export\").remove();\n        if (type == \"email\")\n            url += (\"&\" + $(fobj).serialize()).replace(/&export=email/i, \"\"); // Remove duplicate export=email\n        if (cb) {\n            $(\"<iframe>\").attr(\"name\", \"ew-export-frame\").addClass(\"ew-export d-none\").appendTo($body);\n            try {\n                $f.append($(\"<input type='hidden'>\").attr({name: \"custom\", value: \"1\"}))\n                    .attr({ \"action\": url, \"target\": \"ew-export-frame\" }).find(\"input[name=exporttype]\").val(type).end().submit();\n            } finally { // Reset\n                $f.attr({ \"target\": target || \"\", \"action\": action }).find(\"input[name=custom]\").remove();\n            }\n        } else {\n            $(\"<iframe>\").attr({ name: \"ew-export-frame\", src: url }).addClass(\"ew-export d-none\").appendTo($body);\n        }\n    } else { // No Custom Template\n        $f.find(\"input[name=exporttype]\").val(type);\n        if ([\"xml\", \"print\"].includes(type))\n            $f.submit(); // Submit the form directly\n        else\n            fileDownload(action, $f.serialize());\n    }\n    return false;\n}\n\nexport { _export as export };\n\n/**\n * Remove spaces\n * @param {string} value\n * @returns {string}\n */\nexport function removeSpaces(value) {\n    return (/^(<(p|br)\\/?>(&nbsp;)?(<\\/p>)?)?$/i.test(value.replace(/\\s/g, \"\"))) ? \"\" : value;\n}\n\n/**\n * Check if hidden text area (HTML editor)\n * @param {HTMLElement|jQuery} el HTML element or jQuery object\n * @returns {boolean}\n */\nexport function isHiddenTextArea(el) {\n    var $el = $(el);\n    return $el.is(\":hidden\") && $el.data(\"editor\");\n}\n\n/**\n * Check if modal lookup\n * @param {HTMLElement|jQuery} el HTML element or jQuery object\n * @returns {boolean}\n */\nexport function isModalLookup(el) {\n    var $el = $(el);\n    return $el.is(\":hidden\") && $el.data(\"lookup\");\n}\n\n/**\n * Check if hidden textbox (Auto-Suggest)\n * @param {HTMLElement|jQuery} el HTML element or jQuery object\n * @returns {boolean}\n */\nexport function isAutoSuggest(el) {\n    var $el = $(el);\n    return $el.is(\":hidden\") && $el.data(\"autosuggest\");\n}\n\n/**\n * Alert\n *\n * @param {string} msg - Message\n * @param {callback} cb - Callback function\n * @param {string} type - CSS class: \"muted|primary|success|info|warning|danger\"\n */\nfunction _alert(msg, cb, type) {\n    return Swal.fire({\n        ...ew.sweetAlertSettings,\n        html: '<p class=\"text-' + (type || 'danger') + '\">' + msg + '</p>',\n        confirmButtonText: ew.language.phrase(\"OKBtn\")\n    }).then(result => {\n        if ($.isFunction(cb))\n            cb(result.value);\n    });\n}\n\nexport { _alert as alert };\n\n/**\n * Clear error message\n * @param {HTMLElement|HTMLElement[]|jQuery} el HTML element(s) or jQuery\n */\nexport function clearError(el) {\n    if (el.jquery) { // el is jQuery object\n        let typ = el.attr(\"type\");\n        el = (typ == \"checkbox\" || typ == \"radio\") ? el.get() : el[0];\n    }\n    $(el).closest(\"[id^=el_], .form-group\").find(\".invalid-feedback\").html(\"\");\n}\n\n/**\n * Show error message\n * @param {Form} frm Form object\n * @param {HTMLElement|HTMLElement[]|jQuery} el HTML element(s) or jQuery\n * @param {string} msg Error message\n * @param {boolean} focus Set focus\n */\nexport function onError(frm, el, msg, focus) {\n    if (el.jquery) { // el is jQuery object\n        let typ = el.attr(\"type\");\n        el = (typ == \"checkbox\" || typ == \"radio\") ? el.get() : el[0];\n    } else if (el instanceof Field) { // el is Field object\n        el = el.element;\n    }\n    $(el).closest(\"[id^=el_], .form-group\").find(\".invalid-feedback\").append(\"<p>\" + msg + \"</p>\");\n    if (focus)\n        setFocus(el);\n    frm?.makeVisible(el);\n    return false;\n}\n\n/**\n * Set focus\n * @param {HTMLElement|HTMLElement[]} obj HTML element(s)\n */\nexport function setFocus(obj) {\n    if (!obj)\n        return;\n    var $obj = $(obj);\n    if (isHidden($obj))\n        return;\n    if (isHiddenTextArea(obj)) { // HTML editor\n        return $obj.data(\"editor\").focus();\n    } else if (isModalLookup(obj)) { // Modal lookup\n        return $obj.parent().find(\".ew-lookup-text\").trigger(\"focus\");\n    } else if (!obj.options && obj.length) { // Radio/Checkbox list\n        obj = $obj[0];\n    } else if (isAutoSuggest(obj)) { // Auto-Suggest\n        obj = obj.input;\n    }\n    $(obj).trigger(\"focus\");\n}\n\n/**\n * Set invalid\n * @param {HTMLElement|HTMLElement[]} obj HTML element(s)\n */\nexport function setInvalid(obj) {\n    if (!obj)\n        return;\n    var $obj = $(obj);\n    if (isHidden($obj))\n        return;\n    if (!obj.options && obj.length) // Radio/Checkbox list\n        obj = $obj[0];\n    var $p = $obj.closest(\".form-group, [id^='el']\");\n    if (isAutoSuggest(obj)) {\n        $p.find(\".ew-auto-suggest\").addClass(\"is-invalid\").one(\"click keydown\", function() {\n            $p.find(\".is-invalid\").removeClass(\"is-invalid\");\n        });\n    } else if (isModalLookup(obj)) {\n        $p.find(\".input-group\").addClass(\"is-invalid\").one(\"click keydown\", function() {\n            $p.find(\".is-invalid\").removeClass(\"is-invalid\");\n        });\n    } else {\n        if (obj.type == \"checkbox\" || obj.type == \"radio\") {\n            $obj.addClass(\"is-invalid\").one(\"click keydown\", function() {\n                $p.find(\".is-invalid\").removeClass(\"is-invalid\");\n            });\n        } else {\n            $obj.addClass(\"is-invalid\").parent().one(\"click keydown\", function() {\n                $p.find(\".is-invalid\").removeClass(\"is-invalid\");\n            })\n            $obj.closest(\".input-group\").addClass(\"is-invalid\");\n        }\n    }\n}\n\n// Check if object has value\nexport function hasValue(obj) {\n    return getOptionValues(obj).join(\"\") != \"\";\n}\n\n// Check if object value is a masked password\nexport function isMaskedPassword(obj) {\n    var val = $(obj).val();\n    return val && val.match(/^\\*+$/);\n}\n\n// Get Ctrl key for multiple column sort\nexport function sort(e, url, type) {\n    if (e.shiftKey && !e.ctrlKey)\n        url = url.split(\"?\")[0] + \"?cmd=resetsort\";\n    else if (type == 2 && e.ctrlKey)\n        url += \"&ctrl=1\";\n    location = url;\n    return true;\n}\n\n// Confirm Delete Message\nexport function confirmDelete(el) {\n    clickDelete(el);\n    _prompt(ew.language.phrase(\"DeleteConfirmMsg\"), (result) => {\n        (result && el.href) ? window.location = el.href : clearDelete(el);\n    });\n    return false;\n}\n\n// Check if any key selected // PHP\nexport function keySelected(f) {\n    return $(f).find(\"input[type=checkbox][name='key_m[]']:checked\", f).length > 0;\n}\n\n// Select all key\nexport function selectAllKey(cb) {\n    selectAll(cb);\n    var tbl = $(cb).closest(\".ew-table\")[0];\n    if (!tbl)\n        return;\n    $(tbl.tBodies).each(function() {\n        $(this.rows).each(function(i, r) {\n            var $r = $(r);\n            if ($r.is(\":not(.ew-template):not(.ew-table-preview-row)\")) {\n                $r.data({ selected: cb.checked, checked: cb.checked });\n                setColor(i, r);\n            }\n        });\n    });\n}\n\n// Select all related checkboxes\nexport function selectAll(cb) {\n    if (!cb || !cb.form)\n        return;\n    $(cb.form.elements).filter(\"input[type=checkbox][name^=\" + cb.name + \"_], [type=checkbox][name=\" + cb.name + \"]\").not(cb).not(\":disabled\").prop(\"checked\", cb.checked);\n}\n\n// Update selected checkbox\nexport function updateSelected(f) {\n    return $(f).find(\"input[type=checkbox][name^=u_]:checked,input:hidden[name^=u_][value=1]\").length > 0;\n}\n\n// Set row color\nexport function setColor(index, row) {\n    var $row = $(row), $tbl = $row.closest(\".ew-table\");\n    if (!$tbl[0])\n        return;\n    if ($row.data(\"selected\")) {\n        $row.removeClass($tbl.data(\"rowhighlightclass\") || \"ew-table-highlight-row\")\n            .removeClass($tbl.data(\"roweditclass\") || \"ew-table-edit-row\")\n            .addClass($tbl.data(\"rowselectclass\") || \"ew-table-select-row\");\n    } else if ([ew.ROWTYPE_ADD, ew.ROWTYPE_EDIT].includes($row.data(\"rowtype\"))) {\n        $row.removeClass($tbl.data(\"rowselectclass\") || \"ew-table-select-row\")\n            .removeClass($tbl.data(\"rowhighlightclass\") || \"ew-table-highlight-row\")\n            .addClass($tbl.data(\"roweditclass\") || \"ew-table-edit-row\");\n    } else {\n        $row.removeClass($tbl.data(\"rowselectclass\") || \"ew-table-select-row\")\n            .removeClass($tbl.data(\"roweditclass\") || \"ew-table-edit-row\")\n            .removeClass($tbl.data(\"rowhighlightclass\") || \"ew-table-highlight-row\");\n    }\n}\n\n// Clear selected rows color\nexport function clearSelected(tbl) {\n    $(tbl.rows).each(function(i, r) {\n        var $r = $(r);\n        if (!$r.data(\"checked\") && $r.data(\"selected\")) {\n            $r.data(\"selected\", false);\n            setColor(i, r);\n        }\n    });\n}\n\n// Clear all row delete status\nexport function clearDelete(el) {\n    var $el = $(el), tbl = $el.closest(\".ew-table\")[0];\n    if (!tbl)\n        return;\n    var $tr = $el.closest(\".ew-table > tbody > tr\");\n    $tr.siblings(\"[data-rowindex='\" + $tr.data(\"rowindex\") + \"']\").addBack().each(function(i, r) {\n        var $r = $(r);\n        $r.data(\"selected\", $r.data(\"checked\"));\n    });\n}\n\n// Click single delete link\nexport function clickDelete(el) {\n    var $el = $(el), tbl = $el.closest(\".ew-table\")[0];\n    if (!tbl)\n        return;\n    clearSelected(tbl);\n    var $tr = $el.closest(\".ew-table > tbody > tr\");\n    $tr.siblings(\"[data-rowindex='\" + $tr.data(\"rowindex\") + \"']\").addBack().each(function(i, r) {\n        $(r).data(\"selected\", true);\n        setColor(i, r);\n    });\n}\n\n// Click multiple checkbox\nexport function clickMultiCheckbox(e) {\n    var cb = e.target || e.srcElement, $cb = $(cb), tbl = $cb.closest(\".ew-table\")[0];\n    if (!tbl)\n        return;\n    clearSelected(tbl);\n    var $tr = $cb.closest(\".ew-table > tbody > tr\");\n    $tr.siblings(\"[data-rowindex='\" + $tr.data(\"rowindex\") + \"']\").addBack().each(function(i, r) {\n        $(r).data(\"checked\", cb.checked).data(\"selected\", cb.checked).find(\"input[type=checkbox][name='key_m[]']\").each(function() {\n            if (this != cb) this.checked = cb.checked;\n        });\n        setColor(i, r);\n    });\n    e.stopPropagation();\n}\n\n// Setup table\nexport function setupTable(index, tbl, force) {\n    var $tbl = $(tbl), $rows = $(tbl.rows);\n    if (!tbl || !tbl.rows || !force && $tbl.data(\"isset\") || tbl.tBodies.length == 0)\n        return;\n\n    // Set mouse over color\n    var mouseOver = function(e) {\n        var $this = $(this);\n        if (!$this.data(\"selected\") && ![ew.ROWTYPE_ADD, ew.ROWTYPE_EDIT].includes($this.data(\"rowtype\"))) {\n            var $tbl = $this.closest(\".ew-table\");\n            if (!$tbl[0])\n                return;\n            $this.siblings(\"[data-rowindex='\" + $this.data(\"rowindex\") + \"']\").addBack().each(function(i, r) {\n                $(r).addClass($tbl.data(\"rowhighlightclass\") || \"ew-table-highlight-row\");\n            });\n        }\n    }\n\n    // Set mouse out color\n    var mouseOut = function(e) {\n        var $this = $(this);\n        if (!$this.data(\"selected\") && ![ew.ROWTYPE_ADD, ew.ROWTYPE_EDIT].includes($this.data(\"rowtype\")))\n            $this.siblings(\"[data-rowindex='\" + $this.data(\"rowindex\") + \"']\").addBack().each(setColor);\n    }\n\n    // Set selected row color\n    var click = function(e) {\n        var $this = $(this), tbl = $this.closest(\".ew-table\")[0],\n            $target = $(e.target);\n        if (!tbl || $target.hasClass(\"btn\") || $target.hasClass(\"ew-preview-row-btn\") || $target.is(\":input\"))\n            return;\n        if (!$this.data(\"checked\")) {\n            var selected = $this.data(\"selected\");\n            clearSelected(tbl); // Clear all other selected rows\n            $this.siblings(\"[data-rowindex='\" + $this.data(\"rowindex\") + \"']\").addBack().each(function(i, r) {\n                $(r).data(\"selected\", !selected); // Toggle\n                setColor(i, r);\n            });\n        }\n    }\n\n    var n = $rows.filter(\"[data-rowindex=1]\").length || $rows.filter(\"[data-rowindex=0]\").length || 1; // Alternate color every n rows\n    var rows = $rows\n        .filter(\":not(.ew-template)\")\n        .each(function() {\n            $(this.cells).removeClass(\"ew-table-last-row\").last().addClass(\"ew-table-last-col\"); // Cell of last column\n        }).get();\n    var div = $tbl.parentsUntil(\".ew-grid\", \".\" + ew.RESPONSIVE_TABLE_CLASS)[0];\n    if (rows.length) {\n        for (var i = 1; i <= n; i++) {\n            var r = rows[rows.length - i]; // Last rows\n            $(r.cells).each(function() {\n                if (this.rowSpan == i) // Cell of last row\n                    $(this).addClass(\"ew-table-last-row\")\n                        .toggleClass(\"ew-table-border-bottom\", !!div && div.clientHeight > tbl.offsetHeight);\n            });\n        }\n    }\n    var form = $tbl.closest(\"form\")[0];\n    var attach = form && $(form.elements).filter(\"input#action:not([value^=grid])\").length > 0;\n    $(tbl.tBodies[tbl.tBodies.length - 1].rows) // Use last TBODY (avoid Opera bug)\n        .filter(\":not(.ew-template):not(.ew-table-preview-row)\")\n        .each(function(i) {\n            var $r = $(this);\n            if (attach && !$r.data(\"isset\")) {\n                if ([ew.ROWTYPE_ADD, ew.ROWTYPE_EDIT].includes($r.data(\"rowtype\"))) // Add/Edit row\n                    $r.on(\"mouseover\", function() {this.edit = true;}).addClass(\"ew-table-edit-row\");\n                $r.on(\"mouseover\", mouseOver).on(\"mouseout\", mouseOut).on(\"click\", click);\n                $r.data(\"isset\", true);\n            }\n            var sw = i % (2 * n) < n;\n            $r.toggleClass(\"ew-table-row\", sw).toggleClass(\"ew-table-alt-row\", !sw);\n        });\n    setupGrid(index, $tbl.closest(\".ew-grid\")[0], force);\n    $tbl.data(\"isset\", true);\n}\n\n// Setup grid\nexport function setupGrid(index, grid, force) {\n    var $grid = $(grid);\n    if (!grid || !force && $grid.data(\"isset\"))\n        return;\n    var multi = $grid.find(\"table.ew-multi-column-table\").length, rowcnt;\n    if (multi) {\n        rowcnt = $grid.find(\"td[data-rowindex]\").length;\n    } else {\n        rowcnt = $grid.find(\"table.ew-table > tbody\").first().children(\"tr:not(.ew-table-preview-row, .ew-template)\").length;\n    }\n    if (rowcnt == 0 && !$grid.find(\".ew-grid-upper-panel, .ew-grid-lower-panel\")[0])\n        $grid.hide();\n    // if (!$grid.find(\".ew-grid-upper-panel:visible\")[0])\n    // \t$grid.css({\"border-top-left-radius\": 0, \"border-top-right-radius\": 0});\n    // if (!$grid.find(\".ew-grid-lower-panel:visible\")[0])\n    // \t$grid.css({\"border-bottom-left-radius\": 0, \"border-bottom-right-radius\": 0});\n    if ($grid.find(\".ew-grid-middle-panel:visible\").hasClass(ew.RESPONSIVE_TABLE_CLASS) && $grid.width() > $(\".content\").width()) {\n        $grid.addClass(\"d-flex\");\n        $grid.closest(\".ew-detail-pages\").addClass(\"d-block\");\n        $grid.closest(\".ew-form\").addClass(\"w-100\");\n        if (ew.USE_OVERLAY_SCROLLBARS)\n            $grid.find(\".ew-grid-middle-panel:not(.ew-preview-middle-panel)\").overlayScrollbars(ew.overlayScrollbarsOptions);\n    }\n    $grid.data(\"isset\", true);\n}\n\n// Add a row to grid\nexport function addGridRow(el) {\n    var $grid = $(el).closest(\".ew-grid\"),\n        $tbl = $grid.find(\"table.ew-table\").last(), $p = $tbl.parent(\"div\"),\n        $tpl = $tbl.find(\"tr.ew-template\");\n    if (!el || !$grid[0] || !$tbl[0] || !$tpl[0])\n        return false;\n    var $lastrow = $($tbl[0].rows).last();\n    $tbl.find(\"td.ew-table-last-row\").removeClass(\"ew-table-last-row\");\n    var $row = $tpl.clone(true, true).removeClass(\"ew-template\");\n    var $form = $grid.find(\"div.ew-form[id^=f][id$=grid]\");\n    if (!$form[0])\n        $form = $grid.find(\"form.ew-form[id^=f][id$=list]\");\n    var suffix = ($form.is(\"div\")) ? \"_\" + $form.attr(\"id\") : \"\";\n    var $elkeycnt = $form.find(\"#key_count\" + suffix);\n    var keycnt = parseInt($elkeycnt.val(), 10) + 1;\n    $row.attr({ \"id\": \"r\" + keycnt + $row.attr(\"id\").substring(2), \"data-rowindex\": keycnt });\n    var $els = $tpl.find(\"script:contains('$rowindex$')\"); // Get scripts with rowindex\n    $row.children(\"td\").each(function() {\n        $(this).find(\"*\").each(function() {\n            $.each(this.attributes, function(i, attr) {\n                attr.value = attr.value.replace(/\\$rowindex\\$/g, keycnt); // Replace row index\n            });\n        });\n    });\n    $row.find(\".ew-icon\").closest(\"a, button\").removeData(\"bs.tooltip\").tooltip({ container: \"body\", placement: \"bottom\", trigger: \"hover\", sanitizeFn: ew.sanitizeFn });\n    $elkeycnt.val(keycnt).after($(\"<input>\").attr({\n        type: \"hidden\",\n        id: \"k\" + keycnt + \"_action\" + suffix,\n        name: \"k\" + keycnt + \"_action\" + suffix,\n        value: \"insert\"\n    }));\n    $lastrow.after($row);\n    $els.each(function() {\n        addScript(this.text.replace(/\\$rowindex\\$/g, keycnt));\n    });\n    var frm = $form.data(\"form\");\n    if (frm) {\n        frm.initEditors();\n        frm.initUpload();\n    }\n    setupTable(-1, $tbl[0], true);\n    $p.scrollTop($p[0].scrollHeight);\n    return false;\n}\n\n// Delete a row from grid\nexport function deleteGridRow(el, infix) {\n    var $el = $(el).tooltip(\"hide\").removeData(\"bs.tooltip\"),\n        $grid = $el.closest(\".ew-grid, .ew-multi-column-grid\"),\n        $row = $el.closest(\"tr, div[data-rowindex]\"),\n        $tbl = $row.closest(\".ew-table\");\n    if (!el || !$grid[0] || !$row[0])\n        return false;\n    var rowidx = parseInt($row.data(\"rowindex\"), 10);\n    var $form = $grid.find(\"div.ew-form[id^=f][id$=grid]\");\n    if (!$form[0])\n        $form = $grid.find(\"form.ew-form[id^=f][id$=list]\");\n    var frm = $form.data(\"form\");\n    if (!$form[0] || !frm)\n        return false;\n    var suffix = ($form.is(\"div\")) ? \"_\" + $form.attr(\"id\") : \"\";\n    var keycntname = \"#key_count\" + suffix;\n    var _delete = function() {\n        $row.remove();\n        if ($grid.is(\".ew-grid\"))\n            setupTable(-1, $tbl[0], true);\n        if (rowidx > 0) {\n            var $keyact = $form.find(\"#k\" + rowidx + \"_action\" + suffix);\n            if ($keyact[0]) {\n                $keyact.val(($keyact.val() == \"insert\") ? \"insertdelete\" : \"delete\");\n            } else {\n                $form.find(keycntname).after($(\"<input>\").attr({\n                    type: \"hidden\",\n                    id: \"k\" + rowidx + \"_action\" + suffix,\n                    name: \"k\" + rowidx + \"_action\" + suffix,\n                    value: \"delete\"\n                }));\n            }\n        }\n    };\n    if ($.isFunction(frm.emptyRow) && frm.emptyRow(infix)) { // Empty row\n        _delete();\n    } else { // Confirm\n        _prompt(ew.language.phrase(\"DeleteConfirmMsg\"), (result) => {\n            if (result)\n                _delete();\n        });\n    }\n    return false;\n}\n\n// HTML encode text\nexport function htmlEncode(text) {\n    var str = String(text);\n    return str.replace(/&/g, '&amp;').replace(/\\\"/g, '&quot;').replace(/</g, '&lt;').replace(/>/g, '&gt;');\n}\n\n// Get form element(s) as single element or array of radio/checkbox\nexport function getElements(el, root) {\n    var selector;\n    if ($.isObject(el) && el.dataset) { // HTML element (e.g. radio/checkbox)\n        selector = \"[data-table='\" + el.dataset.table + \"'][data-field='\" + el.dataset.field + \"']:not([name^=o]):not([name^='x$'])\";\n    } else if ($.isString(el)) {\n        selector = \"[name='\" + el + \"']\";\n        var ar = el.split(\" \"); // Check if \"#id name\"\n        if (ar.length == 2)\n            selector = \"[data-table='\" + ar[0] + \"'][data-field='\" + getId(ar[1]) + \"']:not([name^=o]):not([name^='x$'])\"; // Remove []\n    }\n    var root = !$.isString(root) ? root : /^#/.test(root) ? root : \"#\" + root;\n    selector = \"input\" + selector + \",select\" + selector + \",textarea\" + selector + \",button\" + selector;\n    var $els = (root) ? $(root).find(selector) : $(selector);\n    if ($els.length == 1 && $els.is(\":not([type=checkbox]):not([type=radio])\"))\n        return $els[0];\n    return $els.get();\n}\n\n// Get first element (not necessarily form element)\nexport function getElement(name, root) {\n    var root = $.isString(root) ? \"#\" + root : root,\n        selector = \"#\" + name.replace(/([\\$\\[\\]])/g, \"\\\\$1\") + \",[name='\" + name + \"']\";\n    return (root) ? $(root).find(selector)[0] : $(selector).first()[0];\n}\n\n// Get ancestor by function\nexport function getAncestorBy(node, fn) {\n    while (node = node.parentNode) {\n        if (node && node.nodeType == 1 && (!fn || fn(node)))\n            return node;\n    }\n    return null;\n}\n\n// Check if an element is hidden\nexport function isHidden(el) {\n    var $el = $(el);\n    return $el.css(\"display\") == \"none\" && !$el.closest(\".dropdown-menu\")[0] && !isModalLookup(el) && !isAutoSuggest(el) && !isHiddenTextArea(el) ||\n        getAncestorBy(el, (node) => node.style.display == \"none\" && !node.classList.contains(\"tab-pane\") && !node.classList.contains(\"collapse\")) != null;\n}\n\n// Check if same text\nexport function sameText(o1, o2) {\n    return (String(o1).toLowerCase() == String(o2).toLowerCase());\n}\n\n// Check if same string\nexport function sameString(o1, o2) {\n    return (String(o1) == String(o2));\n}\n\n// Get element value\nexport function getValue(el, form) {\n    if (!el)\n        return \"\";\n    let obj;\n    if ($.isString(el)) {\n        let ar = el.split(\" \");\n        if (ar.length == 2) { // Parent field in master table\n            obj = getElements(el);\n        } else {\n            obj = getElements(el, form);\n        }\n    } else if (el.type == \"radio\" || el.type == \"checkbox\") { // Single radio/checkbox\n        obj = getElements(el);\n    } else {\n        obj = el;\n    }\n    if (obj.options) { // Selection list\n        if (obj.list) {\n            let val = obj.values;\n            return obj.multiple ? val : (val[0] || \"\");\n        } else {\n            let val = Array.prototype.filter.call(obj.options, option => option.selected && option.value !== \"\").map(option => option.value);\n            return (obj.type == \"select-multiple\") ? val : (val[0] || \"\");\n        }\n    } else if ($.isNumber(obj.length)) { // Radio/Checkbox list, or element not found\n        let val = $(obj).filter(\":checked\").map(function() {\n            return this.value;\n        }).get();\n        return (obj.length == 1) ? val[0] : val;\n    } else if (ew.isHiddenTextArea(obj)) {\n        $(obj).data(\"editor\").save();\n        return obj.value;\n    } else { // text/hidden\n        let data = $(obj).data();\n        if (data.lookup && data.multiple) // Modal-Lookup\n            return obj.value.split(ew.MULTIPLE_OPTION_SEPARATOR);\n        else\n            return obj.value;\n    }\n}\n\n// Get existing selected values as an array\nexport function getOptionValues(el, form) {\n    var obj;\n    if ($.isString(el)) {\n        var ar = el.split(\" \");\n        if (ar.length == 2) { // Parent field in master table\n            obj = getElements(el);\n        } else {\n            obj = getElements(el, form);\n        }\n    } else if (el.type == \"radio\" || el.type == \"checkbox\") { // Single radio/checkbox\n        obj = getElements(el);\n    } else {\n        obj = el;\n    }\n    if (obj.options) { // Selection list\n        if (obj.list)\n            return obj.values;\n        else\n            return Array.prototype.filter.call(obj.options, option => option.selected && option.value !== \"\").map(option => option.value);\n    } else if ($.isNumber(obj.length)) { // Radio/Checkbox list, or element not found\n        return $(obj).filter(\":checked\").map(function() {\n            return this.value;\n        }).get();\n    } else if (ew.isHiddenTextArea(obj)) {\n        $(obj).data(\"editor\").save();\n        return [obj.value];\n    } else { // text/hidden\n        var data = $(obj).data();\n        if (data.lookup && data.multiple) // Modal-Lookup\n            return obj.value.split(ew.MULTIPLE_OPTION_SEPARATOR);\n        else\n            return [obj.value];\n    }\n}\n\n// Get existing text of selected values as an array\nexport function getOptionTexts(el, form) {\n    var obj;\n    if ($.isString(el)) {\n        var ar = el.split(\" \");\n        if (ar.length == 2) { // Parent field in master table\n            obj = getElements(el);\n        } else {\n            obj = getElements(el, form);\n        }\n    } else {\n        obj = el;\n    }\n    if (isAutoSuggest(obj)) { // AutoSuggest (before obj.options)\n        return [obj.input.value];\n    } else if (isModalLookup(obj)) { // Modal-Lookup (before obj.options)\n        var $obj = $(obj);\n        return $obj.parent().find(\".ew-lookup-text .ew-option\").map(function() {\n            return $(this).text().trim();\n        }).get();\n    } else if (obj.options) { // Selection list\n        return Array.prototype.filter.call(obj.options, option => option.selected && option.value !== \"\").map(option => option.text);\n    } else if ($.isNumber(obj.length)) { // Radio/Checkbox list, or element not found\n        return $(obj).filter(\":checked\").map(function() {\n            return $(this).parent().text();\n        }).get();\n    } else if (ew.isHiddenTextArea(obj)) {\n        $(obj).data(\"editor\").save();\n        return [obj.value];\n    } else {\n        return [obj.value];\n    }\n}\n\n// Clear existing options\nexport function clearOptions(obj) {\n    if (obj.options) { // Selection list\n        var lo = (obj.type == \"select-multiple\" || // multiple\n            obj.hasAttribute(\"data-dropdown\") || // dropdown\n            convertToBool(obj.getAttribute(\"data-pleaseselect\")) === false || // data-pleaseselect=\"false\"\n            obj.length > 0 && obj.options[0].value != \"\") // non-empty first element\n            ? 0 : 1;\n        if (obj.list) {\n            obj.removeAll();\n        } else {\n            for (var i = obj.length - 1; i >= lo; i--)\n                obj.remove(i);\n        }\n        if (isAutoSuggest(obj)) {\n            obj.input.value = \"\";\n            obj.value = \"\";\n        }\n    }\n}\n\n/**\n * Get the name or id of an element\n *\n * @param {*} el - Element\n * @param {boolean} [remove=true] - Remove square brackets\n * @returns\n */\nexport function getId(el, remove) {\n    var id = ($.isString(el)) ? el : ($(el).attr(\"name\") || $(el).attr(\"id\")); // Use name first (id may have suffix)\n    return (remove !== false) ? id.replace(/\\[\\]$/, \"\") : id;\n}\n\n// Get display value separator\nexport function valueSeparator(index, obj) {\n    var sep = $(obj).data(\"value-separator\");\n    return (Array.isArray(sep)) ? sep[index - 1] : (sep || \", \");\n}\n\n/**\n * Get display value\n *\n * @param {Object} opt - Option being displayed\n * @param {HTMLElment} obj - HTML element\n * @returns {string} Display value\n */\nexport function displayValue(opt, obj) {\n    var text = opt.df;\n    for (var i = 2; i <= 4; i++) {\n        if (opt[\"df\" + i] && opt[\"df\" + i] != \"\") {\n            var sep = valueSeparator(i - 1, obj);\n            if ($.isUndefined(sep))\n                break;\n            if ($.isValue(text))\n                text += sep;\n            text += opt[\"df\" + i];\n        }\n    }\n    return text;\n}\n\n/**\n * Get HTML for a single option\n *\n * @param {*} val - Value of the option\n * @returns {string} HTML\n */\nexport function optionHtml(val) {\n    return ew.OPTION_HTML_TEMPLATE.replace(/\\{value\\}/g, val);\n}\n\n/**\n * Get HTML for diplaying all options\n *\n * @param {string[]} options - Array of all options (HTML)\n * @param {number} max - Maximum number of options to show\n * @returns {string} HTML\n */\nexport function optionsHtml(options, max) {\n    if (options.length > (max || ew.MAX_OPTION_COUNT)) { // More than max option count\n        return ew.language.phrase(\"CountSelected\").replace(\"%s\", options.length);\n    } else if (options.length) { // Some options\n        var html = \"\";\n        for (var i = 0; i < options.length; i++)\n            html += optionHtml(options[i]);\n        return html;\n    } else { // No options\n        return ew.language.phrase(\"PleaseSelect\");\n    }\n}\n\n/**\n * Create new option\n *\n * @param {(HTMLElement|array)} obj - Selection list\n * @param {Object} opt - Object for the new option\n * @param {form} f - form object of obj\n * @returns\n */\nexport function newOption(obj, opt, f) {\n    var frm = forms.get(f.id),\n        id = getId(obj),\n        list = frm.getList(id),\n        value = opt.lf,\n        item = { lf: opt.lf, df1: opt.df, df2: opt.df2, df3: opt.df3, df4: opt.df4 },\n        text;\n    if (list.template && !isAutoSuggest(obj)) {\n        text = list.template.render(item, ew.jsRenderHelpers);\n    } else {\n        text = displayValue(opt, obj) || value;\n    }\n    var args = { \"data\": item, \"name\": id, \"form\": f.$element, \"value\": value, \"text\": text };\n    if (obj.options) { // Selection list\n        let option;\n        if (obj.list) {\n            option = new SelectionListOption(args.value, args.text);\n        } else {\n            option = document.createElement(\"option\");\n            option.value = args.value;\n            option.innerHTML = args.text;\n        }\n        args = { ...args, option };\n        $document.trigger(\"newoption\", [args]); // Fire \"newoption\" event for selection list\n        if (obj.list) {\n            obj.add(args.option.value, args.option.text);\n        } else {\n            obj.add(args.option);\n        }\n    }\n    return args.text;\n}\n\n// Select combobox option\nexport function selectOption(obj, values) {\n    if (!obj || !values)\n        return;\n    var $obj = $(obj);\n    if (Array.isArray(values)) {\n        if (obj.options) { // Selection list\n            if (obj.list) {\n                obj.value = values;\n            } else {\n                $obj.val(values);\n                if (obj.type == \"select-one\" && obj.selectedIndex == -1)\n                    obj.selectedIndex = 0; // Make sure an option is selected (IE)\n            }\n            if (isAutoSuggest(obj) && values.length == 1) {\n                let opts = obj.options || [];\n                for (let opt of opts) {\n                    if (opt.value == values[0]) {\n                        obj.value = opt.value;\n                        obj.input.value = opt.text;\n                        break;\n                    }\n                }\n            } else if (isModalLookup(obj)) {\n                let vals = [],\n                    html = [],\n                    opts = obj.options || [];\n                for (let value of values) {\n                    for (let opt of opts) {\n                        if (value == opt.value) {\n                            vals.push(opt.value);\n                            html.push(optionHtml(opt.text));\n                            break;\n                        }\n                    }\n                }\n                $obj.val(vals.join(ew.MULTIPLE_OPTION_SEPARATOR));\n                $obj.parent().find(\".ew-lookup-text\").html(optionsHtml(html, $obj.data(\"maxcount\")));\n            }\n        } else if (obj.type) {\n            obj.value = values.join(ew.MULTIPLE_OPTION_SEPARATOR);\n        }\n    }\n    // Auto-select if only one option\n    function isAutoSelect(el) {\n        if (!$(el).data(\"autoselect\")) // data-autoselect=\"false\"\n            return false;\n        var form = getForm(el);\n        if (form) {\n            if (/s(ea)?rch$/.test(form.id)) // Search forms\n                return false;\n            var list = forms.get(form.id).getList(el.id);\n            if (list && list.parentFields.length == 0) // No parent fields\n                return false;\n            return true;\n        }\n        return false;\n    }\n    if (!isAutoSelect(obj))\n        return;\n    if (obj.options) { // Selection List\n        if (!obj.list && obj.type == \"select-one\" && obj.options.length == 2 && !obj.options[1].selected) {\n            obj.options[1].selected = true;\n        } else if (obj.options.length == 1 && !obj.options[0].selected) {\n            obj.options[0].selected = true;\n        }\n        if (obj.list)\n            obj.render();\n        if (isAutoSuggest(obj)) {\n            let opts = obj.options || [];\n            if (opts.length == 1) {\n                obj.value = opts[0].value;\n                obj.input.value = opts[0].text;\n            }\n        }\n    }\n}\n\n// Ajax send\n$document.ajaxSend(function(event, jqxhr, settings) {\n    var url = settings.url;\n    if (url.match(/\\/(\\w+preview|session)\\?/i)) // Preview/Session page\n        _removeSpinner(); // Preview has spinner already\n    var apiUrl = getApiUrl(), isApi = url.startsWith(apiUrl), // Is API request\n        allowed = isApi || url.startsWith(currentPage());\n    if (!allowed && url.match(/^http/i)) {\n        var objUrl = new URL(url);\n        allowed = objUrl.hostname == currentUrl.hostname; // Same host name\n    }\n    if (allowed) {\n        if (isApi && ew.API_JWT_TOKEN && !ew.IS_WINDOWS_AUTHENTICATION) // Do NOT set JWT authorization header if Windows Authentication\n            jqxhr.setRequestHeader(ew.API_JWT_AUTHORIZATION_HEADER, \"Bearer \" + ew.API_JWT_TOKEN);\n        if (settings.type == \"GET\") { // GET\n            var ar = settings.url.split(\"?\"), params = new URLSearchParams(ar[1]);\n            params.set(ew.TOKEN_NAME_KEY, ew.TOKEN_NAME); // Add token name // PHP\n            params.set(ew.ANTIFORGERY_TOKEN_KEY, ew.ANTIFORGERY_TOKEN); // Add antiforgery token // PHP\n            ar[1] = params.toString();\n            settings.url = ar[0] + (ar[1] ? \"?\" + ar[1] : \"\");\n        } else { // POST\n            if (settings.data instanceof FormData) { // FormData\n                settings.data.set(ew.TOKEN_NAME_KEY, ew.TOKEN_NAME); // Add token name // PHP\n                settings.data.set(ew.ANTIFORGERY_TOKEN_KEY, ew.ANTIFORGERY_TOKEN); // Add antiforgery token // PHP\n            } else {\n                var params = new URLSearchParams(settings.data);\n                params.set(ew.TOKEN_NAME_KEY, ew.TOKEN_NAME); // Add token name // PHP\n                params.set(ew.ANTIFORGERY_TOKEN_KEY, ew.ANTIFORGERY_TOKEN); // Add antiforgery token // PHP\n                settings.data = params.toString();\n            }\n        }\n    }\n});\n\n// Ajax start\n$document.ajaxStart(function() {\n    $document.data(\"_ajax\", true);\n    ew.addSpinner();\n    $(\"form.ew-form\").addClass(\"ew-wait\").each(function() {\n        var frm = forms.get(this.id);\n        if (frm) {\n            if (!frm.multiPage || !frm.multiPage.lastPageSubmit)\n                frm.disableForm();\n        }\n    });\n});\n\n// Ajax stop (internal)\nfunction _ajaxStop() {\n    $(\"form.ew-form.ew-wait\").removeClass(\"ew-wait\").each(function() {\n        var frm = forms.get(this.id);\n        if (frm) {\n            if (!frm.multiPage || !frm.multiPage.lastPageSubmit) {\n                frm.enableForm();\n            }\n        }\n    });\n    ew.removeSpinner();\n    $document.data(\"_ajax\", false);\n}\n\n// Ajax stop/error\n$document.ajaxStop(_ajaxStop).ajaxError(_ajaxStop);\n\n// Execute JavaScript in HTML loaded by Ajax\nexport function executeScript(html, id) {\n    let matches = html.replace(/<head>[\\s\\S]*<\\/head>/, \"\").matchAll(/<script([^>]*)>([\\s\\S]*?)<\\/script\\s*>/ig);\n    Array.from(matches).forEach((ar, i) => {\n        let text = ar[2];\n        if (/(\\s+type\\s*=\\s*['\"]*text\\/javascript['\"]*)|^((?!\\s+type\\s*=).)*$/i.test(ar[1]) && text)\n            addScript(text, \"scr_\" + id + \"_\" + i++);\n    });\n}\n\n// Strip JavaScript in HTML loaded by Ajax\nexport function stripScript(html) {\n    let matches = html.matchAll(/<script([^>]*)>([\\s\\S]*?)<\\/script\\s*>/ig);\n    for (let ar of matches) {\n        let text = ar[0];\n        if (/(\\s+type\\s*=\\s*['\"]*text\\/javascript['\"]*)|^((?!\\s+type\\s*=).)*$/i.test(ar[1]))\n            html = html.replace(text, \"\");\n    }\n    return html;\n}\n\n// Add SCRIPT tag\nexport function addScript(text, id) {\n    var scr = document.createElement(\"SCRIPT\");\n    if (id)\n        scr.id = id;\n    scr.text = text;\n    return document.body.appendChild(scr); // Do not use jQuery so it can be removed\n}\n\n// Remove JavaScript added by Ajax\nexport function removeScript(id) {\n    if (id)\n        $(\"script[id^='scr_\" + id + \"_']\").remove();\n}\n\n// Clean HTML loaded by Ajax for modal dialog\nexport function getContent(html) {\n    let body = stripScript(html).match(/<body[\\s\\S]*>[\\s\\S]*<\\/body>/i);\n    return body ? $(body[0]).not(\"div[id^=ew].modal, #ew-tooltip, #ew-drilldown-panel, #cookie-consent, #template-upload, #template-download\") : $();\n}\n\n// Get all options of Selection list or Radio/Checkbox list as array\nexport function getOptions(obj) {\n    return obj.options ? Array.prototype.map.call(obj.options, (opt) => [opt.value, opt.text]) : [];\n}\n\n/**\n * Show Add Option dialog\n *\n * @param {Object} args - Arguments\n * @param {Object} args.frm - form object\n * @param {HTMLElement} args.lnk - Add option anchor element\n * @param {string} args.el - Form element name\n * @param {string} args.url - URL of the Add form\n * @returns\n */\nexport function addOptionDialogShow(args) {\n\n    // Hide dialog\n    var _hide = function() {\n        removeScript($dlg.data(\"args\").el);\n        var frm = $dlg.removeData(\"args\").find(\".modal-body form\").data(\"form\");\n        if (frm)\n            frm.destroyEditor();\n        $dlg.find(\".modal-body\").html(\"\");\n        $dlg.find(\".modal-footer .btn-primary\").unbind();\n        $dlg.data(\"showing\", false);\n    }\n\n    var $dlg = ew.addOptionDialog || $(\"#ew-add-opt-dialog\").on(\"hidden.bs.modal\", _hide);\n    if (!$dlg[0]) {\n        _alert(\"DIV #ew-add-opt-dialog not found.\");\n        return;\n    }\n    if ($dlg.data(\"showing\"))\n        return;\n    $dlg.data(\"showing\", true);\n\n    // Submission success\n    var _submitSuccess = function(data) {\n        var results = data,\n            args = $dlg.data(\"args\"),\n            frm = forms.get(args.lnk), // form object\n            objName = $dlg.find(\".modal-body form input[name='\" + ew.API_OBJECT_NAME + \"']\").val(), // Get object name from form\n            el = args.el, // HTML element name\n            re = /^x(\\d+)_/,\n            m = el.match(re), // Check row index\n            prefix = m ? m[0] : \"x_\",\n            index = m ? m[1] : -1,\n            name = el.replace(re, \"x_\"),\n            list = frm.getList(el);\n        if ($.isString(data))\n            results = parseJson(data);\n        if (results?.success && results[objName]) { // Success\n            $dlg.modal(\"hide\");\n            var result = results[objName],\n                form = frm.$element[0], // HTML form or DIV\n                obj = getElements(el, form);\n            if (obj) {\n                var lf = list.linkField,\n                    dfs = list.displayFields.slice(), // Clone\n                    ffs = list.filterFields.slice(), // Clone\n                    pfs = list.parentFields.slice(); // Clone\n                pfs.forEach((pf, i) => {\n                    if (pf.split(\" \").length == 1) // Parent field in the same table, add row index\n                        pfs[i] = pfs[i].replace(/^x_/, prefix);\n                });\n                var lfv = (lf != \"\") ? result[lf] : \"\",\n                    row = { lf: lfv };\n                dfs.forEach((df, i) => {\n                    if (df in result)\n                        row[\"df\" + (i || \"\")] = result[df];\n                });\n                ffs.forEach((ff, i) => {\n                    if (ff in result)\n                        row[\"ff\" + (i || \"\")] = result[ff];\n                });\n                if (lfv && dfs.length > 0 && row[\"df\"]) {\n                    if (list.ajax === null) // Non-Ajax\n                        list.lookupOptions.push(row);\n                    var arp = pfs.map(pf => getOptionValues(pf, form)), // Get the parent field values\n                        args = {\"data\": row, \"parents\": arp, \"valid\": true, \"name\": getId(obj), \"form\": form};\n                    $document.trigger(\"addoption\", [args]);\n                    if (args.valid) { // Add the new option\n                        var ar = getOptions(obj),\n                            vals = [];\n                        var txt = newOption(obj, row, form);\n                        if (obj.options) {\n                            obj.options[obj.options.length - 1].selected = true;\n                            if (obj.list) { // Radio/Checkbox list\n                                obj.render();\n                                $(obj.target).find(\"input\").last().trigger(\"focus\");\n                            }\n                            if (isAutoSuggest(obj)) {\n                                $(obj).val(lfv).trigger(\"change\");\n                                $(obj.input).val(txt).trigger(\"focus\");\n                            } else if (isModalLookup(obj)) {\n                                var $obj = $(obj), $lu = $(getElement(\"lu_\" + args.name, form));\n                                if (obj.multiple) { // Add to existing values\n                                    var val = $(obj).val(), vals = [], nv = String(lfv);\n                                    if (val !== \"\")\n                                        vals = val.split(ew.MULTIPLE_OPTION_SEPARATOR);\n                                    if (!vals.includes(nv)) {\n                                        vals.push(nv);\n                                        $obj.val(vals.join()).trigger(\"change\");\n                                        var html = $lu.html(), arOpt = $lu.find(\".ew-option\").map(function() {\n                                            return $(this).html();\n                                        }).get();\n                                        if (arOpt.length) { // Some options selected\n                                            arOpt.push(txt);\n                                            $lu.html(optionsHtml(arOpt, $obj.data(\"maxcount\")));\n                                        } else if (html == ew.language.phrase(\"PleaseSelect\")) { // No options selected\n                                            $lu.html(optionHtml(txt));\n                                        } else if (html) { // Many options selected\n                                            $lu.html(ew.language.phrase(\"CountSelected\").replace(\"%s\", vals.length));\n                                        }\n                                    }\n                                } else {\n                                    $obj.val(lfv).trigger(\"change\");\n                                    $lu.html(txt);\n                                }\n                            } else {\n                                $(obj).trigger(\"change\").trigger(\"focus\");\n                            }\n                        }\n                        var $form = $(form), suffix = ($form.is(\"div\")) ? \"_\" + $form.attr(\"id\") : \"\";\n                        var cnt = $form.find(\"#key_count\" + suffix).val();\n                        if (cnt > 0) { // Grid-Add/Edit, update other rows\n                            for (var i = 1; i <= cnt; i++) {\n                                if (i == index)\n                                    continue;\n                                var obj2 = getElements(name.replace(/^x/, \"x\" + i), form);\n                                var ar2 = getOptions(obj2), vals = [];\n                                if (JSON.stringify(ar) != JSON.stringify(ar2)) // Not same options\n                                    continue;\n                                newOption(obj2, row, form);\n                                if (obj2.options && obj.list) // Radio/Checkbox list\n                                    obj2.render();\n                            }\n                        }\n                    }\n                }\n            }\n        } else { // Failure\n            if (results?.error) {\n                 if ($.isString(results.error))\n                    showToast(results.error);\n                else if ($.isString(results.error?.description))\n                    showToast(results.error.description);\n            } else {\n                var msg,\n                    $div = $(\"<div></div>\").html(data).find(\"div.ew-message-dialog\");\n                if ($div[0]) {\n                    msg = $div.html();\n                } else {\n                    msg = results?.failureMessage || data;\n                    if (!msg || String(msg).trim() == \"\")\n                        msg = ew.language.phrase(\"InsertFailed\");\n                }\n                showToast(msg);\n            }\n        }\n    }\n\n    // Fail\n    var _fail = function(o) {\n        $dlg.modal(\"hide\");\n        _alert(\"Server Error \" + o.status + \": \" + o.statusText);\n    }\n\n    // Submit\n    var _submit = function(e) {\n        let $dlg = ew.addOptionDialog,\n            form = $dlg.find(\".modal-body form\")[0],\n            frm = forms.get(form.id),\n            btn = e ? e.target : null,\n            $btn = $(btn);\n        if (frm.canSubmit()) {\n            $btn.prop(\"disabled\", false).removeClass(\"disabled\");\n            $body.css(\"cursor\", \"wait\");\n            $.post(getApiUrl(ew.API_ADD_ACTION), $(form).serialize(), _submitSuccess).fail(_fail).always(function() {\n                frm.enableForm();\n                $btn.prop(\"disabled\", false).removeClass(\"disabled\");\n                $body.css(\"cursor\", \"default\");\n            });\n        }\n        return false;\n    }\n\n    $dlg.modal(\"hide\");\n    $dlg.data(\"args\", args);\n\n    // Get form HTML\n    var success = function(data) {\n        var frm = forms.get(args.lnk),\n            prefix = \"x_\",\n            m = args.el.match(/^(x\\d+_)/);\n        if (m) // Contains row index\n            prefix = m[1];\n        var list = frm.getList(args.el),\n            pfs = list.parentFields.slice() // Clone\n                .map(pf => (pf.split(\" \").length == 1) ? pf.replace(/^x_/, prefix) : pf), // Parent field in the same table, add row index\n            form = frm.htmlForm,\n            ar = pfs.map(pf => getOptionValues(pf, form)),\n            ar2 = pfs.map(pf => getOptionTexts(pf, form)),\n            ffs = list.filterFieldVars.slice(); // Clone\n        $dlg.find(\".modal-title\").html($(args.lnk).closest(\".ew-add-opt-btn\").data(\"title\"));\n        $dlg.find(\".modal-body\").html(stripScript(data));\n        var form = $dlg.find(\".modal-body form\")[0];\n        if (form) { // Set the filter field value\n            $(form).keypress(function(e) {\n                if (e.which == 13 && e.target.nodeName != \"TEXTAREA\")\n                    return _submit();\n            });\n            ar.forEach((v, i) => {\n                (function() {\n                    var obj = getElements(ffs[i], form);\n                    if (obj) {\n                        if (obj.options || obj.length) { // Selection list\n                            $(obj).first().one(\"updatedone\", () => selectOption(obj, v));\n                        } else {\n                            selectOption(obj, v);\n                        }\n                    }\n                })();\n            });\n        }\n        ew.addOptionDialog = $dlg.modal(\"show\");\n        $dlg.find(\".modal-footer .btn-primary\").click(_submit).focus();\n        executeScript(data, args.el);\n        if (form) { // Set the filter field value\n            ar.forEach((v, i) => {\n                var obj = getElements(ffs[i], form);\n                if (obj) {\n                    if (isAutoSuggest(obj)) { // AutoSuggest\n                        obj.value = v[0];\n                        obj.input.value = ar2[i][0];\n                        obj.add(v[0], ar2[i][0], true);\n                    } else if (isModalLookup(obj)) { // Modal-Lookup\n                        obj.value = v[0];\n                        updateOptions.call(forms.get(form.id), obj);\n                    } else if (obj.options || obj.length) { // Selection list\n                        // Skip\n                    } else { // Text\n                        obj.value = v[0];\n                    }\n                }\n            });\n        }\n        $dlg.trigger(\"load.ew\");\n    };\n    $.get(args.url, success).fail(_fail);\n}\n\n// Hide Modal dialog\nexport function modalDialogHide(e) {\n    var $dlg = $(this), args = $dlg.data(\"args\");\n    removeScript(\"ModalDialog\");\n    var frm = $dlg.removeData(\"args\").find(\".modal-body form\").data(\"form\");\n    if (frm)\n        frm.destroyEditor();\n    var $bd = $dlg.find(\".modal-body\").html(\"\");\n    if ($bd.ewjtable && $bd.ewjtable(\"instance\"))\n        $bd.ewjtable(\"destroy\");\n    $dlg.find(\".modal-footer .btn-primary\").unbind();\n    $dlg.find(\".modal-dialog\").removeClass(function(index, className) {\n        var m = className.match(/table\\-\\w+/);\n        return (m) ? m[0] : \"\";\n    });\n    $dlg.data(\"showing\", false);\n    $dlg.data(\"url\", null);\n    if (args && args.reload)\n        window.location.reload(true);\n}\n\n/**\n * Show modal dialog\n *\n * @param {Object} args - Arguments\n * @param {HTMLFormElement} args.f - Form of List page\n * @param {HTMLElement} args.lnk - Anchor element\n * @param {string} args.url - URL of the form\n * @param {string|null} args.btn - Button phrase ID\n * @param {string} args.caption - Caption in dialog header\n * @param {boolean} args.reload - Reload page after hiding dialog or not\n * @param {string} args.size - Size of the dialog 'modal-sm'|''|modal-lg'|'modal-xl'(default)\n * @returns false\n */\nexport function modalDialogShow(args) {\n    $(args.lnk).tooltip(\"hide\");\n    var f = args.f;\n    if (f && !keySelected(f)) {\n        _prompt(\"<p class=\\\"text-danger\\\">\" + ew.language.phrase(\"NoRecordSelected\") + \"</p>\");\n        return false;\n    }\n\n    var $dlg = ew.modalDialog || $(\"#ew-modal-dialog\").on(\"hidden.bs.modal\", modalDialogHide); // div#ew-modal-dialog always exists\n    if ($dlg.data(\"showing\") && $dlg.data(\"url\") == args.url)\n        return false;\n    $dlg.data({ showing: true, url: args.url });\n    args.reload = false;\n\n    // size\n    if (args.size === \"modal-sm\") { // 300px\n        $dlg.find(\".modal-dialog\").toggleClass(\"modal-sm\", true).toggleClass(\"modal-lg modal-xl\", false);\n    } else if (args.size === \"\") { // 500px\n        $dlg.find(\".modal-dialog\").toggleClass(\"modal-sm modal-lg modal-xl\", false);\n    } else if (args.size === \"modal-lg\") { // 800px\n        $dlg.find(\".modal-dialog\").toggleClass(\"modal-lg\", true).toggleClass(\"modal-sm modal-xl\", false);\n    } else { // Default = 1140px\n        $dlg.find(\".modal-dialog\").toggleClass(\"modal-xl\", true).toggleClass(\"modal-sm modal-lg\", false);\n    }\n\n    // caption\n    var _caption = function() {\n        var args = $dlg.data(\"args\");\n        var $lnk = $(args.lnk);\n        return args.caption || $lnk.data(\"caption\") || $lnk.data(\"original-title\") || \"\";\n    };\n\n    // button text\n    var _button = function() {\n        var args = $dlg.data(\"args\");\n        if ($.isNull(args.btn))\n            return \"\";\n        else if (args.btn && args.btn != \"\")\n            return ew.language.phrase(args.btn);\n        else\n            return _caption();\n    };\n\n    // fail\n    var _fail = function(o) {\n        $dlg.modal(\"hide\");\n        if (o.status)\n            _alert(\"Server Error \" + o.status + \": \" + o.statusText);\n    }\n\n    // always\n    var _always = function(o) {\n        $body.css(\"cursor\", \"default\");\n    }\n\n    // check if current page\n    var _current = function(url) {\n        var a = $(\"<a>\", { href: url })[0];\n        return window.location.pathname.endsWith(a.pathname);\n    }\n\n    // submit success\n    var _submitSuccess = function(data) {\n        var result = parseJson(data);\n        if ($.isObject(result)) {\n            if ($.isString(result.failureMessage)) {\n                _alert(result.failureMessage);\n            } else if (result.error) {\n                if ($.isString(result.error))\n                    _alert(result.error);\n                else if ($.isString(result.error?.description))\n                    _alert(result.error.description);\n            } else {\n                var url = result.url;\n                if (result.modal && !_current(url)) {\n                    var args = $dlg.data(\"args\");\n                    args.reload = true;\n                    if (result.caption)\n                        args.caption = result.caption;\n                    args.btn = result.view ? null : \"\";\n                    $dlg.data(\"args\", args);\n                    url += (url.split(\"?\").length > 1 ? \"&\" : \"?\") + \"modal=1&rnd=\" + random();\n                    $body.css(\"cursor\", \"wait\");\n                    $.ajax(url).done(success).fail(_fail).always(_always);\n                } else {\n                    $dlg.modal(\"hide\");\n                    window.location = url;\n                }\n            }\n        } else {\n            var body = getContent(data);\n            if (body.length) { // Has HTML elements\n                var $bd = $dlg.find(\".modal-body\").html(body);\n                var footer = \"\";\n                var cf = $bd.find(\"#confirm\");\n                var ct = $bd.find(\"#conflict\");\n                if (ct && ct.val() == \"1\") { // Conflict page\n                    footer += \"<button type=\\\"button\\\" id=\\\"btn-overwrite\\\" class=\\\"btn btn-primary ew-btn\\\">\" + ew.language.phrase(\"OverwriteBtn\") + \"</button>\";\n                    footer += \"<button type=\\\"button\\\" id=\\\"btn-reload\\\" class=\\\"btn btn-default ew-btn\\\">\" + ew.language.phrase(\"ReloadBtn\") + \"</button>\";\n                    footer += \"<button type=\\\"button\\\" class=\\\"btn btn-default ew-btn\\\" data-dismiss=\\\"modal\\\">\" + ew.language.phrase(\"CancelBtn\") + \"</button>\";\n                    $dlg.find(\".modal-footer\").html(footer);\n                    $dlg.find(\".modal-footer #btn-overwrite\").on('click', {action: 'overwrite'}, _submit);\n                    $dlg.find(\".modal-footer #btn-reload\").on('click', {action: 'show'}, _submit);\n                } else if (cf && cf.val() == \"confirm\") { // Confirm page\n                    footer += \"<button type=\\\"button\\\" class=\\\"btn btn-primary ew-btn\\\">\" + ew.language.phrase(\"ConfirmBtn\") + \"</button>\";\n                    footer += \"<button type=\\\"button\\\" class=\\\"btn btn-default ew-btn\\\">\" + ew.language.phrase(\"CancelBtn\") + \"</button>\";\n                    $dlg.find(\".modal-footer\").html(footer);\n                    $dlg.find(\".modal-footer .btn-primary\").click(_submit).focus();\n                    $dlg.find(\".modal-footer .btn-default\").on(\"click\", {action: \"cancel\"}, _submit);\n                } else { // Normal page\n                    var btn = _button();\n                    if (btn)\n                        footer += \"<button type=\\\"button\\\" class=\\\"btn btn-primary ew-btn\\\">\" + btn + \"</button>\";\n                    footer += \"<button type=\\\"button\\\" class=\\\"btn btn-default ew-btn\\\" data-dismiss=\\\"modal\\\">\" + ew.language.phrase(\"CancelBtn\") + \"</button>\";\n                    $dlg.find(\".modal-footer\").html(footer);\n                    $dlg.find(\".modal-footer .btn-primary\").addClass(\"ew-submit\").click(_submit).focus();\n                }\n                executeScript(data, \"ModalDialog\");\n                $dlg.trigger(\"load.ew\"); // Trigger load event for, e.g. Use JavaScript popup message\n            } else if (data) {\n                $dlg.modal(\"hide\");\n                ew.alert(data);\n            }\n        }\n    }\n\n    // submit\n    var _submit = function(e) {\n        var form = $dlg.find(\".modal-body form\")[0],\n            $form = $(form),\n            frm = forms.get(form.id),\n            action = e && e.data ? e.data.action : null,\n            btn = e ? e.target : null;\n        if (btn) {\n            if (btn.classList.contains(\"disabled\"))\n                return false;\n            frm.enableForm = function() {\n                $(btn).prop(\"disabled\", false).removeClass(\"disabled\");\n            };\n            frm.disableForm = function() {\n                $(btn).prop(\"disabled\", true).addClass(\"disabled\");\n            };\n        }\n        var input = form.elements[\"action\"];\n        if (action && input)\n            input.value = action; // Update action\n        if (action == \"cancel\") { // Cancel\n            $.post($form.attr(\"action\"), $form.serialize(), success).fail(_fail).always(_always);\n        } else if (frm.canSubmit()) {\n            $body.css(\"cursor\", \"wait\");\n            $.post($form.attr(\"action\"), $form.serialize(), _submitSuccess).fail(_fail).always(function() {\n                frm.enableForm();\n                _always();\n            });\n        }\n        return false;\n    }\n\n    $dlg.modal(\"hide\");\n    $dlg.data(\"args\", args);\n\n    var success = function(data) {\n        var result = parseJson(data);\n        if ($.isObject(result)) {\n            if (result.error)\n                _alert(result.error);\n        } else {\n            var args = $dlg.data(\"args\");\n            var $lnk = $(args.lnk);\n            $dlg.find(\".modal-title\").html(_caption());\n            var footer = \"\";\n            var btn = _button();\n            if (btn)\n                footer += \"<button type=\\\"button\\\" class=\\\"btn btn-primary ew-btn\\\">\" + btn + \"</button>\";\n            if (footer != \"\")\n                footer += \"<button type=\\\"button\\\" class=\\\"btn btn-default ew-btn\\\" data-dismiss=\\\"modal\\\">\" + ew.language.phrase(\"CancelBtn\") + \"</button>\";\n            else\n                footer = \"<button type=\\\"button\\\" class=\\\"btn btn-default ew-btn\\\" data-dismiss=\\\"modal\\\">\" + ew.language.phrase(\"CloseBtn\") + \"</button>\";\n            $dlg.find(\".modal-footer\").html(footer);\n            var body = getContent(data);\n            $dlg.find(\".modal-body\").html(body);\n            var table = $lnk.data(\"table\");\n            if (table)\n                $dlg.find(\".modal-dialog\").addClass(\"table-\" + table);\n            var $btn = $dlg.find(\".modal-footer .btn-primary\").addClass(\"ew-submit\").click(_submit);\n            $dlg.find(\".modal-body form\").keypress(function(e) {\n                if (e.which == 13 && e.target.nodeName != \"TEXTAREA\")\n                    return $btn.click();\n            });\n            ew.modalDialog = $dlg.modal(\"show\");\n            executeScript(data, \"ModalDialog\");\n            $dlg.trigger(\"load.ew\"); // Trigger load event for, e.g. YouTube videos, ReCAPTCHA and Google maps\n            $btn.focus();\n        }\n    };\n\n    $body.css(\"cursor\", \"wait\");\n\n    var url = args.url;\n    if (f) { // Post form\n        var $f = $(f);\n        if (!f.elements.modal)\n            $(\"<input>\").attr({type: \"hidden\", name: \"modal\", value: \"1\"}).appendTo($f);\n        $.post(url, $f.serialize(), success).fail(_fail).always(_always);\n    } else {\n        url += (url.split(\"?\").length > 1 ? \"&\" : \"?\") + \"modal=1&rnd=\" + random();\n        $.get(url, success).fail(_fail).always(_always);\n    }\n\n    return false;\n}\n\n// Show Modal Lookup\nexport function modalLookupShow(args) {\n    var el = args.el, f = getForm(args.lnk);\n    if (!f || !el)\n        return;\n\n    var $dlg = ew.modalLookupDialog || $(\"#ew-modal-lookup-dialog\").on(\"hidden.bs.modal\", modalDialogHide);\n    if (!$dlg[0]) {\n        _alert(\"DIV #ew-modal-lookup-dialog not found.\");\n        return;\n    }\n    if ($dlg.data(\"showing\"))\n        return;\n    $dlg.data(\"showing\", true);\n\n    var $f = $(f),\n        $input = $f.find(\"[id='\" + el + \"']\"), // id may contains \"[]\"\n        $bd = $dlg.find(\".modal-body\"),\n        $lnk = $(args.lnk),\n        $lu = $lnk.closest(\".ew-lookup-list\").find(\".ew-lookup-text\").trigger(\"focus\"),\n        oid = getId(el, false),\n        m = oid.match(/^([xy])(\\d*)_/),\n        rowindex = m ? m[2] : \"\",\n        list = forms.get(f.id).getList(el);\n\n    // Format data\n    var _format = function(data) {\n        if (data.result == \"OK\" && Array.isArray(data.records)) {\n            data.records.forEach(function(ar, index) {\n                var item;\n                if (Array.isArray(ar))\n                    item = { \"lf\": ar[0], \"df1\": ar[1], \"df2\": ar[2], \"df3\": ar[3], \"df4\": ar[4] };\n                else if ($.isObject(ar))\n                    item = { lf: ar.lf, df1: ar.df, df2: ar.df2, df3: ar.df3, df4: ar.df4 };\n                var txt = displayValue(ar, $input);\n                if (list.template) {\n                    item[\"df\"] = list.template.render(item, ew.jsRenderHelpers);\n                } else {\n                    item[\"df\"] = txt;\n                }\n                item[\"txt\"] = txt;\n                data.records[index] = item;\n            });\n        }\n        return data;\n    }\n\n    // Set AutoSuggest\n    var setAutoSuggest = function(value, text) {\n        if (!isAutoSuggest($input))\n            return;\n        let el = $input[0];\n        el.add(value, text, true);\n        el.input.value = text;\n    }\n\n    // Add option\n    var addOpt = function(ar) {\n        // Check if selected records are in the current page\n        var vals = [], html = [], opts = [], txts = [], useText = !args.m && args.srch;\n        $bd.ewjtable(\"selectedRows\").each(function() {\n            var record = $(this).data(\"record\");\n            vals.push(record.lf);\n            html.push(record.df);\n            opts.push(record.df);\n            txts.push(record.txt); // Text for Auto-Suggest\n        });\n        if (ar.sort().join() === vals.sort().join()) { // All selected records are from the current page\n            $lu.html(optionsHtml(opts, $input.data(\"maxcount\")));\n            setAutoSuggest(vals.join(), txts.join(\", \"));\n            $input.val(useText ? html.join(\", \") : vals.join()).trigger(\"change\");\n        } else { // Get selected records from server\n            var data = Object.assign({ page: list.page, field: list.field, ajax: \"modal\", keys: ar }, getUserParams('#p_' + oid, f));\n            $body.css(\"cursor\", \"wait\");\n            $.ajax(getApiUrl(ew.API_LOOKUP_ACTION), {\n                type: \"POST\",\n                dataType: \"json\",\n                data: data\n            }).done(_format).then(function(data) {\n                if (data.result == \"OK\" && Array.isArray(data.records)) {\n                    var vals = [], html = [], opts = [], txts = [], results = data.records;\n                    for (let result of results) {\n                        vals.push(result.lf);\n                        html.push(result.df)\n                        opts.push(result.df);\n                        txts.push(result.txt); // Text for Auto-Suggest\n                    }\n                    $lu.html(optionsHtml(opts, $input.data(\"maxcount\")));\n                    setAutoSuggest(vals.join(), txts.join(\", \"));\n                    $input.val(useText ? html.join(\", \") : vals.join()).trigger(\"change\");\n                }\n            }).always(function() {\n                $body.css(\"cursor\", \"default\");\n            });\n        }\n    }\n\n    // Submit\n    var _submit = function() {\n        addOpt(arLinkValue);\n        $dlg.modal(\"hide\");\n        return false;\n    }\n\n    // Hide\n    $dlg.modal(\"hide\");\n    $dlg.data(\"args\", args);\n    var _timer, $search;\n\n    // Success\n    var success = function(data) {\n        if (data.result == \"OK\") {\n            $dlg.find(\".modal-title\").html($lnk.attr(\"title\") || $lnk.data(\"original-title\"));\n            $dlg.find(\".modal-body .ewjtable thead\").toggle(!!args.m);\n            $dlg.find(\".modal-footer\").html('<button type=\"button\" id=\"btn-select\" class=\"btn btn-primary ew-btn\">' + ew.language.phrase(\"SelectBtn\") + '</button>' +\n                '<button type=\"button\" class=\"btn btn-default ew-btn\" data-dismiss=\"modal\">' + ew.language.phrase(\"CancelBtn\") + '</button>');\n            $search = $dlg.find(\".modal-header .modal-tools input[name=sv]\").off(\"keyup.ew\").on(\"keyup.ew\", function(e) {\n                    if (_timer)\n                        _timer.cancel();\n                    _timer = $.later(ew.LOOKUP_DELAY, null, function() {\n                        $bd.ewjtable(\"load\", { \"sv\": $search.val() });\n                    });\n                });\n            $dlg.find(\".modal-footer #btn-select\").click(_submit); // Select\n            ew.modalLookupDialog = $dlg.modal(\"show\");\n            $search.focus();\n        } else {\n            _alert(data.message);\n        }\n    };\n\n    var arp = [];\n    var linkValue = $input.val(); // Link values\n    var arLinkValue = (linkValue !== \"\") ? linkValue.split(ew.MULTIPLE_OPTION_SEPARATOR) : [];\n    var data = Object.assign({ page: list.page, field: list.field }, getUserParams('#p_' + oid, f));\n\n    // Add parent field values\n    var parentId = list.parentFields.slice(); // Clone\n    if (rowindex != \"\") {\n        for (var i = 0, len = parentId.length; i < len; i++) {\n            var ar = parentId[i].split(\" \");\n            if (ar.length == 1) // Parent field in the same table, add row index\n                parentId[i] = parentId[i].replace(/^x_/, \"x\" + rowindex + \"_\");\n        }\n    }\n    if (parentId.length > 0) {\n        for (var i = 0, len = parentId.length; i < len; i++)\n            arp.push(getOptionValues(parentId[i], f));\n    }\n    for (var i = 0, cnt = arp.length; i < cnt; i++) // Filter by parent fields\n        data[\"v\" + (i + 1)] = arp[i].join(ew.MULTIPLE_OPTION_SEPARATOR);\n\n    $body.css(\"cursor\", \"wait\");\n    $bd.ewjtable({\n        paging: true,\n        pageSize: args.n,\n        pageSizes: [],\n        pageSizeChangeArea: false,\n        pageList: \"minimal\",\n        selecting: true,\n        selectingCheckboxes: true,\n        multiselect: !!args.m,\n        actions: {\n            \"listAction\": function(postData, jtParams) {\n                var _data = Object.assign({}, data, {\n                    ajax: \"modal\",\n                    start: jtParams.start,\n                    recperpage: jtParams.recperpage\n                });\n                if ($.isObject(postData)) // Search\n                    Object.assign(_data, postData);\n                return $.ajax(getApiUrl(ew.API_LOOKUP_ACTION), {\n                        type: \"POST\",\n                        dataType: \"json\",\n                        data: _data\n                    }).done(_format).always(function() {\n                        $body.css(\"cursor\", \"default\");\n                    });\n            }\n        },\n        messages: {\n            serverCommunicationError: ew.language.phrase(\"ServerCommunicationError\"),\n            loadingMessage: '<div class=\"' + ew.spinnerClass + ' m-3 ew-loading\" role=\"status\"><span class=\"sr-only\">' + ew.language.phrase(\"Loading\") + '</span></div>',\n            noDataAvailable: ew.language.phrase(\"NoRecord\"),\n            close: ew.language.phrase(\"CloseBtn\"),\n            pagingInfo: ew.language.phrase(\"Record\") + \" {0}-{1} \" + ew.language.phrase(\"Of\") + \" {2}\",\n            pageSizeChangeLabel: ew.language.phrase(\"RecordsPerPage\"),\n            gotoPageLabel: ew.language.phrase(\"Page\")\n        },\n        fields: {\n            \"lf\": { key: true, list: false},\n            \"df\": {}\n        },\n        recordsLoaded: function(e, data) {\n            var selectedRows = $(e.target).find(\".ewjtable-data-row\").filter(function() {\n                return arLinkValue.includes(String($(this).data(\"record-key\")));\n            });\n            $(e.target).ewjtable(\"selectRows\", selectedRows);\n        },\n        selectionChanged: function(e, data) {\n            var $rows = data.rows;\n            if ($rows) {\n                if (!args.m)\n                    arLinkValue = [];\n                $rows.each(function() {\n                    var $row = $(this);\n                    var key = String($row.data(\"record-key\"));\n                    var index = arLinkValue.indexOf(key);\n                    var selected = $row.hasClass(\"ewjtable-row-selected\");\n                    if (selected && index == -1)\n                        arLinkValue.push(key);\n                    else if (!selected && index > -1)\n                        arLinkValue.splice(index, 1);\n                });\n            }\n        }\n    }).ewjtable(\"load\", null, success);\n}\n\n/**\n * Show dialog for import\n *\n * @param {Object} args - Arguments\n * @param {string} args.hdr - Dialog header\n * @param {HTMLElement} args.lnk - Anchor element\n * @returns\n */\nexport function importDialogShow(args) {\n    $(args.lnk).tooltip(\"hide\");\n    var $dlg = ew.importDialog || $(\"#ew-import-dialog\");\n    if (!$dlg[0]) {\n        _alert(\"DIV #ew-import-dialog not found.\");\n        return false;\n    }\n\n    var $input = $dlg.find(\"#importfiles\"),\n        $bd = $dlg.find(\".modal-body\"),\n        $data = $bd.find(\":input[id!=importfiles]\"),\n        $message = $bd.find(\".message\"),\n        $progress = $bd.find(\".progress\"),\n        timer;\n\n    // Disable buttons\n    var disableButtons = function() {\n        $dlg.find(\".modal-footer .btn\").prop(\"disabled\", true);\n    }\n\n    // Enable buttons\n    var enableButtons = function() {\n        $dlg.find(\".modal-footer .btn\").prop(\"disabled\", false);\n    }\n\n    // Show message\n    var showMessage = function(msg, classname) {\n        var $msg = $(\"<div>\" + msg + \"</div>\");\n        if (classname)\n            $msg.addClass(classname);\n        $message.removeClass(\"d-none\").html($msg);\n        if (classname == \"text-danger\")\n            enableButtons();\n    }\n\n    // Hide message\n    var hideMessage = function() {\n        $message.addClass(\"d-none\").html(\"\");\n    }\n\n    // Show progress\n    var showProgress = function(pc, classname) {\n        $progress.removeClass(\"d-none\").find(\".progress-bar\").removeClass(\"bg-success bg-info\").addClass(classname || \"bg-success\")\n            .attr(\"aria-valuenow\", pc).css(\"width\", pc + \"%\").html(pc + \"%\");\n    }\n\n    // Hide progress\n    var hideProgress = function() {\n        $progress.addClass(\"d-none\").find(\".progress-bar\").attr(\"aria-valuenow\", 0).css(\"width\", \"0%\").html(\"0%\");\n    }\n\n    // Upload progress\n    var uploadProgress = function(data) {\n        var pc = parseInt(100 * data.loaded / data.total);\n        showProgress(pc, \"bg-info\");\n        if (pc === 100) {\n            showMessage(ew.language.phrase(\"ImportMessageUploadComplete\"), \"text-info\");\n        } else {\n            showMessage(ew.language.phrase(\"ImportMessageUploadProgress\").replace(\"%p\", pc), \"text-info\");\n        }\n    }\n\n    // Update progress (import)\n    var updateProgress = function(result) {\n        try {\n            var cnt = parseInt(result.count), tcnt = parseInt(result.totalCount), filename = result.file;\n            if (tcnt > 0 && $dlg.find(\".modal-footer .ew-close-btn\").data(\"import-progress\")) { // Show progress\n                var pc = parseInt(100 * cnt / tcnt);\n                showProgress(pc);\n                showMessage(ew.language.phrase(\"ImportMessageProgress\").replace(\"%t\", tcnt).replace(\"%c\", cnt).replace(\"%f\", filename), \"text-info\");\n            }\n        } catch(e) {}\n    }\n\n    // Import progress\n    var importProgress = function() {\n        var url = getApiUrl(ew.API_PROGRESS_ACTION), data = { \"rnd\": random() };\n        data[ew.API_FILE_TOKEN_NAME] = $input.data(ew.API_FILE_TOKEN_NAME);\n        $.get(url, data, updateProgress, \"json\");\n    }\n\n    // Import complete\n    var importComplete = function(result) {\n        var maxErrorCount = 5;\n        var msg = \"\";\n        showProgress(100);\n        var fileResults = result.files;\n        $dlg.find(\".modal-footer .ew-close-btn\").data(\"import-progress\", false); // Stop import progress\n        if (Array.isArray(fileResults)) {\n            for (var i = 0, len = fileResults.length; i < len; i++) {\n                var fileResult = fileResults[i],\n                    tcnt = fileResult.totalCount || 0,\n                    cnt = fileResult.count || 0,\n                    scnt = fileResult.successCount || 0,\n                    fcnt = fileResult.failCount || 0;\n                if (msg != \"\")\n                    msg += \"<br>\";\n                if (fileResult.success) {\n                    msg += ew.language.phrase(\"ImportMessageSuccess\").replace(\"%t\", tcnt).replace(\"%c\", cnt).replace(\"%f\", fileResult.file);\n                } else {\n                    msg += ew.language.phrase(\"ImportMessageError1\").replace(\"%t\", tcnt).replace(\"%c\", cnt).replace(\"%f\", fileResult.file).replace(\"%s\", scnt).replace(\"%e\", fcnt);\n                    if (fileResult.error)\n                        msg += ew.language.phrase(\"ImportMessageError2\").replace(\"%e\", fileResult.error);\n                    var showLog = true;\n                    if (fileResult.failList) {\n                        var ecnt = 0;\n                        for (var i = 1; i <= cnt; i++) {\n                            if (fileResult.failList[\"row\" + i]) {\n                                ecnt += 1;\n                                msg += \"<br>\" + ew.language.phrase(\"ImportMessageError3\").replace(\"%i\", i).replace(\"%d\", fileResult.failList[\"row\" + i]);\n                            }\n                            if (ecnt >= maxErrorCount)\n                                break;\n                        }\n                        if (fcnt > maxErrorCount)\n                            msg += \"<br>\" + ew.language.phrase(\"ImportMessageMore\").replace(\"%s\", fcnt - maxErrorCount);\n                        else\n                            showLog = false;\n                    }\n                    if (fileResult.log && showLog)\n                        msg += \"<br>\" + ew.language.phrase(\"ImportMessageError4\").replace(\"%l\", fileResult.log);\n                    showMessage(msg, \"text-danger\"); // Show error message\n                }\n            }\n        }\n        if (result.success) {\n            showMessage(msg, \"text-success\");\n            $dlg.find(\".modal-footer .ew-close-btn\").data(\"imported\", true);\n        } else {\n            if (result.error)\n                msg = result.error;\n            showMessage(msg, \"text-danger\"); // Show error message\n        }\n        hideProgress();\n    }\n\n    // Import fail\n    var importFail = function(o) {\n        $dlg.find(\".modal-footer .ew-close-btn\").data(\"import-progress\", false); // Stop import progress\n        showMessage(ew.language.phrase(\"ImportMessageServerError\").replace(\"%s\", o.status).replace(\"%t\", o.statusText), \"text-danger\");\n    }\n\n    // Import file\n    var importFiles = function(filetoken) {\n        $body.css(\"cursor\", \"wait\");\n        $input.data(ew.API_FILE_TOKEN_NAME, filetoken);\n        $dlg.find(\".modal-footer .ew-close-btn\").data(\"import-progress\", true); // Show import progress\n        var data = ew.API_ACTION_NAME + \"=import&\" + ew.API_FILE_TOKEN_NAME + \"=\" + encodeURIComponent(filetoken);\n        if ($data.length)\n            data += \"&\" + $data.serialize();\n        $.ajax(currentPage(), {\n            \"data\": data,\n            \"method\": \"POST\",\n            \"dataType\": \"json\",\n            \"beforeSend\": function(xhr, settings) {\n                timer = $.later(100, null, importProgress, null, true); // Use time to show progress periodically\n            }\n        }).done(importComplete).fail(importFail).always(function() {\n            $body.css(\"cursor\", \"default\");\n            if (timer)\n                timer.cancel(); // Clear timer\n        });\n    }\n\n    var formData = { session: ew.SESSION_ID };\n    formData[ew.TOKEN_NAME_KEY] = ew.TOKEN_NAME; // Add token name for $.ajax() sent by jQuery File Upload (not by ajaxSend) // PHP\n    formData[ew.ANTIFORGERY_TOKEN_KEY] = ew.ANTIFORGERY_TOKEN; // Add antiforgery token for $.ajax() sent by jQuery File Upload (not by ajaxSend) // PHP\n    var options = ew.importUploadOptions;\n    if (!options.acceptFileTypes)\n        options.acceptFileTypes = new RegExp('\\\\.(' + ew.IMPORT_FILE_ALLOWED_EXT.replace(/,/g, '|') + ')$', 'i');\n\n    if (!$input.data(\"blueimpFileupload\")) {\n        $input.fileupload(Object.assign({\n                url: getApiUrl(ew.API_UPLOAD_ACTION),\n                dataType: \"json\",\n                autoUpload: true,\n                formData: formData,\n                singleFileUploads: false,\n                messages: {\n                    acceptFileTypes: ew.language.phrase(\"UploadErrMsgAcceptFileTypes\"),\n                    maxFileSize: ew.language.phrase(\"UploadErrMsgMaxFileSize\"),\n                    maxNumberOfFiles: ew.language.phrase(\"UploadErrMsgMaxNumberOfFiles\"),\n                    minFileSize: ew.language.phrase(\"UploadErrMsgMinFileSize\")\n                },\n                done: function(e, data) {\n                    if (data.result && data.result.files && Array.isArray(data.result.files.importfiles)) {\n                        var ok = true;\n                        data.result.files.importfiles.forEach(function(file, index) {\n                            if (file.error) {\n                                showMessage(ew.language.phrase(\"ImportMessageUploadError\").replace(\"%f\", file.name).replace(\"%s\", file.error), \"text-danger\");\n                                ok = false;\n                            }\n                        }); // Show upload errors for each file\n                        if (ok)\n                            importFiles(data.result[ew.API_FILE_TOKEN_NAME]); // Import uploaded files\n                    }\n                },\n                change: function(e, data) {\n                    hideMessage();\n                },\n                processfail: function(e, data) {\n                    data.files.forEach(function(file, index) {\n                        if (file.error)\n                            showMessage(ew.language.phrase(\"ImportMessageUploadError\").replace(\"%f\", file.name).replace(\"%s\", file.error), \"text-danger\");\n                    }); // Show process errors for each file\n                },\n                fail: function(e, data) {\n                    showMessage(ew.language.phrase(\"ImportMessageServerError\").replace(\"%s\", data.textStatus).replace(\"%t\", data.errorThrown), \"text-danger\");\n                },\n                progressall: function(e, data) {\n                    uploadProgress(data);\n                }\n        }, options));\n    }\n\n    $dlg.modal(\"hide\").find(\".modal-title\").html(args.hdr);\n    $dlg.find(\".modal-footer .ew-close-btn\").off(\"click.ew\").on(\"click.ew\", function() {\n        var $this = $(this);\n        if ($this.data(\"imported\")) {\n            $this.data(\"imported\", false);\n            window.location.reload(true);\n        }\n    });\n    hideMessage();\n    ew.importDialog = $dlg.modal(\"show\");\n    return false;\n}\n\n// Auto-fill\nexport function autoFill(el) {\n    var f = forms.get(el).$element[0];\n    if (!f)\n        return;\n    var ar = getOptionValues(el),\n        id = getId(el),\n        m = id.match(/^([xy])(\\d*)_/),\n        rowindex = (m) ? m[2] : \"\",\n        list = forms.get(el).getList(id),\n        dest_array = list.autoFillTargetFields;\n    var success = function(data) {\n        var results = data && data.records || \"\";\n        var result = (results) ? results[0] : [];\n        for (var j = 0; j < dest_array.length; j++) {\n            var destEl = getElements(dest_array[j].replace(/^x_/, \"x\" + rowindex + \"_\"), f);\n            if (destEl) {\n                var val = ($.isValue(result[\"af\" + j])) ? result[\"af\" + j] : \"\";\n                var args = {results: results, result: result, data: val, form: f, name: id, target: dest_array[j], cancel: false, trigger: true};\n                $(el).trigger(\"autofill\", [args]); // Fire event\n                if (args.cancel)\n                    continue;\n                val = args.data; // Process the value\n                if (destEl.options) { // Selection list\n                    selectOption(destEl, val.split(\",\"));\n                    if (isAutoSuggest(destEl)) { // Auto-Suggest\n                        destEl.input.value = val;\n                        updateOptions.call(forms.get(f.id), destEl);\n                    } else if (isModalLookup(destEl)) { // Modal-Lookup\n                        //$(destEl).parent().find(\".ew-lookup-text\").html(val);\n                        updateOptions.call(forms.get(f.id), destEl);\n                    }\n                } else if (isHiddenTextArea(destEl)) { // HTML editor\n                    destEl.value = val;\n                    $(destEl).data(\"editor\").set();\n                } else {\n                    destEl.value = val;\n                }\n                if (args.trigger)\n                    $(destEl).trigger(\"change\");\n            }\n        }\n        return result;\n    };\n    if (ar.length > 0 && ar[0] != \"\") {\n        var data = Object.assign({\n            page: list.page,\n            field: list.field,\n            ajax: \"autofill\",\n            v0: ar[0],\n            language: ew.LANGUAGE_ID\n        }, getUserParams('#p_' + id, f));\n        // Add parent field values\n        var parentId = list.parentFields.slice(); // Clone\n        if (rowindex != \"\") {\n            for (var i = 0, len = parentId.length; i < len; i++) {\n                var ar = parentId[i].split(\" \");\n                if (ar.length == 1) // Parent field in the same table, add row index\n                    parentId[i] = parentId[i].replace(/^x_/, \"x\" + rowindex + \"_\");\n            }\n        }\n        var arp = parentId.map(function(pid) {\n            return getOptionValues(pid, f);\n        });\n        for (var i = 0, cnt = arp.length; i < cnt; i++) // Filter by parent fields\n            data[\"v\" + (i + 1)] = arp[i].join(ew.MULTIPLE_OPTION_SEPARATOR);\n        return $.post(getApiUrl(ew.API_LOOKUP_ACTION), data, success, \"json\");\n    }\n    return success();\n}\n\n// Setup tooltip links\nexport function tooltip(i, el) {\n    var $this = $(el), $tt = $(\"#\" + $this.data(\"tooltip-id\")),\n        trig = $this.data(\"trigger\") || \"hover\", dir = $this.data(\"placement\") || (ew.CSS_FLIP ? \"left\" : \"right\"); // dir = \"left|right\"\n    if (!$tt[0] || $tt.text().trim() == \"\" && !$tt.find(\"img[src!='']\")[0])\n        return;\n    if (!$this.data(\"bs.popover\")) {\n        $this.popover({\n            html: true,\n            placement: dir,\n            trigger: trig,\n            delay: 100,\n            container: $(\"#ew-tooltip\")[0],\n            content: $tt.html(),\n            sanitizeFn: ew.sanitizeFn\n        }).on(\"show.bs.popover\", function(e) {\n            var wd, $tip = $($this.data(\"bs.popover\").getTipElement()).css(\"z-index\", 9999); // Make z-index higher than modal dialog\n            if (wd = $this.data(\"tooltip-width\")) // Set width before show\n                $tip.css(\"max-width\", parseInt(wd, 10) + \"px\");\n        });\n    }\n}\n\n/**\n * Show dialog for email sending\n *\n * @param {Object} args - Arguments\n * @param {string} args.lnk - Email link ID\n * @param {string} args.hdr - Dialog header\n * @param {string} args.url - URL of the email content\n * @param {HTMLElement} args.f - Form\n * @param {Object} args.key - Key as object\n * @param {boolean} args.sel - Exported selected\n * @returns false\n */\nexport function emailDialogShow(args) {\n    var $dlg = ew.emailDialog || $(\"#ew-email-dialog\");\n    if (!$dlg[0]) {\n        _alert(\"DIV #ew-email-dialog not found.\");\n        return false;\n    }\n    if (args.sel && !keySelected(args.f)) {\n        _alert(ew.language.phrase(\"NoRecordSelected\"));\n        return false;\n    }\n    var $f = $dlg.find(\".modal-body form\"),\n        frm = $f.data(\"form\");\n    if (!frm) {\n        frm = new Form($f.attr(\"id\"));\n        frm.addFields([\n            [\"sender\", [ew.Validators.required(ew.language.phrase(\"Sender\")), ew.Validators.email]],\n            [\"recipient\", [ew.Validators.required(ew.language.phrase(\"Recipient\")), ew.Validators.emails(ew.MAX_EMAIL_RECIPIENT, ew.language.phrase(\"EnterProperRecipientEmail\"))]],\n            [\"cc\", ew.Validators.emails(ew.MAX_EMAIL_RECIPIENT, ew.language.phrase(\"EnterProperCcEmail\"))],\n            [\"bcc\", ew.Validators.emails(ew.MAX_EMAIL_RECIPIENT, ew.language.phrase(\"EnterProperBccEmail\"))],\n            [\"subject\", ew.Validators.required(ew.language.phrase(\"Subject\"))]\n        ]);\n        frm.validate = function() {\n            return this.validateFields();\n        };\n        frm.submit = function() {\n            if (!this.validate())\n                return false;\n            var qs = $f.serialize(), data = \"\";\n            if (args.f && args.sel) // Export selected\n                data = $(args.f).find(\"input[type=checkbox][name='key_m[]']:checked\").serialize();\n            if (args.key)\n                qs += \"&\" + $.param(args.key);\n            var fobj = this.getForm();\n            if (args.url) { // Custom Template\n                $dlg.modal(\"hide\");\n                if (args.exportid)\n                    ew.exportWithCharts(args.el, args.url, args.exportid, fobj);\n                else\n                    _export(args.f, args.url, \"email\", true, args.sel, fobj);\n            } else {\n                $.post($(args.f).attr(\"action\"), qs + \"&\" + data, function(result) {\n                    showMessage(result);\n                });\n            }\n            return true;\n        };\n        $f.data(\"form\", frm);\n    }\n    $dlg.modal(\"hide\").find(\".modal-title\").html(args.hdr);\n    $dlg.find(\".modal-footer .btn-primary\").off().click(function(e) {\n        e.preventDefault();\n        if (frm.submit())\n            $dlg.modal(\"hide\");\n    });\n    ew.emailDialog = $dlg.modal(\"show\");\n    return false;\n}\n\n// Show drill down\nexport function showDrillDown(e, obj, url, id, hdr) {\n    if (e && e.ctrlKey) {\n        var arUrl = url.split(\"?\"), params = new URLSearchParams(arUrl[1]);\n        params.set(\"d\", \"2\");  // Change d parameter to 2\n        redirect(arUrl[0] + \"?\" + params.toString());\n        return false;\n    }\n    var $obj = ($.isString(obj)) ? $(\"#\" + obj) : $(obj);\n    var pos = $obj.data(\"drilldown-placement\") || ($obj.hasClass(\"ew-chart-canvas\") ? (ew.CSS_FLIP ? \"left\" : \"right\") : \"bottom\");\n    $obj.tooltip(\"hide\");\n    var args = {\"obj\": $obj[0], \"id\": id, \"url\": url, \"hdr\": hdr, \"placement\": pos};\n    $document.trigger(\"drilldown\", [args]);\n    var ar = args.url.split(\"?\");\n    args.file = ar[0] || \"\";\n    args.data = ar[1] || \"\";\n    if (!$obj.data(\"bs.popover\")) {\n        $obj.popover({\n            html: true,\n            placement: args.placement,\n            trigger: \"manual\",\n            template: '<div class=\"popover\"><h3 class=\"popover-header d-none\" style=\"cursor: move;\"></h3><div class=\"popover-body\"></div></div>',\n            content: '<div class=\"' + ew.spinnerClass + ' m-3 ew-loading\" role=\"status\"><span class=\"sr-only\">' + ew.language.phrase(\"Loading\") + '</span></div>',\n            container: $(\"#ew-drilldown-panel\"),\n            sanitizeFn: ew.sanitizeFn,\n            boundary: \"viewport\"\n        }).on(\"show.bs.popover\", function(e) {\n            $obj.attr(\"data-original-title\", \"\");\n        }).on(\"shown.bs.popover\", function(e) {\n            if (!$obj.data(\"args\"))\n                return;\n            var data = $obj.data(\"args\").data;\n            data += (data ? \"&\" : \"\") + ew.TOKEN_NAME_KEY + \"=\" + ew.TOKEN_NAME; // Add token name // PHP\n            data += (data ? \"&\" : \"\") + ew.ANTIFORGERY_TOKEN_KEY + \"=\" + ew.ANTIFORGERY_TOKEN; // Add antiforgery token // PHP\n            $.ajax({\n                cache: false,\n                dataType: \"html\",\n                type: \"POST\",\n                data: data,\n                url: $obj.data(\"args\").file,\n                success: function(data) {\n                    var $tip = $($obj.data(\"bs.popover\").getTipElement()).on(\"mousedown\", function(e) {\n                        var $this = $(this).addClass(\"drag\"),\n                            height = $this.outerHeight(),\n                            width = $this.outerWidth(),\n                            ypos = $this.offset().top + height - e.pageY,\n                            xpos = $this.offset().left + width - e.pageX;\n                        $body.on(\"mousemove\", function(e) {\n                            var top = e.pageY + ypos - height,\n                                left = e.pageX + xpos - width;\n                            if ($this.hasClass(\"drag\"))\n                                $this.offset({top: top, left: left});\n                        }).on(\"mouseup\", function(e){\n                            $this.removeClass(\"drag\");\n                        });\n                    });\n                    if (args.hdr)\n                        $tip.find(\".popover-header\").empty().removeClass(\"d-none\")\n                            .append('<button type=\"button\" class=\"close\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button>' + args.hdr)\n                            .find(\".close\").on(\"click\", function() {\n                                $obj.popover(\"hide\");\n                            });\n                    var m = data.match(/<body[^>]*>([\\s\\S]*?)<\\/body\\s*>/i); // Use HTML in document body only\n                    data = m ? m[0] : data;\n                    var html = ew.stripScript(data);\n                    $tip.find(\".popover-body\").html($(\"<div></div>\").html(html).find(\"#ew-report\")) // Insert the container table only\n                        .find(\".ew-table\").each(ew.setupTable);\n                    ew.executeScript(data, id);\n                    $obj.popover(\"update\");\n                },\n                error: function(o) {\n                    if (o.responseText) {\n                        var $tip = $($el.data(\"bs.popover\").getTipElement());\n                        $tip.find(\".popover-body\").empty().append('<p class=\"text-danger\">' + o.responseText + '</p>');\n                    }\n                }\n            });\n        }).on(\"hidden.bs.popover\", function(e) {\n            $.each(ew.drillDownCharts, function(key, cht) { // Dispose charts\n                cht.dispose();\n            });\n            ew.drillDownCharts = {};\n            ew.removeScript(id);\n        });\n    }\n    $obj.data(\"args\", args).popover(\"show\");\n}\n\n/**\n * Ajax query\n * @param {Object} data - object to passed to API\n * @param {callback} callback - Callback function for async request (see http://api.jquery.com/jQuery.post/), empty for sync request\n * @returns {string|string[]}\n */\nexport function ajax(data, callback) {\n    if (!$.isObject(data))\n        return undefined;\n    var action = data.action;\n    if (!action)\n        return undefined;\n    delete data.action;\n    var obj = Object.assign({}, data);\n    var _convert = function(response) {\n        if ($.isObject(response) && response.result == \"OK\") {\n            var results = response.records;\n            if (Array.isArray(results) && results.length == 1) { // Single row\n                results = results[0];\n                if (Array.isArray(results) && results.length == 1) // Single column\n                    return results[0]; // Return a value\n                else\n                    return results; // Return a row\n            }\n            return results;\n        }\n        return response;\n    };\n    var url = getApiUrl(action), // URL\n        type = obj.type || \"POST\";\n    delete obj.type;\n    obj.dataType = \"json\";\n    if ($.isFunction(callback)) { // Async\n        $.ajax({\n            url: url,\n            type: type,\n            data: obj,\n            success: function (response) {\n                callback(_convert(response));\n            }\n        });\n    } else { // Sync\n        var response = $.ajax({\n            url: url,\n            async: false,\n            type: type,\n            data: obj\n        });\n        return _convert(response.responseJSON);\n    }\n}\n\n// Get URL of current page\nexport function currentPage() {\n    return location.href.split(\"#\")[0].split(\"?\")[0];\n}\n\n// Toggle search operator\nexport function toggleSearchOperator(id, value) {\n    var el = this.form.elements[id];\n    if (!el)\n        return;\n    el.value = (el.value != value) ? value : \"=\";\n}\n\n// Validators\n// Check US Date format (mm/dd/yyyy)\nexport function checkUSDate(object_value) {\n    return checkDateEx(object_value, \"us\", ew.DATE_SEPARATOR);\n}\n\n// Check US Date format (mm/dd/yy)\nexport function checkShortUSDate(object_value) {\n    return checkDateEx(object_value, \"usshort\", ew.DATE_SEPARATOR);\n}\n\n// Check Date format (yyyy/mm/dd)\nexport function checkDate(object_value) {\n    return checkDateEx(object_value, \"std\", ew.DATE_SEPARATOR);\n}\n\n// Check Date format (yy/mm/dd)\nexport function checkShortDate(object_value) {\n    return checkDateEx(object_value, \"stdshort\", ew.DATE_SEPARATOR);\n}\n\n// Check Euro Date format (dd/mm/yyyy)\nexport function checkEuroDate(object_value) {\n    return checkDateEx(object_value, \"euro\", ew.DATE_SEPARATOR);\n}\n\n// Check Euro Date format (dd/mm/yy)\nexport function checkShortEuroDate(object_value) {\n    return checkDateEx(object_value, \"euroshort\", ew.DATE_SEPARATOR);\n}\n\n// Check default date format\nexport function checkDateDef(object_value) {\n    if (ew.DATE_FORMAT.match(/^yyyy/))\n        return checkDate(object_value);\n    else if (ew.DATE_FORMAT.match(/^yy/))\n        return checkShortDate(object_value);\n    else if (ew.DATE_FORMAT.match(/^m/) && ew.DATE_FORMAT.match(/yyyy$/))\n        return checkUSDate(object_value);\n    else if (ew.DATE_FORMAT.match(/^m/) && ew.DATE_FORMAT.match(/yy$/))\n        return checkShortUSDate(object_value);\n    else if (ew.DATE_FORMAT.match(/^d/) && ew.DATE_FORMAT.match(/yyyy$/))\n        return checkEuroDate(object_value);\n    else if (ew.DATE_FORMAT.match(/^d/) && ew.DATE_FORMAT.match(/yy$/))\n        return checkShortEuroDate(object_value);\n    return false;\n}\n\n// Check date format\n// format: std/stdshort/us/usshort/euro/euroshort\nexport function checkDateEx(value, format, sep) {\n    if (!value || value.length == \"\")\n        return true;\n    value = value.replace(/ +/g, \" \").trim();\n    var arDT = value.split(\" \");\n    if (arDT.length > 0) {\n        var re, ar, sYear, sMonth, sDay;\n        re = /^(\\d{4})-([0][1-9]|[1][0-2])-([0][1-9]|[1|2]\\d|[3][0|1])$/;\n        if (ar = re.exec(arDT[0])) {\n            sYear = ar[1];\n            sMonth = ar[2];\n            sDay = ar[3];\n        } else {\n            var wrksep = escapeRegExChars(sep);\n            switch (format) {\n                case \"std\":\n                    re = new RegExp(\"^(\\\\d{4})\" + wrksep + \"([0]?[1-9]|[1][0-2])\" + wrksep + \"([0]?[1-9]|[1|2]\\\\d|[3][0|1])$\");\n                    break;\n                case \"stdshort\":\n                    re = new RegExp(\"^(\\\\d{2})\" + wrksep + \"([0]?[1-9]|[1][0-2])\" + wrksep + \"([0]?[1-9]|[1|2]\\\\d|[3][0|1])$\");\n                    break;\n                case \"us\":\n                    re = new RegExp(\"^([0]?[1-9]|[1][0-2])\" + wrksep + \"([0]?[1-9]|[1|2]\\\\d|[3][0|1])\" + wrksep + \"(\\\\d{4})$\");\n                    break;\n                case \"usshort\":\n                    re = new RegExp(\"^([0]?[1-9]|[1][0-2])\" + wrksep + \"([0]?[1-9]|[1|2]\\\\d|[3][0|1])\" + wrksep + \"(\\\\d{2})$\");\n                    break;\n                case \"euro\":\n                    re = new RegExp(\"^([0]?[1-9]|[1|2]\\\\d|[3][0|1])\" + wrksep + \"([0]?[1-9]|[1][0-2])\" + wrksep + \"(\\\\d{4})$\");\n                    break;\n                case \"euroshort\":\n                    re = new RegExp(\"^([0]?[1-9]|[1|2]\\\\d|[3][0|1])\" + wrksep + \"([0]?[1-9]|[1][0-2])\" + wrksep + \"(\\\\d{2})$\");\n                    break;\n            }\n            if (!re.test(arDT[0]))\n                return false;\n            var arD = arDT[0].split(sep);\n            switch (format) {\n                case \"std\":\n                case \"stdshort\":\n                    sYear = unformatYear(arD[0]);\n                    sMonth = arD[1];\n                    sDay = arD[2];\n                    break;\n                case \"us\":\n                case \"usshort\":\n                    sYear = unformatYear(arD[2]);\n                    sMonth = arD[0];\n                    sDay = arD[1];\n                    break;\n                case \"euro\":\n                case \"euroshort\":\n                    sYear = unformatYear(arD[2]);\n                    sMonth = arD[1];\n                    sDay = arD[0];\n                    break;\n            }\n        }\n        if (!checkDay(sYear, sMonth, sDay))\n            return false;\n    }\n    if (arDT.length > 1 && !checkTime(arDT[1]))\n        return false;\n    return true;\n}\n\n// Unformat 2 digit year to 4 digit year\nexport function unformatYear(yr) {\n    if (yr.length == 2)\n        return (yr > ew.UNFORMAT_YEAR) ? \"19\" + yr : \"20\" + yr;\n    return yr;\n}\n\n// Check day\nexport function checkDay(checkYear, checkMonth, checkDay) {\n    checkYear = parseInt(checkYear, 10);\n    checkMonth = parseInt(checkMonth, 10);\n    checkDay = parseInt(checkDay, 10);\n    var maxDay = [4, 6, 9, 11].includes(checkMonth) ? 30 : 31;\n    if (checkMonth == 2)\n        maxDay = (checkYear % 4 > 0 || checkYear % 100 == 0 && checkYear % 400 > 0) ? 28 : 29;\n    return checkRange(checkDay, 1, maxDay);\n}\n\n// Check integer\nexport function checkInteger(object_value) {\n    if (!object_value || object_value.length == 0)\n        return true;\n    if (object_value.includes(ew.DECIMAL_POINT))\n        return false;\n    return checkNumber(object_value);\n}\n\n// Check number\nexport function checkNumber(object_value) {\n    object_value = String(object_value);\n    if (!object_value || object_value.length == 0)\n        return true;\n    object_value = object_value.trim();\n    var ts = escapeRegExChars(ew.THOUSANDS_SEP), dp = escapeRegExChars(ew.DECIMAL_POINT),\n        re = new RegExp(\"^[+-]?(\\\\d{1,3}(\" + (ts ? ts + \"?\" : \"\") + \"\\\\d{3})*(\" + dp + \"\\\\d+)?|\" + dp + \"\\\\d+)$\");\n    return re.test(object_value);\n}\n\n// Convert to float\nexport function stringToFloat(object_value) {\n    object_value = String(object_value);\n    if (ew.THOUSANDS_SEP != \"\") {\n        var re = new RegExp(escapeRegExChars(ew.THOUSANDS_SEP), \"g\");\n        object_value = object_value.replace(re, \"\");\n    }\n    if (ew.DECIMAL_POINT != \"\")\n        object_value = object_value.replace(ew.DECIMAL_POINT, \".\");\n    return parseFloat(object_value);\n}\n\n// Convert string (yyyy-mm-dd hh:mm:ss) to date object\nexport function stringToDate(object_value) {\n    var re = /^(\\d{4})-([0][1-9]|[1][0-2])-([0][1-9]|[1|2]\\d|[3][0|1]) (?:(0\\d|1\\d|2[0-3]):([0-5]\\d):([0-5]\\d))?$/;\n    var ar = object_value.replace(re, \"$1 $2 $3 $4 $5 $6\").split(\" \");\n    return new Date(ar[0], ar[1]-1, ar[2], ar[3], ar[4], ar[5]);\n}\n\n// Escape regular expression chars\nexport function escapeRegExChars(str) {\n    return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, \"\\\\$&\");\n}\n\n// Check range\nexport function checkRange(object_value, min_value, max_value) {\n    if (!object_value || object_value.length == 0)\n        return true;\n    if ($.isNumber(min_value) || $.isNumber(max_value)) { // Number\n        if (checkNumber(object_value))\n            object_value = stringToFloat(object_value);\n    }\n    if (!$.isNull(min_value) && object_value < min_value)\n        return false;\n    if (!$.isNull(max_value) && object_value > max_value)\n        return false;\n    return true;\n}\n\n// Check time\nexport function checkTime(object_value) {\n    if (!object_value || object_value.length == 0)\n        return true;\n    object_value = object_value.trim();\n    var re = new RegExp('^(0\\\\d|1\\\\d|2[0-3])' + escapeRegExChars(ew.TIME_SEPARATOR) + '[0-5]\\\\d(( (' + escapeRegExChars(ew.language.phrase(\"AM\")) + '|' + escapeRegExChars(ew.language.phrase(\"PM\")) + '))|(' + escapeRegExChars(ew.TIME_SEPARATOR) + '[0-5]\\\\d(\\\\.\\\\d+|[+-][\\\\d:]+)?)?)$', 'i');\n    return re.test(object_value);\n}\n\n// Check phone\nexport function checkPhone(object_value) {\n    if (!object_value || object_value.length == 0)\n        return true;\n    return /^\\(\\d{3}\\) ?\\d{3}( |-)?\\d{4}|^\\d{3}( |-)?\\d{3}( |-)?\\d{4}$/.test(object_value.trim());\n}\n\n// Check zip\nexport function checkZip(object_value) {\n    if (!object_value || object_value.length == 0)\n        return true;\n    return /^\\d{5}$|^\\d{5}-\\d{4}$/.test(object_value.trim());\n}\n\n// Check credit card\nexport function checkCreditCard(object_value) {\n    if (!object_value || object_value.length == 0)\n        return true;\n    var creditcard_string = object_value.replace(/\\D/g, \"\");\n    if (creditcard_string.length == 0)\n        return false;\n    var doubledigit = creditcard_string.length % 2 == 1 ? false : true;\n    var tempdigit, checkdigit = 0;\n    for (var i = 0, len = creditcard_string.length; i < len; i++) {\n        tempdigit = parseInt(creditcard_string.charAt(i), 10);\n        if (doubledigit) {\n            tempdigit *= 2;\n            checkdigit += (tempdigit % 10);\n            if (tempdigit / 10 >= 1.0)\n                checkdigit++;\n            doubledigit = false;\n        }\telse {\n            checkdigit += tempdigit;\n            doubledigit = true;\n        }\n    }\n    return (checkdigit % 10 == 0);\n}\n\n// Check social security number\nexport function checkSsn(object_value) {\n    if (!object_value || object_value.length == 0)\n        return true;\n    return /^(?!000)([0-6]\\d{2}|7([0-6]\\d|7[012]))([ -]?)(?!00)\\d\\d\\3(?!0000)\\d{4}$/.test(object_value.trim());\n}\n\n// Check emails\nexport function checkEmails(object_value, email_cnt) {\n    if (!object_value || object_value.length == 0)\n        return true;\n    var arEmails = object_value.replace(/,/g, \";\").split(\";\");\n    for (var i = 0, len = arEmails.length; i < len; i++) {\n        if (email_cnt > 0 && len > email_cnt)\n            return false;\n        if (!checkEmail(arEmails[i]))\n            return false;\n    }\n    return true;\n}\n\n// Check email\nexport function checkEmail(object_value) {\n    if (!object_value || object_value.length == 0)\n        return true;\n    return /^[\\w.%+-]+@[\\w.-]+\\.[A-Z]{2,18}$/i.test(object_value.trim());\n}\n\n// Check GUID {xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx}\nexport function checkGuid(object_value) {\n    if (!object_value || object_value.length == 0)\n        return true;\n    return /^(\\{\\w{8}-\\w{4}-\\w{4}-\\w{4}-\\w{12}\\}|\\w{8}-\\w{4}-\\w{4}-\\w{4}-\\w{12})$/.test(object_value.trim());\n}\n\n// Check by regular expression\nexport function checkByRegEx(object_value, pattern) {\n    if (!object_value || object_value.length == 0)\n        return true;\n    return !!object_value.match(pattern);\n}\n\n/**\n * Show message dialog\n *\n * @param {Event|string} arg - Event or message\n * @returns\n */\nexport function showMessage(arg) {\n    var win = window.parent, // Note: If a window does not have a parent, its parent property is a reference to itself.\n        p = arg?.target ?? win.document,\n        swal = win.Swal,\n        $div = $(p).find(\"div.ew-message-dialog:hidden\").first(),\n        msg = $div.length ? $div.text() : \"\"; // Text only\n    if ($.isString(arg))\n        msg = $(\"<div>\" + arg.trim() + \"</div>\").text();\n    if (msg.trim() == \"\")\n        return;\n    if ($div.length) {\n        [\"success\", \"info\", \"warning\", \"danger\"].forEach(function(value, index) {\n            var $alert = $div.find(\".alert-\" + value).toggleClass(\"alert-\" + value),\n                $heading = $alert.find(\".alert-heading\").detach(),\n                $content = $alert.children(\":not(.icon)\");\n            $alert.find(\".icon\").remove();\n            if ($alert[0]) {\n                var w = parseInt($content.css(\"width\"), 10); // Width specified\n                if (w > 0)\n                    $content.first().css(\"width\", \"auto\");\n                var $toast = toast({\n                    class: \"ew-toast bg-\" + value,\n                    title: $heading[0] ? $heading.html() : ew.language.phrase(value),\n                    body: $alert.html(),\n                    autohide: (value == \"success\") ? ew.autoHideSuccessMessage : false, // Autohide for success message\n                    delay: (value == \"success\") ? ew.autoHideSuccessMessageDelay: 500\n                });\n                if (w > 0)\n                    $toast.css(\"max-width\", w); // Override bootstrap .toast max-width\n                return;\n            }\n        });\n    }\n    if ($.isString(arg)) {\n        return swal.fire({\n            ...ew.sweetAlertSettings,\n            html: arg\n        });\n    }\n}\n\n// Random number\nexport function random() {\n    return Math.floor(Math.random() * 100001) + 100000;\n}\n\n// File upload\nexport function upload(input) {\n    var $input = $(input);\n    if ($input.data(\"blueimpFileupload\"))\n        return;\n    var id = $input.attr(\"name\"), nid = id.replace(/\\$/g, \"\\\\$\"), tbl = $input.data(\"table\"),\n        multiple = $input.is(\"[multiple]\"), $p = $input.closest(\".form-group, [id^='el']\"),\n        readonly = $input.prop(\"disabled\") || $input.closest(\"form\").find(\"#confirm\").val() == \"confirm\",\n        $ft = $p.find(\"#ft_\" + nid), $fn = $p.find(\"#fn_\" + nid), $fa = $p.find(\"#fa_\" + nid), $fs = $p.find(\"#fs_\" + nid),\n        $exts = $p.find(\"#fx_\" + nid), $maxsize = $p.find(\"#fm_\" + nid), $maxfilecount = $p.find(\"#fc_\" + nid),\n        $label = $p.find(\".custom-file-label\"), label = $label.html();\n    var _done = function(e, data) {\n        if (data.result.files[0].error)\n            return;\n        var name = data.result.files[0].name;\n        var ar = (multiple) ? ($fn.val() ? $fn.val().split(ew.MULTIPLE_UPLOAD_SEPARATOR) : []) : [];\n        ar.push(name);\n        $fn.val(ar.join(ew.MULTIPLE_UPLOAD_SEPARATOR));\n        $fa.val(\"0\");\n        if (!multiple) // Remove other entries if not multiple upload\n            $ft.children(\"tr:not(:last-child)\").remove();\n    };\n    var _deleted = function(e, data) {\n        var url = $(e.originalEvent.target).data(\"url\"),\n            param = new URLSearchParams(url.split(\"?\")[1]),\n            fid = param.get(\"id\"),\n            name = param.get(fid);\n        if (name) {\n            var ar = $fn.val() ? $fn.val().split(ew.MULTIPLE_UPLOAD_SEPARATOR) : [];\n            var index = ar.indexOf(name);\n            if (index > -1)\n                ar.splice(index, 1);\n            $fn.val(ar.join(ew.MULTIPLE_UPLOAD_SEPARATOR));\n            $fa.val(\"0\");\n        }\n    };\n    var _change = function(e, data) {\n        $ft.toggleClass(\"ew-has-rows\", data.files?.length > 0);\n        var ar = $fn.val() ? $fn.val().split(ew.MULTIPLE_UPLOAD_SEPARATOR) : [];\n        for (var i = 0; i < data.files.length; i++)\n            ar.push(data.files[i].name);\n        var cnt = parseInt($maxfilecount.val(), 10);\n        if ($.isNumber(cnt) && cnt > 0 && ar.length > cnt) {\n            _alert(ew.language.phrase(\"UploadErrMsgMaxNumberOfFiles\"));\n            return false;\n        }\n        var l = parseInt($fs.val(), 10);\n        if ($.isNumber(l) && l > 0 && ar.join(ew.MULTIPLE_UPLOAD_SEPARATOR).length > l) {\n            _alert(ew.language.phrase(\"UploadErrMsgMaxFileLength\"));\n            return false;\n        }\n    };\n    var _confirmDelete = function(e) {\n        if (!multiple && $fn.val()) {\n            if (!confirm(ew.language.phrase(\"UploadOverwrite\"))) {\n                e.preventDefault();\n                e.stopPropagation();\n            }\n        }\n    };\n    var _changed = function(e, data) {\n        $ft.toggleClass(\"ew-has-rows\", data.files?.length > 0 || data.result?.files?.length > 0);\n        var ar = $fn.val() ? $fn.val().split(ew.MULTIPLE_UPLOAD_SEPARATOR) : [];\n        $label.html(ar.join(\", \") || label);\n    };\n    var _clicked = function() {\n        $input.closest(\"span.fileinput-button\").tooltip(\"hide\");\n    };\n    // var _process = function(e, data) {\n    //     $ft.toggleClass(\"ew-has-rows\", data.files?.length > 0);\n    // };\n    var _downloadTemplate = $.templates(\"#template-download\");\n    var _uploadTemplate = $.templates(\"#template-upload\");\n    var _completed = function(e, data) { // After download template rendered\n        var e = { target: data.context };\n        initLightboxes(e);\n        initPdfObjects(e);\n        ew.updateDropdownPosition();\n        data.context.find(\"img\").on(\"load\", ew.updateDropdownPosition);\n    }\n    var _added = function(e, data) { // After upload template rendered\n        $ft.toggleClass(\"ew-has-rows\", data.files?.length > 0);\n        data.context.find(\".start\").click(_confirmDelete);\n    };\n    // Hide input button if readonly\n    var form = getForm(input), $form = $(form);\n    var readonly = $form.find(\"#confirm\").val() == \"confirm\";\n    if (readonly)\n        $form.find(\"span.fileinput-button\").hide();\n    var cnt = parseInt($maxfilecount.val(), 10);\n    var uploadUrl = getApiUrl(ew.API_JQUERY_UPLOAD_ACTION);\n    var formData = {\n        id: id,\n        table: tbl,\n        session: ew.SESSION_ID,\n        replace: (multiple ? \"0\" : \"1\"),\n        exts: $exts.val(),\n        maxsize: $maxsize.val(),\n        maxfilecount: $maxfilecount.val()\n    };\n    $input.fileupload({\n        url: uploadUrl,\n        type: \"POST\",\n        multipart: true,\n        autoUpload: true, // Comment out to disable auto upload\n        loadImageFileTypes: /^image\\/(gif|jpe?g|png)$/i,\n        loadVideoFileTypes: /^video\\/mp4$/i,\n        loadAudioFileTypes: /^audio\\/(mpeg|mp3)$/i,\n        acceptFileTypes: ($exts.val()) ? new RegExp('\\\\.(' + $exts.val().replace(/,/g, '|') + ')$', 'i') : null,\n        maxFileSize: parseInt($maxsize.val(), 10),\n        maxNumberOfFiles: (cnt > 1) ? cnt : null,\n        filesContainer: $ft,\n        formData: formData,\n        uploadTemplateId: null,\n        downloadTemplateId: null,\n        uploadTemplate: _uploadTemplate.render.bind(_uploadTemplate),\n        downloadTemplate: _downloadTemplate.render.bind(_downloadTemplate),\n        previewMaxWidth: ew.UPLOAD_THUMBNAIL_WIDTH,\n        previewMaxHeight: ew.UPLOAD_THUMBNAIL_HEIGHT,\n        dropZone: $p,\n        pasteZone: $p,\n        messages: {\n            acceptFileTypes: ew.language.phrase(\"UploadErrMsgAcceptFileTypes\"),\n            maxFileSize: ew.language.phrase(\"UploadErrMsgMaxFileSize\"),\n            maxNumberOfFiles: ew.language.phrase(\"UploadErrMsgMaxNumberOfFiles\"),\n            minFileSize: ew.language.phrase(\"UploadErrMsgMinFileSize\")\n        },\n        readOnly: readonly // Custom\n    }).on(\"fileuploaddone\", _done)\n        .on(\"fileuploaddestroy\", _deleted)\n        .on(\"fileuploadchange\", _change)\n        .on(\"fileuploadadded fileuploadfinished fileuploaddestroyed\", _changed)\n        //.on(\"fileuploadprocess\", _process)\n        .on('fileuploadadded', _added)\n        .on('fileuploadcompleted', _completed)\n        .click(_clicked);\n    if ($fn.val()) {\n        $.ajax({\n            url: uploadUrl,\n            data: { id: id, table: tbl, session: ew.SESSION_ID },\n            dataType: \"json\",\n            context: this,\n            success: function(result) {\n                if (result && result[id]) {\n                    var done = $input.fileupload(\"option\", \"done\");\n                    if (done)\n                        done.call(input, $.Event(), { result: { files: result[id] } }); // Use \"files\"\n                }\n                if (readonly) // Hide delete button if readonly\n                    $ft.find(\"td.delete\").hide();\n            }\n        });\n    }\n}\n\n/**\n * Convert data to number\n *\n * @param {*} data - Data being converted\n * @param {Object} [config] - Configuration\n * @param {string} config.decimalSeparator - Decimal separator\n * @param {string} config.thousandsSeparator - Thousands separator\n * @returns {(number|null)}\n */\nexport function parseNumber(data, config) {\n    if ($.isString(data)) {\n        config = config || {\"thousandsSeparator\": ew.THOUSANDS_SEP, \"decimalSeparator\": ew.DECIMAL_POINT};\n        var regexBits = [], regex, separator = config.thousandsSeparator, decimal = config.decimalSeparator;\n        if (separator)\n            regexBits.push(escapeRegExChars(separator) + \"(?=\\\\d)\");\n        regex = new RegExp(\"(?:\" + regexBits.join(\"|\") + \")\", \"g\");\n        if (decimal === \".\")\n            decimal = null;\n        data = data.replace(regex, \"\");\n        data = (decimal) ? data.replace(decimal, \".\") : data;\n    }\n    if ($.isString(data) && data.trim() !== \"\")\n        data = +data;\n    if (!$.isNumber || !isFinite(data)) // Catch NaN and Infinity\n        data = null;\n    return data;\n}\n\n/**\n * Format a Number to string for display\n *\n * @param {*} data - Data being converted\n * @param {Object} [config] - Configuration\n * @param {number} config.decimalPlaces - Number of decimal places to round. Must be a number 0 to 20.\n * @param {string} config.decimalSeparator - Decimal separator\n * @param {string} config.thousandsSeparator - Thousands separator\n * @returns {string} Note: null, undefined, NaN and \"\" returns as \"\".\n */\nexport function formatNumber(data, config) {\n    if ($.isNumber(data)) {\n        config = config || {\"thousandsSeparator\": ew.THOUSANDS_SEP, \"decimalSeparator\": ew.DECIMAL_POINT};\n        var isNeg = (data < 0), output = data + \"\", decPlaces = config.decimalPlaces,\n            decSep = config.decimalSeparator || \".\", thouSep = config.thousandsSeparator,\n            decIndex, newOutput, count, i;\n        if ($.isNumber(decPlaces) && (decPlaces >= 0) && (decPlaces <= 20)) // Decimal precision\n            output = data.toFixed(decPlaces);\n        if (decSep !== \".\") // Decimal separator\n            output = output.replace(\".\", decSep);\n        if (thouSep) { // Add the thousands separator\n            decIndex = output.lastIndexOf(decSep); // Find the dot or where it would be\n            decIndex = (decIndex > -1) ? decIndex : output.length;\n            newOutput = output.substring(decIndex); // Start with the dot and everything to the right\n            for (count = 0, i = decIndex; i > 0; i--) { // Working left, every third time add a separator, every time add a digit\n                if (count%3 === 0 && i !== decIndex && (!isNeg || i > 1))\n                    newOutput = thouSep + newOutput;\n                newOutput = output.charAt(i-1) + newOutput;\n                count++;\n            }\n            output = newOutput;\n        }\n        return output;\n    } else { // Not a Number, return as string\n        return ($.isValue(data) && data.toString) ? data.toString() : \"\";\n    }\n}\n\n/**\n * Convert data to Moment object (see http://momentjs.com/docs/)\n *\n * @param {*} data - Data being converted\n * @param {number} format - Date format matching server side FormatDateTime()\n * @returns {Moment}\n */\nexport function parseDate(data, format) {\n    var args = $.makeArray(arguments);\n    if ($.isNumber(format) && format >=0 && format <= 17) {\n        var f, def = ew.DATE_FORMAT.toUpperCase(), sep = ew.DATE_SEPARATOR, timesep = ew.TIME_SEPARATOR;\n        switch (format) {\n            case 0: case 1: case 2: case 8: f = def + \" HH\" + timesep + \"mm\" + timesep + \"ss\"; break; // ew.DATE_FORMAT + \" %H:%M:%S\"\n            case 3: f = \"hh:mm:ss A\"; break; // \"%I:%M:%S %p\"\n            case 4: f = \"HH:mm:ss\"; break; // \"%H:%M:%S\"\n            case 5: f = \"YYYY\" + sep + \"MM\" + sep + \"DD\"; break; // \"%Y\" + sep + \"%m\" + sep + \"%d\"\n            case 6: f = \"MM\" + sep + \"DD\" + sep + \"YYYY\"; break; // \"%m\" + sep + \"%d\" + sep + \"%Y\"\n            case 7: f = \"DD\" + sep + \"MM\" + sep + \"YYYY\"; break; // \"%d\" + sep + \"%m\" + sep + \"%Y\"\n            case 9: f = \"YYYY\" + sep + \"MM\" + sep + \"DD HH\" + timesep + \"mm\" + timesep + \"ss\"; break; // \"%Y\" + sep + \"%m\" + sep + \"%d %H:%M:%S\"\n            case 10: f = \"MM\" + sep + \"DD\" + sep + \"YYYY HH\" + timesep + \"mm\" + timesep + \"ss\"; break; // \"%m\" + sep + \"%d\" + sep + \"%Y %H:%M:%S\"\n            case 11: f = \"DD\" + sep + \"MM\" + sep + \"YYYY HH\" + timesep + \"mm\" + timesep + \"ss\"; break; // \"%d\" + sep + \"%m\" + sep + \"%Y %H:%M:%S\"\n            case 12: f = \"YY\" + sep + \"MM\" + sep + \"DD\"; break; // \"%y\" + sep + \"%m\" + sep + \"%d\"\n            case 13: f = \"MM\" + sep + \"DD\" + sep + \"YY\"; break; // \"%m\" + sep + \"%d\" + sep + \"%y\"\n            case 14: f = \"DD\" + sep + \"MM\" + sep + \"YY\"; break; // \"%d\" + sep + \"%m\" + sep + \"%y\"\n            case 15: f = \"YY\" + sep + \"MM\" + sep + \"DD HH\" + timesep + \"mm\" + timesep + \"ss\"; break; // \"%y\" + sep + \"%m\" + sep + \"%d %H:%M:%S\"\n            case 16: f = \"MM\" + sep + \"DD\" + sep + \"YY HH\" + timesep + \"mm\" + timesep + \"ss\"; break; // \"%m\" + sep + \"%d\" + sep + \"%y %H:%M:%S\"\n            case 17: f = \"DD\" + sep + \"MM\" + sep + \"YY HH\" + timesep + \"mm\" + timesep + \"ss\"; break; // \"%d\" + sep + \"%m\" + sep + \"%y %H:%M:%S\"\n        }\n        args[1] = [f, \"YYYY-MM-DD HH\" + timesep + \"mm\" + timesep + \"ss\"];\n    }\n    return moment.apply(this, args);\n}\n\n/**\n * Format date time\n *\n * @param {*} data - Date being formatted\n * @param {string} format - Date format (see http://momentjs.com/docs/#/displaying/format/)\n * @returns {string}\n */\nexport function formatDate(data, format) {\n    return moment(data).format(format || ew.DATE_FORMAT.toUpperCase());\n}\n\n/**\n * Init page\n *\n * @param {Event|undefined} e - Event\n */\nexport function initPage(e) {\n    var el = (e && e.target) ? e.target : document,\n        $el = $(el),\n        $tables = $el.find(\"table.ew-table:not(.ew-export-table)\");\n    Array.prototype.forEach.call(el.querySelectorAll(\".ew-grid-upper-panel, .ew-grid-lower-panel\"), ew.initGridPanel); // Init grid panels\n    ew.renderJsTemplates(e);\n    lazyLoad(e);\n    initForms(e);\n    initTooltips(e);\n    initPasswordOptions(e);\n    initIcons(e);\n    initLightboxes(e);\n    initPdfObjects(e);\n    $el.find(\"[data-widget='treeview']\").each(function() {\n        adminlte.Treeview._jQueryInterface.call($(this), \"init\");\n    });\n    $tables.each(setupTable); // Init tables\n    $el.find(\".ew-btn-dropdown\").on(\"shown.bs.dropdown\", function() {\n        var $this = $(this).removeClass(\"dropup\"),\n            $window = $(window),\n            $menu = $this.find(\"> .dropdown-menu\");\n        $this.toggleClass(\"dropup\", $menu.offset().top + $menu.height() > $window.scrollTop() + $window.height());\n    });\n    $el.find(\"input[name=pageno]\").keypress(function(e) {\n        if (e.which == 13) {\n            currentUrl.searchParams.append(this.name, parseInt(this.value));\n            window.location = currentUrl.toString();\n            return false;\n        }\n    });\n    if (!ew.IS_SCREEN_SM_MIN) {\n        $el.find(\".\" + ew.RESPONSIVE_TABLE_CLASS + \" [data-toggle='dropdown']\").parent().on(\"shown.bs.dropdown\", function() {\n            var $this = $(this),\n                $menu = $this.find(\".dropdown-menu\"),\n                div = $this.closest(\".\" + ew.RESPONSIVE_TABLE_CLASS)[0];\n            if (div.scrollHeight - div.clientHeight) {\n                var d = $menu.offset().top + $menu.outerHeight() - $(div).offset().top - div.clientHeight;\n                if (d > 0)\n                    $menu.css(ew.CSS_FLIP ? \"right\" : \"left\", \"100%\").css(\"top\", parseFloat($menu.css(\"top\")) - d);\n            }\n        });\n    }\n    initExportLinks(e);\n    initMultiSelectCheckboxes(e);\n\n    // Report\n    var $rpt = $el.find(\".ew-report\");\n    if ($rpt[0]) {\n        $rpt.find(\".card\").on(\"collapsed.lte.widget\", function() { // Fix min-height when .lte.widget is collapsed\n            var $card = $(this), $div = $card.closest(\"[class^='col-']\"), mh = $div.css(\"min-height\");\n            if (mh)\n                $div.data(\"min-height\", mh);\n            $div.css(\"min-height\", 0);\n        }).on(\"expanded.lte.widget\", function() { // Fix min-height when .lte.widget is expanded\n            var $card = $(this), $div = $card.closest(\"[class^='col-']\"), mh = $div.css(\"min-height\");\n            if (mh)\n                $div.css(\"min-height\", mh); // Restore min-height\n        });\n        // Group expand/collapse button\n        $rpt.find(\"span.ew-group-toggle\").on(\"click\", function() {\n            ew.toggleGroup(this);\n        });\n    }\n\n    // Show message\n    if (typeof ew.USE_JAVASCRIPT_MESSAGE != \"undefined\" && ew.USE_JAVASCRIPT_MESSAGE)\n        showMessage(e);\n}\n\n// Redirect by HTTP GET or POST\nexport function redirect(url, f, method) {\n    var ar = url.split(\"?\"),\n        params = new URLSearchParams(ar[1]);\n    params.set(ew.TOKEN_NAME_KEY, ew.TOKEN_NAME); // PHP\n    params.set(ew.ANTIFORGERY_TOKEN_KEY, ew.ANTIFORGERY_TOKEN); // PHP\n    if (sameText(method, \"post\")) { // POST\n        var $form = (f) ? $(f) : $(\"<form></form>\").appendTo(\"body\");\n        $form.attr({ action: ar[0], method: \"post\" });\n        params.forEach(function(value, key) {\n            $('<input type=\"hidden\">').attr({ name: key, value: sanitize(value) }).appendTo($form);\n        });\n        $form.submit();\n    } else { // GET\n        var search = params.toString();\n        window.location = ar[0] + (search ? \"?\" + search : \"\");\n    }\n}\n\n// Show/Hide password\nexport function togglePassword(e) {\n    var $btn = $(e.currentTarget), $input = $btn.closest(\".input-group\").find(\"input\"), $i = $btn.find(\"i\");\n    if ($input.attr(\"type\") == \"text\") {\n        $input.attr(\"type\", \"password\");\n        $i.toggleClass(\"fa-eye-slash fa-eye\");\n    } else if($input.attr(\"type\") == \"password\"){\n        $input.attr(\"type\", \"text\");\n        $i.toggleClass(\"fa-eye-slash fa-eye\");\n    }\n}\n\n// Export with charts\nexport function exportWithCharts(e, url, exportId, f) {\n    var el = e.target,\n        exportUrl = new URL(window.location.href),\n        ar = url.split(\"?\"),\n        $el = $(el), method = (f) ? \"post\" : \"get\";\n\n    exportId += \"_\" + Date.now();\n    exportUrl.pathname = ar[0];\n    exportUrl.search = ar[1];\n    exportUrl.searchParams.set(\"exportid\", exportId);\n\n    if ($el.is(\".dropdown-menu a\"))\n        $el = $el.closest(\".btn-group\");\n\n    var _export = function() {\n        var params = exportUrl.searchParams,\n            custom = params.get(\"custom\") == \"1\";\n        if (f && !custom) { // Not custom\n            var data = $(f).serialize(); // Add token\n            $.post(exportUrl, data, function(result) {\n                showMessage(result);\n            });\n        } else { // Custom\n            var exp = params.get(\"export\");\n            if (custom && [\"word\", \"excel\", \"pdf\", \"email\"].includes(exp)) {\n                if (exp == \"email\") {\n                    params.delete(\"export\"); // Remove duplicate export=email (exists in form)\n                    exportUrl.search = params.toString() + \"&\" + $(f).serialize();\n                }\n                $(\"iframe.ew-export\").remove();\n                $(\"<iframe></iframe>\").addClass(\"ew-export d-none\").attr(\"src\", exportUrl.toString()).appendTo($body.css(\"cursor\", \"wait\"));\n                setTimeout(function() { $body.css(\"cursor\", \"default\"); }, 5000);\n            } else if (exp == \"print\") {\n                redirect(exportUrl.toString(), f, method);\n            } else {\n                fileDownload(exportUrl.toString(), null);\n            }\n        }\n        return false;\n    };\n\n    var keys = Object.keys(window.exportCharts);\n    if (keys.length == 0) // No charts, just submit the form\n        return _export();\n\n    // Success callback\n    var success = function(result) {\n        if ($.isString(result))\n            result = parseJson(result);\n        if (result.success) {\n            _export();\n        } else {\n            ew.alert(result.error);\n        }\n    };\n\n    // Failure callback\n    var fail = function(xhr, status, error) {\n        ew.alert(error + \": \" + xhr.responseText); // Show detailed export error message\n    };\n\n    // Export charts\n    $body.css(\"cursor\", \"wait\");\n    var charts = [];\n    for (var i = 0; i < keys.length; i++) {\n        var id = keys[i], o = window.exportCharts[id],\n            params = \"exportfilename=\" + exportId + \"_\" + id + \".png|exportformat=png|exportaction=download|exportparameters=undefined\";\n        if (o && o.toBase64Image) // Chart.js chart\n            charts.push({ \"chart_engine\": \"Chart.js\", \"stream_type\": \"base64\", \"stream\": o.toBase64Image(), \"parameters\": params });\n    }\n    $.ajax({\n        \"url\": getApiUrl(ew.API_EXPORT_CHART_ACTION),\n        \"data\": { \"charts\": JSON.stringify(charts) },\n        \"cache\": false,\n        \"type\": \"POST\"\n    }).done(success).fail(fail).always(function() {\n        $body.css(\"cursor\", \"default\");\n    });\n    return false;\n}\n\n// Layout\nvar _fixLayoutHeightTimer;\n\n// Fix layout height\nexport function fixLayoutHeight() {\n    if (_fixLayoutHeightTimer)\n        _fixLayoutHeightTimer.cancel(); // Clear timer\n    _fixLayoutHeightTimer = $.later(50, null, function () {\n        var layout = $body.data(\"lte.layout\");\n        if (layout)\n            layout.fixLayoutHeight();\n    });\n}\n\n// Add user event handlers\nexport function addEventHandlers(tblVar) {\n    let fields = ew.events[tblVar];\n    if (fields) {\n        for (var [fldVar, events] of Object.entries(fields))\n            $('[data-table=' + tblVar + '][data-field=' + fldVar + ']').on(events);\n    }\n}","import $ from 'jquery';\nimport MultiPage from \"./multipage\";\nimport * as Validators from './Validators';\nimport Form from \"./Form\";\nimport * as functions from './functions';\n\new.IS_SCREEN_SM_MIN = window.matchMedia(\"(min-width: 768px)\").matches; // Should matches $screen-sm-min\new.MOBILE_DETECT = new MobileDetect(window.navigator.userAgent);\new.IS_MOBILE = !!ew.MOBILE_DETECT.mobile();\new.IS_IE = ew.MOBILE_DETECT.version(\"MSIE\") > 0;\n\n// Charts\nwindow.exportCharts = {}; // Per window\nwindow.drillDownCharts = {}; // Per window\n\n// Init spinner\new.addSpinner();\n\n// Extend\nObject.assign(ew, { MultiPage, Form, Validators }, functions);\n\nvar $document = $(document);\n\n// Init document\nloadjs.ready(\"load\", function () {\n\t$.views.settings.debugMode(ew.DEBUG);\n\tew.setSessionTimer();\n\tew.initPage();\n\t$(\"#ew-modal-dialog\").on(\"load.ew\", ew.initPage);\n\t$(\"#ew-add-opt-dialog\").on(\"load.ew\", ew.initPage);\n\tvar hash = ew.currentUrl.searchParams.get(\"hash\");\n\tif (hash)\n\t\t$(\"html, body\").animate({ scrollTop: $(\"#\" + hash).offset().top }, 800);\n\tew.removeSpinner();\n\t$document.trigger(\"load\");\n});\n\n// Default \"addoption\" event (fired before adding new option to selection list)\n$document.on(\"addoption\", function (e, args) {\n\tvar row = args.data; // New row to be validated\n\tvar arp = args.parents; // Parent field values\n\tfor (var i = 0, cnt = arp.length; i < cnt; i++) { // Iterate parent values\n\t\tvar p = arp[i];\n\t\tif (!p.length) // Empty parent\n\t\t\t//continue; // Allow\n\t\t\treturn args.valid = false; // Disallow\n\t\tvar val = row[\"ff\" + ((i > 0) ? i + 1 : \"\")]; // Filter fields start from the 6th field\n\t\tif (!$.isUndefined(val) && !p.includes(String(val))) // Filter field value not in parent field values\n\t\t\treturn args.valid = false; // Returns false if invalid\n\t}\n});\n\n// Fix z-index of multiple modals\n$document.on(\"show.bs.modal\", \".modal\", function () {\n\tvar zIndex = 1050 + $(\".modal:visible\").length;\n\t$(this).css(\"z-index\", zIndex);\n\tsetTimeout(function () {\n\t\t$(\".modal-backdrop\").not(\".modal-stack\").css(\"z-index\", zIndex - 1).addClass(\"modal-stack\");\n\t}, 0);\n});\n\n// Fix scrolling of multiple modals\n$document.on(\"hidden.bs.modal\", \".modal\", function () {\n\t$(\".modal:visible\").length && $(\"body\").addClass(\"modal-open\");\n});","import $ from 'jquery';\n\n// Extend jQuery\n$.extend({\n\tisBoolean: function(o) {\n\t\treturn typeof o === 'boolean';\n\t},\n\tisNull: function(o) {\n\t\treturn o === null;\n\t},\n\tisNumber: function(o) {\n\t\treturn typeof o === 'number' && isFinite(o);\n\t},\n\tisObject: function(o) {\n\t\treturn (o && (typeof o === 'object' || this.isFunction(o))) || false;\n\t},\n\tisString: function(o) {\n\t\treturn typeof o === 'string';\n\t},\n\tisUndefined: function(o) {\n\t\treturn typeof o === 'undefined';\n\t},\n\tisValue: function(o) {\n\t\treturn (this.isObject(o) || this.isString(o) || this.isNumber(o) || this.isBoolean(o));\n\t},\n\tisDate: function(o) {\n\t\treturn this.type(o) === 'date' && o.toString() !== 'Invalid Date' && !isNaN(o);\n\t},\n\tlater: function(when, o, fn, data, periodic) {\n\t\twhen = when || 0;\n\t\to = o || {};\n\t\tvar m = fn, d = data, f, r;\n\t\tif (this.isString(fn))\n\t\t\tm = o[fn];\n\t\tif (!m)\n\t\t\treturn;\n\t\tif (!this.isUndefined(data) && !this.isArray(d))\n\t\t\td = [data];\n\t\tf = function() {\n\t\t\tm.apply(o, d || []);\n\t\t};\n\t\tr = (periodic) ? setInterval(f, when) : setTimeout(f, when);\n\t\treturn {\n\t\t\tinterval: periodic,\n\t\t\tcancel: function() {\n\t\t\t\tif (this.interval) {\n\t\t\t\t\tclearInterval(r);\n\t\t\t\t} else {\n\t\t\t\t\tclearTimeout(r);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n});","import $ from 'jquery';\n\n/**\n * jQuery.fields() plugin\n *\n * @param {string|undefined} fldvar - Field variable name or undefined\n *  If field variable name, returns jQuery object of the specified field element(s).\n *  If unspecified, returns object of jQuery objects of all fields.\n * @returns jQuery object\n */\n$.fn.fields = function(fldvar) { // Note: fldvar has NO \"x_\" prefix\n    var rec = {},\n        id = this.attr(\"id\"),\n        obj = this[0],\n        m = id.match(/^[xy](\\d*)_/),\n        f, tbl, infix;\n    if (m) { // \"this\" is input element\n        f = ew.getForm(obj); // form\n        tbl = this.data(\"table\"); // table var\n        infix = m[1]; // row index\n    } else if (obj && obj.htmlForm) { // \"this\" is form\n        f = obj.$element; // form\n        tbl = obj.id.replace(new RegExp(\"^f|\" + obj.pageId + \"$\", \"g\"), \"\"); // table var\n        infix = $(obj.htmlForm).data(\"rowindex\"); // row index\n    }\n    var selector = \"[data-table\" + (tbl ? \"=\" + tbl : \"\") + \"][data-field\" + (fldvar ? \"=x_\" + fldvar : \"\") + \"]\";\n    if ($.isValue(infix))\n        selector += \"[name^=x\" + infix + \"_]\";\n    if (f && selector) {\n        $(f).find(selector).each(function() {\n            var key = this.getAttribute(\"data-field\").substr(2), name = this.getAttribute(\"name\");\n            key = (/^y_/.test(name)) ? \"y_\" + key : key; // Use \"y_fldvar\" as key for 2nd search input\n            rec[key] = (rec[key]) ? rec[key].add(this) : $(this); // Create jQuery object for each field\n        });\n    }\n    return (fldvar) ? rec[fldvar] : rec;\n};\n$.fn.extend({\n    // Get jQuery object of the row (<div> or <tr>)\n    row: function() {\n        var $row = this.closest(\"#r_\" + this.data(\"field\")?.substr(2));\n        if (!$row[0])\n            $row = this.closest(\".ew-table > tbody > tr\"); // Grid page\n        return $row;\n    },\n    // Show/Hide field\n    visible: function(v) {\n        var $p = this.closest(\"#r_\" + this.data(\"field\")?.substr(2)); // Find the row\n        if (!$p[0])\n            $p = this.closest(\"[id^=el]\"); // Find the span\n        if (typeof(v) != \"undefined\") {\n            $p.toggle(v);\n            return this;\n        } else {\n            return $el.is(\":visible\");\n        }\n    },\n    // Get/Set field \"readonly\" attribute\n    // Note: This attribute is ignored if the value of the type attribute is hidden, range, color, checkbox, radio, file, or a button type\n    readonly: function(v) {\n        if (typeof(v) != \"undefined\") {\n            this.prop(\"readOnly\", v);\n            return this;\n        } else {\n            return this.prop(\"readOnly\");\n        }\n    },\n    // Get/Set field \"disabled\" attribute\n    // Note: A disabled control's value isn't submitted with the form\n    disabled: function(v) {\n        if (typeof(v) != \"undefined\") {\n            this.prop(\"disabled\", v);\n            return this;\n        } else {\n            return this.prop(\"disabled\");\n        }\n    },\n    // Get/Set field value(s)\n    // Note: Return array if select-multiple\n    value: function(v) {\n        var type = this.attr(\"type\");\n        if (typeof(v) != \"undefined\") {\n            if (!Array.isArray(v))\n                v = [v];\n            var type = this.attr(\"type\");\n            var el = (type == \"radio\" || type == \"checkbox\") ? this.get() : this[0];\n            if (ew.isHiddenTextArea(this)) {\n                this.val(v).data(\"editor\").save();\n            } else {\n                ew.selectOption(el, v);\n                if (this.hasClass(\"select2-hidden-accessible\")) { // Select2\n                    this.trigger(\"change\");\n                }\n            }\n            return this;\n        } else {\n            if (type == \"checkbox\") {\n                var val = ew.getOptionValues(this.get());\n                return (this.length == 1) ? val.join() : val;\n            } else if (type == \"radio\") {\n                return ew.getOptionValues(this.get()).join();\n            } else if (ew.isHiddenTextArea(this)) {\n                this.data(\"editor\").save();\n                return this.val();\n            } else {\n                return this.val();\n            }\n        }\n    },\n    // Get field value as number\n    toNumber: function() {\n        return ew.parseNumber(this.value());\n    },\n    // Get field value as moment object\n    toDate: function() {\n        return ew.parseDate(this.value(), this.data(\"format\"));\n    },\n    // Get field value as native Date object\n    toJsDate: function() {\n        return ew.parseDate(this.value(), this.data(\"format\")).toDate();\n    }\n});","import $ from 'jquery';\r\n\r\n// Init Treeview later\r\n$(window).off(\"load.lte.treeview\");\r\n\r\n// Treeview\r\nvar Treeview = adminlte.Treeview;\r\nTreeview.prototype._toggle = Treeview.prototype.toggle;\r\nTreeview.prototype.toggle = function toggle(event) {\r\n\tvar $relativeTarget = $(event.currentTarget), treeviewMenu = $relativeTarget.next(),\r\n\t\thref = $relativeTarget.attr(\"href\"), $text = $(event.target).closest(\".menu-item-text\");\r\n\tif (!treeviewMenu.is(\".nav-treeview\") || $text[0] && href && href != \"#\" && href != \"javascript:void(0);\") // Menu text with href\r\n\t\treturn;\r\n\tthis._toggle(event);\r\n};\r\n\r\n// Dropdown menu parent item with href // Override AdminLTE\r\n$(\"ul.dropdown-menu [data-toggle=dropdown]\").on(\"click\", function(e) {\r\n\tvar href = $(this).attr(\"href\");\r\n\tif (href && href != \"#\" && e.target.nodeName == \"SPAN\")\r\n\t\twindow.location = href;\r\n});"],"names":["undefined","require$$0","Blob","FormData","prototype","keys","normalizeValue","value","filename","File","type","lastModified","ensureArgs","args","expected","length","TypeError","normalizeArgs","name","String","normalizeLinefeeds","replace","each","arr","cb","i","global","window","self","this","_FormData","_send","XMLHttpRequest","send","_fetch","Request","fetch","_sendBeacon","navigator","sendBeacon","stringTag","Symbol","toStringTag","a","b","d","c","blob","t","Date","Object","defineProperties","lastModifiedDate","toString","defineProperty","FormDataPolyfill","form","_data","create","elements","elm","disabled","files","file","append","options","opt","selected","checked","arguments","apply","map","push","delete","entries","forEach","callback","thisArg","call","get","getAll","has","set","values","fd","boundary","Math","random","chunks","iterator","setRequestHeader","toLowerCase","_hasContentType","data","input","init","body","url","MultiPage","formid","$form","formID","pageIndex","maxPageIndex","minPageIndex","pageIndexes","$pages","$collapses","isTab","isCollapse","lastPageSubmit","hideDisabledButton","hideInactivePages","lockTabs","hideTabs","showPagerTop","showPagerBottom","pagerTemplate","_show","e","preventDefault","_properties","$","isObject","obj","p","substr","includes","tpl","ew","language","phrase","closest","before","after","find","click","off","filter","parent","prev","toggleClass","next","hide","pageShow","on","$this","hasClass","$btn","prop","toggle","is","gotoPage","$page","eq","$p","gotoPageByIndex","gotoPageByElement","el","parseInt","gotoPageByElementId","id","$el","togglePage","show","render","index","sort","$tabs","target","attr","m","googleMaps","google","maps","event","trigger","setCenter","$bodies","userLevelId","checkInteger","level","userLevelName","elId","document","getElementById","trim","sameText","required","fieldName","css","hasValue","fileRequired","elFn","mismatchPassword","startsWith","elPwd","between","x","z","val","passwordStrength","isMaskedPassword","username","raw","match","RegExp","escapeRegExChars","INVALID_USERNAME_CHARACTERS","password","ENCRYPTED_PASSWORD","INVALID_PASSWORD_CHARACTERS","email","getValue","checkEmail","emails","cnt","err","checkEmails","datetime","dateFormat","fn","phraseId","newSubStr","DATE_SEPARATOR","checkShortDate","checkDate","checkShortEuroDate","checkEuroDate","checkShortUSDate","checkUSDate","checkDateDef","DATE_FORMAT","time","checkTime","float","checkNumber","range","min","max","checkRange","integer","phone","checkPhone","zip","checkZip","creditCard","checkCreditCard","ssn","checkSsn","guid","checkGuid","regex","pattern","checkByRegEx","custom","captcha","recaptcha","grecaptcha","getResponse","dataset","FormBase","pageId","_initiated","$element","htmlForm","initSearchPanel","modified","validateRequired","validate","emptyRow","multiPage","autoSuggests","lists","disableForm","getForm","addClass","enableForm","removeClass","appendHidden","$dp","ar","serializeArray","o","appendTo","canSubmit","updateTextArea","$dps","dp","j","test","$els","not","submit","action","getList","compileTemplates","list","template","isString","templates","getElement","getElements","selector","updateLists","rowindex","isNumber","confirm","querySelector","removeSpinner","fixId","multiple","split","prefix","endsWith","join","actions","promises","parents","parentFields","slice","ajax","isBoolean","pvalues","getOptionValues","updateOptions","Promise","resolve","reject","setTimeout","shift","AJAX_DELAY","all","then","source","catch","error","console","log","createAutoSuggest","settings","assign","limit","AUTO_SUGGEST_MAX_ENTRIES","autoSuggestSettings","AutoSuggest","initEditors","ed","active","save","destroyEditor","destroy","onError","msg","initUpload","later","upload","setupFilters","filters","filterList","$sf","$df","$delete","$save","saveFilters","SEARCH_FILTER_OPTION","localStorage","setItem","JSON","stringify","$body","currentPage","dataType","done","result","success","always","prompt","sanitize","prevAll","remove","$submenu","Array","isArray","splice","insertBefore","method","TOKEN_NAME_KEY","TOKEN_NAME","ANTIFORGERY_TOKEN_KEY","ANTIFORGERY_TOKEN","IS_LOGGEDIN","IS_SYS_ADMIN","CURRENT_USER_NAME","item","getItem","parseJson","grep","isSearch","hasFormData","collapse","text","loadjs","ready","bind","$tab","getAttribute","$panel","$container","width","CONFIRM_CANCEL","href","location","forms","add","Field","fldvar","validators","invalid","validator","addValidator","addError","_error","clearErrors","clearValidators","_element","shouldValidate","updateFeedback","errorMessage","jQuery","html","setInvalid","focus","setFocus","from","_checkbox","Form","addField","fields","getField","addFields","field","addCustomError","makeVisible","element","$pane","validateFields","rowIndex","row","AjaxLookup","elementId","formElement","pf","debounce","recordCount","formatResult","isAutoSuggest","jsRenderHelpers","displayValue","generateRequest","page","LANGUAGE_ID","getUserParams","arp","MULTIPLE_OPTION_SEPARATOR","getUrl","query","start","params","URLSearchParams","q","n","rnd","getApiUrl","API_LOOKUP_ACTION","prepare","transform","results","totalRecordCount","records","_isAutoSuggest","SelectionListOption","emptyObj","typeahead","$input","timer","minWidth","maxHeight","highlight","hint","minLength","delay","display","forceSelection","forceSelect","setValue","v","findIndex","option","syncResults","asyncResults","cancel","count","menu","$node","more","ta","datasets","_append","scrollTop","$lastSuggestion","outerHeight","change","isOpen","empty","$item","getActiveSelectable","blur","close","async","$more","one","stopPropagation","$menu","$dataset","Forms","_forms","f","ids","Utils","Select2CustomOption","decorated","$results","displayMessage","escapeMarkup","clear","hideLoading","$message","message","className","children","select2","cols","len","$row","last","$option","createElement","attrs","matches","Element","msMatchesSelector","webkitMatchesSelector","_resultId","title","setAttribute","StoreData","currentUrl","URL","$document","_removeSpinner","frm","createSelect","selectId","amd","require","opts","ResultsList","InfiniteScroll","HidePlaceholder","SelectOnClose","selectOptions","resultsAdapter","dropdown","columns","customOption","Decorate","getSelect2CustomOptionClass","iconClass","templateResult","placeholder","selectOnClose","lookup","term","processResults","lf","df","df2","df3","df4","pagination","minimumResultsForSearch","Infinity","initIcons","tooltip","container","IS_MOBILE","placement","sanitizeFn","initPasswordOptions","pStrength","MIN_PASSWORD_STRENGTH","strength","percentage","$pst","$pb","outerWidth","pct","pGenerator","GENERATE_PASSWORD_LENGTH","GENERATE_PASSWORD_UPPERCASE","GENERATE_PASSWORD_LOWERCASE","GENERATE_PASSWORD_NUMBER","GENERATE_PASSWORD_SPECIALCHARS","pwd","triggerHandler","PATH_BASE","API_URL","USE_URL_REWRITE","route","encodeURIComponent","API_ACTION_NAME","qs","setSessionTimer","timeoutTime","keepAliveTimer","counter","useKeepAlive","SESSION_KEEP_ALIVE_INTERVAL","IS_AUTOLOGIN","keepAlive","API_SESSION_ACTION","token","resetTimer","SESSION_TIMEOUT_COUNTDOWN","SESSION_TIMEOUT","timeout","timerInterval","floor","Swal","fire","sweetAlertSettings","showConfirmButton","confirmButtonText","timerProgressBar","allowOutsideClick","allowEscapeKey","onBeforeOpen","setInterval","content","getContent","sec","timeleft","round","getTimerLeft","textContent","onClose","clearInterval","setTimer","dismiss","DismissReason","TIMEOUT_URL","keepAliveInterval","initExportLinks","fileDownload","initMultiSelectCheckboxes","$cbs","_update","win","jq","swal","doc","$doc","isHtml","showLoading","cache","xhrFields","responseType","textStatus","jqXHR","createObjectURL","cd","getResponseHeader","style","download","appendChild","revokeObjectURL","fail","showValidationMessage","response","lazyLoad","LAZY_LOAD","src","updateDropdownPosition","select","_positionDropdown","_resizeDropdown","initLightboxes","USE_COLORBOX","lightboxSettings","current","previous","xhrError","imgError","colorbox","rel","initPdfObjects","EMBED_PDF","PDFObjectOptions","PDFObject","embed","fallbackLink","initTooltips","popover","parse","searchOperatorChanged","parm","$fld","$fld2","$y","hasY","$cond","hasCond","$and","$opr","opr","$opr2","opr2","isBetween","isNullOpr","isNullOpr2","hideOpr2","hideX","hideY","initForms","_prompt","showCancelButton","isFunction","cancelButtonText","inputValidator","toast","toastOptions","Toasts","position","toUpperCase","substring","first","showToast","class","autohide","autoHideSuccessMessage","autoHideSuccessMessageDelay","$f","els","setSearchType","parentId","isUndefined","childFields","promise","getId","names","$elf","typ","elf","_updateOptions","autoFillTargetFields","autoFill","fo","frmo","$obj","clearOptions","addOpt","valid","newOption","selectOption","_updateSibling","lookupOptions","ds","isModalLookup","root","key","applyTemplate","divId","tmplId","classId","exportType","enabled","replaceWith","querySelectorAll","subtmpl","rowspan","childNodes","node","rowSpan","views","scripts","div","innerHTML","tmpl","_alert","$meta","$div","PDF_STYLESHEET_FILENAME","PROJECT_STYLESHEET_FILENAME","responseText","str","searchParams","param","post","showMessage","toggleGroup","$tr","idx","isValue","convertToBool","valueChanged","fobj","infix","fld","bool","nelm","oelm","fnelm","oldvalue","newvalue","setLanguage","search","submitAction","srcElement","currentForm","isPost","isMultiple","keySelected","_success","_submit","k","serialize","_export","sel","end","removeSpaces","isHiddenTextArea","clearError","jquery","isHidden","shiftKey","ctrlKey","confirmDelete","clickDelete","clearDelete","selectAllKey","selectAll","tbl","tBodies","rows","r","$r","setColor","updateSelected","$tbl","ROWTYPE_ADD","ROWTYPE_EDIT","clearSelected","siblings","addBack","clickMultiCheckbox","$cb","setupTable","force","$rows","mouseOver","mouseOut","$target","cells","parentsUntil","RESPONSIVE_TABLE_CLASS","clientHeight","offsetHeight","attach","edit","sw","setupGrid","grid","$grid","multi","rowcnt","USE_OVERLAY_SCROLLBARS","overlayScrollbars","overlayScrollbarsOptions","addGridRow","$tpl","$lastrow","clone","suffix","$elkeycnt","keycnt","attributes","removeData","addScript","scrollHeight","deleteGridRow","rowidx","keycntname","_delete","$keyact","htmlEncode","table","getAncestorBy","parentNode","nodeType","classList","contains","o1","o2","sameString","getOptionTexts","lo","hasAttribute","removeAll","valueSeparator","sep","optionHtml","OPTION_HTML_TEMPLATE","optionsHtml","MAX_OPTION_COUNT","df1","selectedIndex","vals","isAutoSelect","ajaxSend","jqxhr","apiUrl","isApi","allowed","objUrl","hostname","API_JWT_TOKEN","IS_WINDOWS_AUTHENTICATION","API_JWT_AUTHORIZATION_HEADER","ajaxStart","addSpinner","_ajaxStop","ajaxStop","ajaxError","executeScript","matchAll","stripScript","scr","removeScript","getOptions","addOptionDialogShow","_hide","$dlg","unbind","addOptionDialog","_submitSuccess","lnk","objName","API_OBJECT_NAME","re","modal","linkField","dfs","displayFields","ffs","filterFields","pfs","lfv","ff","txt","$lu","nv","arOpt","obj2","ar2","description","failureMessage","_fail","status","statusText","btn","API_ADD_ACTION","filterFieldVars","keypress","which","nodeName","modalDialogHide","$bd","ewjtable","reload","modalDialogShow","modalDialog","showing","size","_caption","$lnk","caption","_button","isNull","_always","_current","pathname","view","footer","cf","ct","alert","modalLookupShow","modalLookupDialog","oid","_format","setAutoSuggest","txts","useText","srch","record","arLinkValue","_timer","$search","LOOKUP_DELAY","linkValue","paging","pageSize","pageSizes","pageSizeChangeArea","pageList","selecting","selectingCheckboxes","multiselect","postData","jtParams","recperpage","messages","serverCommunicationError","loadingMessage","spinnerClass","noDataAvailable","pagingInfo","pageSizeChangeLabel","gotoPageLabel","recordsLoaded","selectedRows","selectionChanged","indexOf","importDialogShow","importDialog","$data","$progress","enableButtons","classname","$msg","hideMessage","showProgress","pc","hideProgress","uploadProgress","loaded","total","updateProgress","tcnt","totalCount","importProgress","API_PROGRESS_ACTION","API_FILE_TOKEN_NAME","importComplete","maxErrorCount","fileResults","fileResult","scnt","successCount","fcnt","failCount","showLog","failList","ecnt","importFail","importFiles","filetoken","xhr","formData","session","SESSION_ID","importUploadOptions","acceptFileTypes","IMPORT_FILE_ALLOWED_EXT","fileupload","API_UPLOAD_ACTION","autoUpload","singleFileUploads","maxFileSize","maxNumberOfFiles","minFileSize","importfiles","ok","processfail","errorThrown","progressall","hdr","dest_array","destEl","v0","pid","$tt","trig","dir","CSS_FLIP","wd","$tip","getTipElement","emailDialogShow","emailDialog","Validators","MAX_EMAIL_RECIPIENT","exportid","exportWithCharts","showDrillDown","arUrl","redirect","pos","height","ypos","offset","top","pageY","xpos","left","pageX","drillDownCharts","cht","dispose","_convert","responseJSON","toggleSearchOperator","object_value","checkDateEx","format","arDT","sYear","sMonth","sDay","exec","wrksep","arD","unformatYear","checkDay","yr","UNFORMAT_YEAR","checkYear","checkMonth","maxDay","DECIMAL_POINT","ts","THOUSANDS_SEP","stringToFloat","parseFloat","stringToDate","min_value","max_value","TIME_SEPARATOR","creditcard_string","doubledigit","tempdigit","checkdigit","charAt","email_cnt","arEmails","arg","$alert","$heading","detach","$content","w","$toast","nid","readonly","$ft","$fn","$fa","$fs","$exts","$maxsize","$maxfilecount","$label","label","_done","MULTIPLE_UPLOAD_SEPARATOR","_deleted","originalEvent","fid","_change","l","_confirmDelete","_changed","_clicked","_downloadTemplate","_uploadTemplate","_completed","context","_added","uploadUrl","API_JQUERY_UPLOAD_ACTION","exts","maxsize","maxfilecount","multipart","loadImageFileTypes","loadVideoFileTypes","loadAudioFileTypes","filesContainer","uploadTemplateId","downloadTemplateId","uploadTemplate","downloadTemplate","previewMaxWidth","UPLOAD_THUMBNAIL_WIDTH","previewMaxHeight","UPLOAD_THUMBNAIL_HEIGHT","dropZone","pasteZone","readOnly","Event","parseNumber","config","regexBits","separator","thousandsSeparator","decimal","decimalSeparator","isFinite","formatNumber","isNeg","output","decPlaces","decimalPlaces","decSep","thouSep","decIndex","newOutput","toFixed","lastIndexOf","parseDate","makeArray","def","timesep","moment","formatDate","initPage","$tables","initGridPanel","renderJsTemplates","adminlte","Treeview","_jQueryInterface","$window","IS_SCREEN_SM_MIN","$rpt","$card","mh","USE_JAVASCRIPT_MESSAGE","togglePassword","currentTarget","$i","exportId","exportUrl","now","exp","exportCharts","charts","toBase64Image","API_EXPORT_CHART_ACTION","_fixLayoutHeightTimer","fixLayoutHeight","layout","addEventHandlers","tblVar","events","fldVar","matchMedia","MOBILE_DETECT","MobileDetect","userAgent","mobile","IS_IE","version","functions","debugMode","DEBUG","hash","animate","zIndex","extend","isDate","isNaN","when","periodic","interval","clearTimeout","rec","visible","toNumber","toDate","toJsDate","_toggle","$relativeTarget","treeviewMenu","$text"],"mappings":"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"}